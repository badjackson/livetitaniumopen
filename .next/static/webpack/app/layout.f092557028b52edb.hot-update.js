"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"de3b6cf6f740\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6IjtBQUFBLCtEQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/OTU4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcImRlM2I2Y2Y2Zjc0MFwiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx":
/*!************************************************************!*\
  !*** ./src/components/providers/FirestoreSyncProvider.tsx ***!
  \************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FirestoreSyncProvider; },\n/* harmony export */   useFirestore: function() { return /* binding */ useFirestore; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/firestore-services */ \"(app-pages-browser)/./src/lib/firestore-services.ts\");\n/* __next_internal_client_entry_do_not_use__ useFirestore,default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\nconst FirestoreContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useFirestore() {\n    _s();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(FirestoreContext);\n    if (context === undefined) {\n        throw new Error(\"useFirestore must be used within a FirestoreSyncProvider\");\n    }\n    return context;\n}\n_s(useFirestore, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction writeAndDispatch(key, value) {\n    if (false) {}\n    const json = JSON.stringify(value);\n    localStorage.setItem(key, json);\n    // synthetic storage event so existing listeners react immediately\n    window.dispatchEvent(new StorageEvent(\"storage\", {\n        key,\n        newValue: json\n    }));\n}\nfunction FirestoreSyncProvider(param) {\n    let { children } = param;\n    _s1();\n    // State\n    const [hourlyEntries, setHourlyEntries] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [bigCatches, setBigCatches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [competitors, setCompetitors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [judges, setJudges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [competitionSettings, setCompetitionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [publicAppearanceSettings, setPublicAppearanceSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [auditLogs, setAuditLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let unsubscribers = [];\n        try {\n            // Subscribe to hourly entries\n            const unHourly = _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.HourlyEntryService.subscribeToHourlyEntries((rows)=>{\n                setHourlyEntries(rows);\n                // Sync to localStorage for compatibility\n                const hourly = {};\n                for (const r of rows){\n                    var _r_timestamp;\n                    var _hourly, _sector, _hourly_sector, _hour;\n                    const sector = r.sector;\n                    const hour = r.hour;\n                    const cId = r.competitorId;\n                    if (!sector || !hour || !cId) continue;\n                    var _;\n                    (_ = (_hourly = hourly)[_sector = sector]) !== null && _ !== void 0 ? _ : _hourly[_sector] = {};\n                    var _1;\n                    (_1 = (_hourly_sector = hourly[sector])[_hour = hour]) !== null && _1 !== void 0 ? _1 : _hourly_sector[_hour] = {};\n                    hourly[sector][hour][cId] = {\n                        competitorId: cId,\n                        boxNumber: r.boxNumber,\n                        fishCount: r.fishCount,\n                        totalWeight: r.totalWeight,\n                        status: r.status,\n                        source: r.source,\n                        timestamp: ((_r_timestamp = r.timestamp) === null || _r_timestamp === void 0 ? void 0 : _r_timestamp.toDate) ? r.timestamp.toDate() : r.timestamp\n                    };\n                }\n                writeAndDispatch(\"hourlyData\", hourly);\n            }, (err)=>{\n                console.warn(\"Firestore hourly_entries subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur hourly entries: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unHourly);\n            // Subscribe to big catches\n            const unBig = _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.BigCatchService.subscribeToBigCatches((rows)=>{\n                setBigCatches(rows);\n                // Sync to localStorage for compatibility\n                const big = {};\n                for (const r of rows){\n                    var _r_timestamp;\n                    var _big, _sector;\n                    const sector = r.sector;\n                    const cId = r.competitorId;\n                    if (!sector || !cId) continue;\n                    var _;\n                    (_ = (_big = big)[_sector = sector]) !== null && _ !== void 0 ? _ : _big[_sector] = {};\n                    big[sector][cId] = {\n                        competitorId: cId,\n                        boxNumber: r.boxNumber,\n                        biggestCatch: r.biggestCatch,\n                        status: r.status,\n                        source: r.source,\n                        timestamp: ((_r_timestamp = r.timestamp) === null || _r_timestamp === void 0 ? void 0 : _r_timestamp.toDate) ? r.timestamp.toDate() : r.timestamp\n                    };\n                }\n                writeAndDispatch(\"grossePriseData\", big);\n            }, (err)=>{\n                console.warn(\"Firestore big_catches subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur big catches: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unBig);\n            // Subscribe to competitors\n            const unCompetitors = _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.CompetitorService.subscribeToCompetitors((rows)=>{\n                setCompetitors(rows);\n                writeAndDispatch(\"competitors\", rows);\n            }, (err)=>{\n                console.warn(\"Firestore competitors subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur competitors: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unCompetitors);\n            // Subscribe to judges\n            const unJudges = _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.JudgeService.subscribeToJudges((rows)=>{\n                setJudges(rows);\n                writeAndDispatch(\"judges\", rows);\n            }, (err)=>{\n                console.warn(\"Firestore judges subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur judges: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unJudges);\n            // Subscribe to competition settings\n            const unSettings = _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.CompetitionSettingsService.subscribeToSettings((rows)=>{\n                const settings = rows;\n                setCompetitionSettings(settings);\n                if (settings) {\n                    writeAndDispatch(\"competitionSettings\", settings);\n                }\n            }, (err)=>{\n                console.warn(\"Firestore competition_settings subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur settings: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unSettings);\n            // Subscribe to public appearance settings\n            const unAppearance = _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.PublicAppearanceService.subscribeToSettings((rows)=>{\n                const settings = rows;\n                setPublicAppearanceSettings(settings);\n                if (settings) {\n                    writeAndDispatch(\"publicAppearanceSettings\", settings);\n                }\n            }, (err)=>{\n                console.warn(\"Firestore public_appearance_settings subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur appearance: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unAppearance);\n            // Subscribe to audit logs\n            const unAudit = _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.AuditLogService.subscribeToAuditLogs((rows)=>{\n                setAuditLogs(rows);\n            }, (err)=>{\n                console.warn(\"Firestore audit_logs subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur audit: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unAudit);\n            setIsLoading(false);\n        } catch (e) {\n            console.warn(\"Firestore sync init failed:\", e);\n            setError(\"Erreur d'initialisation: \".concat(e));\n            setIsLoading(false);\n        }\n        return ()=>{\n            unsubscribers.forEach((unsub)=>{\n                try {\n                    unsub();\n                } catch (e) {\n                    console.warn(\"Error unsubscribing:\", e);\n                }\n            });\n        };\n    }, []);\n    // Action handlers\n    const saveHourlyEntry = async (data)=>{\n        try {\n            await _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.HourlyEntryService.saveHourlyEntry(data);\n        } catch (error) {\n            console.error(\"Error saving hourly entry:\", error);\n            throw error;\n        }\n    };\n    const saveBigCatch = async (data)=>{\n        try {\n            await _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.BigCatchService.saveBigCatch(data);\n        } catch (error) {\n            console.error(\"Error saving big catch:\", error);\n            throw error;\n        }\n    };\n    const saveCompetitor = async (data)=>{\n        try {\n            await _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.CompetitorService.saveCompetitor(data);\n        } catch (error) {\n            console.error(\"Error saving competitor:\", error);\n            throw error;\n        }\n    };\n    const saveJudge = async (data)=>{\n        try {\n            await _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.JudgeService.saveJudge(data);\n        } catch (error) {\n            console.error(\"Error saving judge:\", error);\n            throw error;\n        }\n    };\n    const saveCompetitionSettings = async (data)=>{\n        try {\n            await _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.CompetitionSettingsService.saveSettings(data);\n        } catch (error) {\n            console.error(\"Error saving competition settings:\", error);\n            throw error;\n        }\n    };\n    const savePublicAppearanceSettings = async (data)=>{\n        try {\n            await _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.PublicAppearanceService.saveSettings(data);\n        } catch (error) {\n            console.error(\"Error saving public appearance settings:\", error);\n            throw error;\n        }\n    };\n    const auditLog = async (data)=>{\n        try {\n            // Get current user info for audit logging\n            const userId = \"system\"; // TODO: Get from auth context\n            const userEmail = \"system@app.com\"; // TODO: Get from auth context\n            await _lib_firestore_services__WEBPACK_IMPORTED_MODULE_2__.AuditLogService.logAuditAction({\n                ...data,\n                userId,\n                userEmail\n            });\n        } catch (error) {\n            console.error(\"Error logging audit action:\", error);\n            throw error;\n        }\n    };\n    const contextValue = {\n        // Data\n        hourlyEntries,\n        bigCatches,\n        competitors,\n        judges,\n        competitionSettings,\n        publicAppearanceSettings,\n        auditLogs,\n        // Actions\n        saveHourlyEntry,\n        saveBigCatch,\n        saveCompetitor,\n        saveJudge,\n        saveCompetitionSettings,\n        savePublicAppearanceSettings,\n        auditLog,\n        // Status\n        isLoading,\n        error\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FirestoreContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/providers/FirestoreSyncProvider.tsx\",\n        lineNumber: 329,\n        columnNumber: 5\n    }, this);\n}\n_s1(FirestoreSyncProvider, \"q+tGzZQC0A00oyxFWg2PI//I+9Y=\");\n_c = FirestoreSyncProvider;\nvar _c;\n$RefreshReg$(_c, \"FirestoreSyncProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9GaXJlc3RvcmVTeW5jUHJvdmlkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBRWtGO0FBU2hEO0FBbUNsQyxNQUFNVyxpQ0FBbUJYLG9EQUFhQSxDQUFtQ1k7QUFFbEUsU0FBU0M7O0lBQ2QsTUFBTUMsVUFBVWIsaURBQVVBLENBQUNVO0lBQzNCLElBQUlHLFlBQVlGLFdBQVc7UUFDekIsTUFBTSxJQUFJRyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT0Q7QUFDVDtHQU5nQkQ7QUFRaEIsU0FBU0csaUJBQWlCQyxHQUFXLEVBQUVDLEtBQVU7SUFDL0MsSUFBSSxLQUFrQixFQUFhLEVBQU87SUFDMUMsTUFBTUMsT0FBT0MsS0FBS0MsU0FBUyxDQUFDSDtJQUM1QkksYUFBYUMsT0FBTyxDQUFDTixLQUFLRTtJQUMxQixrRUFBa0U7SUFDbEVLLE9BQU9DLGFBQWEsQ0FBQyxJQUFJQyxhQUFhLFdBQVc7UUFBRVQ7UUFBS1UsVUFBVVI7SUFBSztBQUN6RTtBQUVlLFNBQVNTLHNCQUFzQixLQUFxQztRQUFyQyxFQUFFQyxRQUFRLEVBQTJCLEdBQXJDOztJQUM1QyxRQUFRO0lBQ1IsTUFBTSxDQUFDQyxlQUFlQyxpQkFBaUIsR0FBRzVCLCtDQUFRQSxDQUFtQixFQUFFO0lBQ3ZFLE1BQU0sQ0FBQzZCLFlBQVlDLGNBQWMsR0FBRzlCLCtDQUFRQSxDQUFnQixFQUFFO0lBQzlELE1BQU0sQ0FBQytCLGFBQWFDLGVBQWUsR0FBR2hDLCtDQUFRQSxDQUFrQixFQUFFO0lBQ2xFLE1BQU0sQ0FBQ2lDLFFBQVFDLFVBQVUsR0FBR2xDLCtDQUFRQSxDQUFhLEVBQUU7SUFDbkQsTUFBTSxDQUFDbUMscUJBQXFCQyx1QkFBdUIsR0FBR3BDLCtDQUFRQSxDQUFnQztJQUM5RixNQUFNLENBQUNxQywwQkFBMEJDLDRCQUE0QixHQUFHdEMsK0NBQVFBLENBQXFDO0lBQzdHLE1BQU0sQ0FBQ3VDLFdBQVdDLGFBQWEsR0FBR3hDLCtDQUFRQSxDQUFnQixFQUFFO0lBQzVELE1BQU0sQ0FBQ3lDLFdBQVdDLGFBQWEsR0FBRzFDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQzJDLE9BQU9DLFNBQVMsR0FBRzVDLCtDQUFRQSxDQUFnQjtJQUVsREQsZ0RBQVNBLENBQUM7UUFDUixJQUFJOEMsZ0JBQWdDLEVBQUU7UUFFdEMsSUFBSTtZQUNGLDhCQUE4QjtZQUM5QixNQUFNQyxXQUFXN0MsdUVBQWtCQSxDQUFDOEMsd0JBQXdCLENBQzFELENBQUNDO2dCQUNDcEIsaUJBQWlCb0I7Z0JBRWpCLHlDQUF5QztnQkFDekMsTUFBTUMsU0FBYyxDQUFDO2dCQUNyQixLQUFLLE1BQU1DLEtBQUtGLEtBQU07d0JBY1BFO3dCQVRiRCxTQUFPRSxTQUNQRixnQkFBZUc7b0JBTGYsTUFBTUQsU0FBU0QsRUFBRUMsTUFBTTtvQkFDdkIsTUFBTUMsT0FBT0YsRUFBRUUsSUFBSTtvQkFDbkIsTUFBTUMsTUFBTUgsRUFBRUksWUFBWTtvQkFDMUIsSUFBSSxDQUFDSCxVQUFVLENBQUNDLFFBQVEsQ0FBQ0MsS0FBSzs7b0JBQzlCSixNQUFBQSxVQUFBQSxPQUFNLENBQUNFLFVBQUFBLE9BQU8saUNBQWRGLE9BQU0sQ0FBQ0UsUUFBTyxHQUFLLENBQUM7O29CQUNwQkYsT0FBQUEsaUJBQUFBLE1BQU0sQ0FBQ0UsT0FBTyxFQUFDQyxRQUFBQSxLQUFLLG1DQUFwQkgsY0FBYyxDQUFDRyxNQUFLLEdBQUssQ0FBQztvQkFDMUJILE1BQU0sQ0FBQ0UsT0FBTyxDQUFDQyxLQUFLLENBQUNDLElBQUksR0FBRzt3QkFDMUJDLGNBQWNEO3dCQUNkRSxXQUFXTCxFQUFFSyxTQUFTO3dCQUN0QkMsV0FBV04sRUFBRU0sU0FBUzt3QkFDdEJDLGFBQWFQLEVBQUVPLFdBQVc7d0JBQzFCQyxRQUFRUixFQUFFUSxNQUFNO3dCQUNoQkMsUUFBUVQsRUFBRVMsTUFBTTt3QkFDaEJDLFdBQVdWLEVBQUFBLGVBQUFBLEVBQUVVLFNBQVMsY0FBWFYsbUNBQUFBLGFBQWFXLE1BQU0sSUFBR1gsRUFBRVUsU0FBUyxDQUFDQyxNQUFNLEtBQUtYLEVBQUVVLFNBQVM7b0JBQ3JFO2dCQUNGO2dCQUNBL0MsaUJBQWlCLGNBQWNvQztZQUNqQyxHQUNBLENBQUNhO2dCQUNDQyxRQUFRQyxJQUFJLENBQUMsNkNBQTZDRixDQUFBQSxnQkFBQUEsMEJBQUFBLElBQUtHLElBQUksTUFBSUgsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUlKO2dCQUN2RmxCLFNBQVMsMEJBQTBELE9BQWhDa0IsQ0FBQUEsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUk7WUFDckQ7WUFFRnJCLGNBQWNzQixJQUFJLENBQUNyQjtZQUVuQiwyQkFBMkI7WUFDM0IsTUFBTXNCLFFBQVFsRSxvRUFBZUEsQ0FBQ21FLHFCQUFxQixDQUNqRCxDQUFDckI7Z0JBQ0NsQixjQUFja0I7Z0JBRWQseUNBQXlDO2dCQUN6QyxNQUFNc0IsTUFBVyxDQUFDO2dCQUNsQixLQUFLLE1BQU1wQixLQUFLRixLQUFNO3dCQVdQRTt3QkFQYm9CLE1BQUluQjtvQkFISixNQUFNQSxTQUFTRCxFQUFFQyxNQUFNO29CQUN2QixNQUFNRSxNQUFNSCxFQUFFSSxZQUFZO29CQUMxQixJQUFJLENBQUNILFVBQVUsQ0FBQ0UsS0FBSzs7b0JBQ3JCaUIsTUFBQUEsT0FBQUEsSUFBRyxDQUFDbkIsVUFBQUEsT0FBTyxpQ0FBWG1CLElBQUcsQ0FBQ25CLFFBQU8sR0FBSyxDQUFDO29CQUNqQm1CLEdBQUcsQ0FBQ25CLE9BQU8sQ0FBQ0UsSUFBSSxHQUFHO3dCQUNqQkMsY0FBY0Q7d0JBQ2RFLFdBQVdMLEVBQUVLLFNBQVM7d0JBQ3RCZ0IsY0FBY3JCLEVBQUVxQixZQUFZO3dCQUM1QmIsUUFBUVIsRUFBRVEsTUFBTTt3QkFDaEJDLFFBQVFULEVBQUVTLE1BQU07d0JBQ2hCQyxXQUFXVixFQUFBQSxlQUFBQSxFQUFFVSxTQUFTLGNBQVhWLG1DQUFBQSxhQUFhVyxNQUFNLElBQUdYLEVBQUVVLFNBQVMsQ0FBQ0MsTUFBTSxLQUFLWCxFQUFFVSxTQUFTO29CQUNyRTtnQkFDRjtnQkFDQS9DLGlCQUFpQixtQkFBbUJ5RDtZQUN0QyxHQUNBLENBQUNSO2dCQUNDQyxRQUFRQyxJQUFJLENBQUMsMENBQTBDRixDQUFBQSxnQkFBQUEsMEJBQUFBLElBQUtHLElBQUksTUFBSUgsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUlKO2dCQUNwRmxCLFNBQVMsdUJBQXVELE9BQWhDa0IsQ0FBQUEsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUk7WUFDbEQ7WUFFRnJCLGNBQWNzQixJQUFJLENBQUNDO1lBRW5CLDJCQUEyQjtZQUMzQixNQUFNSSxnQkFBZ0JyRSxzRUFBaUJBLENBQUNzRSxzQkFBc0IsQ0FDNUQsQ0FBQ3pCO2dCQUNDaEIsZUFBZWdCO2dCQUNmbkMsaUJBQWlCLGVBQWVtQztZQUNsQyxHQUNBLENBQUNjO2dCQUNDQyxRQUFRQyxJQUFJLENBQUMsMENBQTBDRixDQUFBQSxnQkFBQUEsMEJBQUFBLElBQUtHLElBQUksTUFBSUgsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUlKO2dCQUNwRmxCLFNBQVMsdUJBQXVELE9BQWhDa0IsQ0FBQUEsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUk7WUFDbEQ7WUFFRnJCLGNBQWNzQixJQUFJLENBQUNLO1lBRW5CLHNCQUFzQjtZQUN0QixNQUFNRSxXQUFXdEUsaUVBQVlBLENBQUN1RSxpQkFBaUIsQ0FDN0MsQ0FBQzNCO2dCQUNDZCxVQUFVYztnQkFDVm5DLGlCQUFpQixVQUFVbUM7WUFDN0IsR0FDQSxDQUFDYztnQkFDQ0MsUUFBUUMsSUFBSSxDQUFDLHFDQUFxQ0YsQ0FBQUEsZ0JBQUFBLDBCQUFBQSxJQUFLRyxJQUFJLE1BQUlILGdCQUFBQSwwQkFBQUEsSUFBS0ksT0FBTyxLQUFJSjtnQkFDL0VsQixTQUFTLGtCQUFrRCxPQUFoQ2tCLENBQUFBLGdCQUFBQSwwQkFBQUEsSUFBS0ksT0FBTyxLQUFJO1lBQzdDO1lBRUZyQixjQUFjc0IsSUFBSSxDQUFDTztZQUVuQixvQ0FBb0M7WUFDcEMsTUFBTUUsYUFBYXZFLCtFQUEwQkEsQ0FBQ3dFLG1CQUFtQixDQUMvRCxDQUFDN0I7Z0JBQ0MsTUFBTThCLFdBQVc5QjtnQkFDakJaLHVCQUF1QjBDO2dCQUN2QixJQUFJQSxVQUFVO29CQUNaakUsaUJBQWlCLHVCQUF1QmlFO2dCQUMxQztZQUNGLEdBQ0EsQ0FBQ2hCO2dCQUNDQyxRQUFRQyxJQUFJLENBQUMsbURBQW1ERixDQUFBQSxnQkFBQUEsMEJBQUFBLElBQUtHLElBQUksTUFBSUgsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUlKO2dCQUM3RmxCLFNBQVMsb0JBQW9ELE9BQWhDa0IsQ0FBQUEsZ0JBQUFBLDBCQUFBQSxJQUFLSSxPQUFPLEtBQUk7WUFDL0M7WUFFRnJCLGNBQWNzQixJQUFJLENBQUNTO1lBRW5CLDBDQUEwQztZQUMxQyxNQUFNRyxlQUFlekUsNEVBQXVCQSxDQUFDdUUsbUJBQW1CLENBQzlELENBQUM3QjtnQkFDQyxNQUFNOEIsV0FBVzlCO2dCQUNqQlYsNEJBQTRCd0M7Z0JBQzVCLElBQUlBLFVBQVU7b0JBQ1pqRSxpQkFBaUIsNEJBQTRCaUU7Z0JBQy9DO1lBQ0YsR0FDQSxDQUFDaEI7Z0JBQ0NDLFFBQVFDLElBQUksQ0FBQyx5REFBeURGLENBQUFBLGdCQUFBQSwwQkFBQUEsSUFBS0csSUFBSSxNQUFJSCxnQkFBQUEsMEJBQUFBLElBQUtJLE9BQU8sS0FBSUo7Z0JBQ25HbEIsU0FBUyxzQkFBc0QsT0FBaENrQixDQUFBQSxnQkFBQUEsMEJBQUFBLElBQUtJLE9BQU8sS0FBSTtZQUNqRDtZQUVGckIsY0FBY3NCLElBQUksQ0FBQ1k7WUFFbkIsMEJBQTBCO1lBQzFCLE1BQU1DLFVBQVV6RSxvRUFBZUEsQ0FBQzBFLG9CQUFvQixDQUNsRCxDQUFDakM7Z0JBQ0NSLGFBQWFRO1lBQ2YsR0FDQSxDQUFDYztnQkFDQ0MsUUFBUUMsSUFBSSxDQUFDLHlDQUF5Q0YsQ0FBQUEsZ0JBQUFBLDBCQUFBQSxJQUFLRyxJQUFJLE1BQUlILGdCQUFBQSwwQkFBQUEsSUFBS0ksT0FBTyxLQUFJSjtnQkFDbkZsQixTQUFTLGlCQUFpRCxPQUFoQ2tCLENBQUFBLGdCQUFBQSwwQkFBQUEsSUFBS0ksT0FBTyxLQUFJO1lBQzVDO1lBRUZyQixjQUFjc0IsSUFBSSxDQUFDYTtZQUVuQnRDLGFBQWE7UUFDZixFQUFFLE9BQU93QyxHQUFHO1lBQ1ZuQixRQUFRQyxJQUFJLENBQUMsK0JBQStCa0I7WUFDNUN0QyxTQUFTLDRCQUE4QixPQUFGc0M7WUFDckN4QyxhQUFhO1FBQ2Y7UUFFQSxPQUFPO1lBQ0xHLGNBQWNzQyxPQUFPLENBQUNDLENBQUFBO2dCQUNwQixJQUFJO29CQUNGQTtnQkFDRixFQUFFLE9BQU9GLEdBQUc7b0JBQ1ZuQixRQUFRQyxJQUFJLENBQUMsd0JBQXdCa0I7Z0JBQ3ZDO1lBQ0Y7UUFDRjtJQUNGLEdBQUcsRUFBRTtJQUVMLGtCQUFrQjtJQUNsQixNQUFNRyxrQkFBa0IsT0FBT0M7UUFDN0IsSUFBSTtZQUNGLE1BQU1yRix1RUFBa0JBLENBQUNvRixlQUFlLENBQUNDO1FBQzNDLEVBQUUsT0FBTzNDLE9BQU87WUFDZG9CLFFBQVFwQixLQUFLLENBQUMsOEJBQThCQTtZQUM1QyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNNEMsZUFBZSxPQUFPRDtRQUMxQixJQUFJO1lBQ0YsTUFBTXBGLG9FQUFlQSxDQUFDcUYsWUFBWSxDQUFDRDtRQUNyQyxFQUFFLE9BQU8zQyxPQUFPO1lBQ2RvQixRQUFRcEIsS0FBSyxDQUFDLDJCQUEyQkE7WUFDekMsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTTZDLGlCQUFpQixPQUFPRjtRQUM1QixJQUFJO1lBQ0YsTUFBTW5GLHNFQUFpQkEsQ0FBQ3FGLGNBQWMsQ0FBQ0Y7UUFDekMsRUFBRSxPQUFPM0MsT0FBTztZQUNkb0IsUUFBUXBCLEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU04QyxZQUFZLE9BQU9IO1FBQ3ZCLElBQUk7WUFDRixNQUFNbEYsaUVBQVlBLENBQUNxRixTQUFTLENBQUNIO1FBQy9CLEVBQUUsT0FBTzNDLE9BQU87WUFDZG9CLFFBQVFwQixLQUFLLENBQUMsdUJBQXVCQTtZQUNyQyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNK0MsMEJBQTBCLE9BQU9KO1FBQ3JDLElBQUk7WUFDRixNQUFNakYsK0VBQTBCQSxDQUFDc0YsWUFBWSxDQUFDTDtRQUNoRCxFQUFFLE9BQU8zQyxPQUFPO1lBQ2RvQixRQUFRcEIsS0FBSyxDQUFDLHNDQUFzQ0E7WUFDcEQsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTWlELCtCQUErQixPQUFPTjtRQUMxQyxJQUFJO1lBQ0YsTUFBTWhGLDRFQUF1QkEsQ0FBQ3FGLFlBQVksQ0FBQ0w7UUFDN0MsRUFBRSxPQUFPM0MsT0FBTztZQUNkb0IsUUFBUXBCLEtBQUssQ0FBQyw0Q0FBNENBO1lBQzFELE1BQU1BO1FBQ1I7SUFDRjtJQUVBLE1BQU1rRCxXQUFXLE9BQU9QO1FBQ3RCLElBQUk7WUFDRiwwQ0FBMEM7WUFDMUMsTUFBTVEsU0FBUyxVQUFVLDhCQUE4QjtZQUN2RCxNQUFNQyxZQUFZLGtCQUFrQiw4QkFBOEI7WUFFbEUsTUFBTXhGLG9FQUFlQSxDQUFDeUYsY0FBYyxDQUFDO2dCQUNuQyxHQUFHVixJQUFJO2dCQUNQUTtnQkFDQUM7WUFDRjtRQUNGLEVBQUUsT0FBT3BELE9BQU87WUFDZG9CLFFBQVFwQixLQUFLLENBQUMsK0JBQStCQTtZQUM3QyxNQUFNQTtRQUNSO0lBQ0Y7SUFFQSxNQUFNc0QsZUFBcUM7UUFDekMsT0FBTztRQUNQdEU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFFQSxVQUFVO1FBQ1Y4QztRQUNBRTtRQUNBQztRQUNBQztRQUNBQztRQUNBRTtRQUNBQztRQUVBLFNBQVM7UUFDVHBEO1FBQ0FFO0lBQ0Y7SUFFQSxxQkFDRSw4REFBQ25DLGlCQUFpQjBGLFFBQVE7UUFBQ25GLE9BQU9rRjtrQkFDL0J2RTs7Ozs7O0FBR1A7SUE1UXdCRDtLQUFBQSIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9wcm92aWRlcnMvRmlyZXN0b3JlU3luY1Byb3ZpZGVyLnRzeD8zZmFlIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSwgUmVhY3ROb2RlIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgXG4gIEhvdXJseUVudHJ5U2VydmljZSxcbiAgQmlnQ2F0Y2hTZXJ2aWNlLFxuICBDb21wZXRpdG9yU2VydmljZSxcbiAgSnVkZ2VTZXJ2aWNlLFxuICBDb21wZXRpdGlvblNldHRpbmdzU2VydmljZSxcbiAgUHVibGljQXBwZWFyYW5jZVNlcnZpY2UsXG4gIEF1ZGl0TG9nU2VydmljZVxufSBmcm9tICdAL2xpYi9maXJlc3RvcmUtc2VydmljZXMnO1xuaW1wb3J0IHR5cGUgeyBcbiAgSG91cmx5RW50cnlEb2MsIFxuICBCaWdDYXRjaERvYywgXG4gIENvbXBldGl0b3JEb2MsIFxuICBKdWRnZURvYywgXG4gIENvbXBldGl0aW9uU2V0dGluZ3NEb2MsIFxuICBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MsXG4gIEF1ZGl0TG9nRG9jXG59IGZyb20gJ0AvbGliL2ZpcmVzdG9yZS1zZXJ2aWNlcyc7XG5cbmludGVyZmFjZSBGaXJlc3RvcmVDb250ZXh0VHlwZSB7XG4gIC8vIERhdGFcbiAgaG91cmx5RW50cmllczogSG91cmx5RW50cnlEb2NbXTtcbiAgYmlnQ2F0Y2hlczogQmlnQ2F0Y2hEb2NbXTtcbiAgY29tcGV0aXRvcnM6IENvbXBldGl0b3JEb2NbXTtcbiAganVkZ2VzOiBKdWRnZURvY1tdO1xuICBjb21wZXRpdGlvblNldHRpbmdzOiBDb21wZXRpdGlvblNldHRpbmdzRG9jIHwgbnVsbDtcbiAgcHVibGljQXBwZWFyYW5jZVNldHRpbmdzOiBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MgfCBudWxsO1xuICBhdWRpdExvZ3M6IEF1ZGl0TG9nRG9jW107XG4gIFxuICAvLyBBY3Rpb25zXG4gIHNhdmVIb3VybHlFbnRyeTogKGRhdGE6IE9taXQ8SG91cmx5RW50cnlEb2MsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IFByb21pc2U8dm9pZD47XG4gIHNhdmVCaWdDYXRjaDogKGRhdGE6IE9taXQ8QmlnQ2F0Y2hEb2MsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IFByb21pc2U8dm9pZD47XG4gIHNhdmVDb21wZXRpdG9yOiAoZGF0YTogT21pdDxDb21wZXRpdG9yRG9jLCAnbGFzdFVwZGF0ZSc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlSnVkZ2U6IChkYXRhOiBPbWl0PEp1ZGdlRG9jLCAnbGFzdFVwZGF0ZSc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlQ29tcGV0aXRpb25TZXR0aW5nczogKGRhdGE6IE9taXQ8Q29tcGV0aXRpb25TZXR0aW5nc0RvYywgJ3VwZGF0ZWRBdCc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzOiAoZGF0YTogT21pdDxQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MsICd1cGRhdGVkQXQnPikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgYXVkaXRMb2c6IChkYXRhOiB7IGFjdGlvbjogc3RyaW5nOyBkZXRhaWxzOiBzdHJpbmc7IG1ldGFkYXRhPzogYW55IH0pID0+IFByb21pc2U8dm9pZD47XG4gIFxuICAvLyBTdGF0dXNcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn1cblxuY29uc3QgRmlyZXN0b3JlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8RmlyZXN0b3JlQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGaXJlc3RvcmUoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEZpcmVzdG9yZUNvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VGaXJlc3RvcmUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEZpcmVzdG9yZVN5bmNQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG5mdW5jdGlvbiB3cml0ZUFuZERpc3BhdGNoKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGpzb24pO1xuICAvLyBzeW50aGV0aWMgc3RvcmFnZSBldmVudCBzbyBleGlzdGluZyBsaXN0ZW5lcnMgcmVhY3QgaW1tZWRpYXRlbHlcbiAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IFN0b3JhZ2VFdmVudCgnc3RvcmFnZScsIHsga2V5LCBuZXdWYWx1ZToganNvbiB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpcmVzdG9yZVN5bmNQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XG4gIC8vIFN0YXRlXG4gIGNvbnN0IFtob3VybHlFbnRyaWVzLCBzZXRIb3VybHlFbnRyaWVzXSA9IHVzZVN0YXRlPEhvdXJseUVudHJ5RG9jW10+KFtdKTtcbiAgY29uc3QgW2JpZ0NhdGNoZXMsIHNldEJpZ0NhdGNoZXNdID0gdXNlU3RhdGU8QmlnQ2F0Y2hEb2NbXT4oW10pO1xuICBjb25zdCBbY29tcGV0aXRvcnMsIHNldENvbXBldGl0b3JzXSA9IHVzZVN0YXRlPENvbXBldGl0b3JEb2NbXT4oW10pO1xuICBjb25zdCBbanVkZ2VzLCBzZXRKdWRnZXNdID0gdXNlU3RhdGU8SnVkZ2VEb2NbXT4oW10pO1xuICBjb25zdCBbY29tcGV0aXRpb25TZXR0aW5ncywgc2V0Q29tcGV0aXRpb25TZXR0aW5nc10gPSB1c2VTdGF0ZTxDb21wZXRpdGlvblNldHRpbmdzRG9jIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MsIHNldFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc10gPSB1c2VTdGF0ZTxQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2F1ZGl0TG9ncywgc2V0QXVkaXRMb2dzXSA9IHVzZVN0YXRlPEF1ZGl0TG9nRG9jW10+KFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IHVuc3Vic2NyaWJlcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XG5cbiAgICB0cnkge1xuICAgICAgLy8gU3Vic2NyaWJlIHRvIGhvdXJseSBlbnRyaWVzXG4gICAgICBjb25zdCB1bkhvdXJseSA9IEhvdXJseUVudHJ5U2VydmljZS5zdWJzY3JpYmVUb0hvdXJseUVudHJpZXMoXG4gICAgICAgIChyb3dzKSA9PiB7XG4gICAgICAgICAgc2V0SG91cmx5RW50cmllcyhyb3dzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTeW5jIHRvIGxvY2FsU3RvcmFnZSBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGNvbnN0IGhvdXJseTogYW55ID0ge307XG4gICAgICAgICAgZm9yIChjb25zdCByIG9mIHJvd3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3RvciA9IHIuc2VjdG9yO1xuICAgICAgICAgICAgY29uc3QgaG91ciA9IHIuaG91cjtcbiAgICAgICAgICAgIGNvbnN0IGNJZCA9IHIuY29tcGV0aXRvcklkO1xuICAgICAgICAgICAgaWYgKCFzZWN0b3IgfHwgIWhvdXIgfHwgIWNJZCkgY29udGludWU7XG4gICAgICAgICAgICBob3VybHlbc2VjdG9yXSA/Pz0ge307XG4gICAgICAgICAgICBob3VybHlbc2VjdG9yXVtob3VyXSA/Pz0ge307XG4gICAgICAgICAgICBob3VybHlbc2VjdG9yXVtob3VyXVtjSWRdID0ge1xuICAgICAgICAgICAgICBjb21wZXRpdG9ySWQ6IGNJZCxcbiAgICAgICAgICAgICAgYm94TnVtYmVyOiByLmJveE51bWJlcixcbiAgICAgICAgICAgICAgZmlzaENvdW50OiByLmZpc2hDb3VudCxcbiAgICAgICAgICAgICAgdG90YWxXZWlnaHQ6IHIudG90YWxXZWlnaHQsXG4gICAgICAgICAgICAgIHN0YXR1czogci5zdGF0dXMsXG4gICAgICAgICAgICAgIHNvdXJjZTogci5zb3VyY2UsXG4gICAgICAgICAgICAgIHRpbWVzdGFtcDogci50aW1lc3RhbXA/LnRvRGF0ZSA/IHIudGltZXN0YW1wLnRvRGF0ZSgpIDogci50aW1lc3RhbXAsXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgICB3cml0ZUFuZERpc3BhdGNoKCdob3VybHlEYXRhJywgaG91cmx5KTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIGhvdXJseV9lbnRyaWVzIHN1YnNjcmliZSBlcnJvcjonLCBlcnI/LmNvZGUgfHwgZXJyPy5tZXNzYWdlIHx8IGVycik7XG4gICAgICAgICAgc2V0RXJyb3IoYEVycmV1ciBob3VybHkgZW50cmllczogJHtlcnI/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuSG91cmx5KTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIGJpZyBjYXRjaGVzXG4gICAgICBjb25zdCB1bkJpZyA9IEJpZ0NhdGNoU2VydmljZS5zdWJzY3JpYmVUb0JpZ0NhdGNoZXMoXG4gICAgICAgIChyb3dzKSA9PiB7XG4gICAgICAgICAgc2V0QmlnQ2F0Y2hlcyhyb3dzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTeW5jIHRvIGxvY2FsU3RvcmFnZSBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGNvbnN0IGJpZzogYW55ID0ge307XG4gICAgICAgICAgZm9yIChjb25zdCByIG9mIHJvd3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3RvciA9IHIuc2VjdG9yO1xuICAgICAgICAgICAgY29uc3QgY0lkID0gci5jb21wZXRpdG9ySWQ7XG4gICAgICAgICAgICBpZiAoIXNlY3RvciB8fCAhY0lkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGJpZ1tzZWN0b3JdID8/PSB7fTtcbiAgICAgICAgICAgIGJpZ1tzZWN0b3JdW2NJZF0gPSB7XG4gICAgICAgICAgICAgIGNvbXBldGl0b3JJZDogY0lkLFxuICAgICAgICAgICAgICBib3hOdW1iZXI6IHIuYm94TnVtYmVyLFxuICAgICAgICAgICAgICBiaWdnZXN0Q2F0Y2g6IHIuYmlnZ2VzdENhdGNoLFxuICAgICAgICAgICAgICBzdGF0dXM6IHIuc3RhdHVzLFxuICAgICAgICAgICAgICBzb3VyY2U6IHIuc291cmNlLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IHIudGltZXN0YW1wPy50b0RhdGUgPyByLnRpbWVzdGFtcC50b0RhdGUoKSA6IHIudGltZXN0YW1wLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgd3JpdGVBbmREaXNwYXRjaCgnZ3Jvc3NlUHJpc2VEYXRhJywgYmlnKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIGJpZ19jYXRjaGVzIHN1YnNjcmliZSBlcnJvcjonLCBlcnI/LmNvZGUgfHwgZXJyPy5tZXNzYWdlIHx8IGVycik7XG4gICAgICAgICAgc2V0RXJyb3IoYEVycmV1ciBiaWcgY2F0Y2hlczogJHtlcnI/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuQmlnKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIGNvbXBldGl0b3JzXG4gICAgICBjb25zdCB1bkNvbXBldGl0b3JzID0gQ29tcGV0aXRvclNlcnZpY2Uuc3Vic2NyaWJlVG9Db21wZXRpdG9ycyhcbiAgICAgICAgKHJvd3MpID0+IHtcbiAgICAgICAgICBzZXRDb21wZXRpdG9ycyhyb3dzKTtcbiAgICAgICAgICB3cml0ZUFuZERpc3BhdGNoKCdjb21wZXRpdG9ycycsIHJvd3MpO1xuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGaXJlc3RvcmUgY29tcGV0aXRvcnMgc3Vic2NyaWJlIGVycm9yOicsIGVycj8uY29kZSB8fCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgICBzZXRFcnJvcihgRXJyZXVyIGNvbXBldGl0b3JzOiAke2Vycj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1bnN1YnNjcmliZXJzLnB1c2godW5Db21wZXRpdG9ycyk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBqdWRnZXNcbiAgICAgIGNvbnN0IHVuSnVkZ2VzID0gSnVkZ2VTZXJ2aWNlLnN1YnNjcmliZVRvSnVkZ2VzKFxuICAgICAgICAocm93cykgPT4ge1xuICAgICAgICAgIHNldEp1ZGdlcyhyb3dzKTtcbiAgICAgICAgICB3cml0ZUFuZERpc3BhdGNoKCdqdWRnZXMnLCByb3dzKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIGp1ZGdlcyBzdWJzY3JpYmUgZXJyb3I6JywgZXJyPy5jb2RlIHx8IGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgIHNldEVycm9yKGBFcnJldXIganVkZ2VzOiAke2Vycj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1bnN1YnNjcmliZXJzLnB1c2godW5KdWRnZXMpO1xuXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gY29tcGV0aXRpb24gc2V0dGluZ3NcbiAgICAgIGNvbnN0IHVuU2V0dGluZ3MgPSBDb21wZXRpdGlvblNldHRpbmdzU2VydmljZS5zdWJzY3JpYmVUb1NldHRpbmdzKFxuICAgICAgICAocm93cykgPT4ge1xuICAgICAgICAgIGNvbnN0IHNldHRpbmdzID0gcm93cztcbiAgICAgICAgICBzZXRDb21wZXRpdGlvblNldHRpbmdzKHNldHRpbmdzKTtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHdyaXRlQW5kRGlzcGF0Y2goJ2NvbXBldGl0aW9uU2V0dGluZ3MnLCBzZXR0aW5ncyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGaXJlc3RvcmUgY29tcGV0aXRpb25fc2V0dGluZ3Mgc3Vic2NyaWJlIGVycm9yOicsIGVycj8uY29kZSB8fCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgICBzZXRFcnJvcihgRXJyZXVyIHNldHRpbmdzOiAke2Vycj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1bnN1YnNjcmliZXJzLnB1c2godW5TZXR0aW5ncyk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBwdWJsaWMgYXBwZWFyYW5jZSBzZXR0aW5nc1xuICAgICAgY29uc3QgdW5BcHBlYXJhbmNlID0gUHVibGljQXBwZWFyYW5jZVNlcnZpY2Uuc3Vic2NyaWJlVG9TZXR0aW5ncyhcbiAgICAgICAgKHJvd3MpID0+IHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHJvd3M7XG4gICAgICAgICAgc2V0UHVibGljQXBwZWFyYW5jZVNldHRpbmdzKHNldHRpbmdzKTtcbiAgICAgICAgICBpZiAoc2V0dGluZ3MpIHtcbiAgICAgICAgICAgIHdyaXRlQW5kRGlzcGF0Y2goJ3B1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncycsIHNldHRpbmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmVzdG9yZSBwdWJsaWNfYXBwZWFyYW5jZV9zZXR0aW5ncyBzdWJzY3JpYmUgZXJyb3I6JywgZXJyPy5jb2RlIHx8IGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgIHNldEVycm9yKGBFcnJldXIgYXBwZWFyYW5jZTogJHtlcnI/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuQXBwZWFyYW5jZSk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBhdWRpdCBsb2dzXG4gICAgICBjb25zdCB1bkF1ZGl0ID0gQXVkaXRMb2dTZXJ2aWNlLnN1YnNjcmliZVRvQXVkaXRMb2dzKFxuICAgICAgICAocm93cykgPT4ge1xuICAgICAgICAgIHNldEF1ZGl0TG9ncyhyb3dzKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIGF1ZGl0X2xvZ3Mgc3Vic2NyaWJlIGVycm9yOicsIGVycj8uY29kZSB8fCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgICBzZXRFcnJvcihgRXJyZXVyIGF1ZGl0OiAke2Vycj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1bnN1YnNjcmliZXJzLnB1c2godW5BdWRpdCk7XG5cbiAgICAgIHNldElzTG9hZGluZyhmYWxzZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgY29uc29sZS53YXJuKCdGaXJlc3RvcmUgc3luYyBpbml0IGZhaWxlZDonLCBlKTtcbiAgICAgIHNldEVycm9yKGBFcnJldXIgZCdpbml0aWFsaXNhdGlvbjogJHtlfWApO1xuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9XG5cbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmVycy5mb3JFYWNoKHVuc3ViID0+IHtcbiAgICAgICAgdHJ5IHsgXG4gICAgICAgICAgdW5zdWIoKTsgXG4gICAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0Vycm9yIHVuc3Vic2NyaWJpbmc6JywgZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBBY3Rpb24gaGFuZGxlcnNcbiAgY29uc3Qgc2F2ZUhvdXJseUVudHJ5ID0gYXN5bmMgKGRhdGE6IE9taXQ8SG91cmx5RW50cnlEb2MsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgSG91cmx5RW50cnlTZXJ2aWNlLnNhdmVIb3VybHlFbnRyeShkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGhvdXJseSBlbnRyeTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUJpZ0NhdGNoID0gYXN5bmMgKGRhdGE6IE9taXQ8QmlnQ2F0Y2hEb2MsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgQmlnQ2F0Y2hTZXJ2aWNlLnNhdmVCaWdDYXRjaChkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGJpZyBjYXRjaDonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUNvbXBldGl0b3IgPSBhc3luYyAoZGF0YTogT21pdDxDb21wZXRpdG9yRG9jLCAnbGFzdFVwZGF0ZSc+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IENvbXBldGl0b3JTZXJ2aWNlLnNhdmVDb21wZXRpdG9yKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgY29tcGV0aXRvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUp1ZGdlID0gYXN5bmMgKGRhdGE6IE9taXQ8SnVkZ2VEb2MsICdsYXN0VXBkYXRlJz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgSnVkZ2VTZXJ2aWNlLnNhdmVKdWRnZShkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGp1ZGdlOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzYXZlQ29tcGV0aXRpb25TZXR0aW5ncyA9IGFzeW5jIChkYXRhOiBPbWl0PENvbXBldGl0aW9uU2V0dGluZ3NEb2MsICd1cGRhdGVkQXQnPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBDb21wZXRpdGlvblNldHRpbmdzU2VydmljZS5zYXZlU2V0dGluZ3MoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb21wZXRpdGlvbiBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZVB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyA9IGFzeW5jIChkYXRhOiBPbWl0PFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc0RvYywgJ3VwZGF0ZWRBdCc+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IFB1YmxpY0FwcGVhcmFuY2VTZXJ2aWNlLnNhdmVTZXR0aW5ncyhkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHB1YmxpYyBhcHBlYXJhbmNlIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBhdWRpdExvZyA9IGFzeW5jIChkYXRhOiB7IGFjdGlvbjogc3RyaW5nOyBkZXRhaWxzOiBzdHJpbmc7IG1ldGFkYXRhPzogYW55IH0pID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGN1cnJlbnQgdXNlciBpbmZvIGZvciBhdWRpdCBsb2dnaW5nXG4gICAgICBjb25zdCB1c2VySWQgPSAnc3lzdGVtJzsgLy8gVE9ETzogR2V0IGZyb20gYXV0aCBjb250ZXh0XG4gICAgICBjb25zdCB1c2VyRW1haWwgPSAnc3lzdGVtQGFwcC5jb20nOyAvLyBUT0RPOiBHZXQgZnJvbSBhdXRoIGNvbnRleHRcbiAgICAgIFxuICAgICAgYXdhaXQgQXVkaXRMb2dTZXJ2aWNlLmxvZ0F1ZGl0QWN0aW9uKHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgdXNlcklkLFxuICAgICAgICB1c2VyRW1haWxcbiAgICAgIH0pO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2dnaW5nIGF1ZGl0IGFjdGlvbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY29udGV4dFZhbHVlOiBGaXJlc3RvcmVDb250ZXh0VHlwZSA9IHtcbiAgICAvLyBEYXRhXG4gICAgaG91cmx5RW50cmllcyxcbiAgICBiaWdDYXRjaGVzLFxuICAgIGNvbXBldGl0b3JzLFxuICAgIGp1ZGdlcyxcbiAgICBjb21wZXRpdGlvblNldHRpbmdzLFxuICAgIHB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyxcbiAgICBhdWRpdExvZ3MsXG4gICAgXG4gICAgLy8gQWN0aW9uc1xuICAgIHNhdmVIb3VybHlFbnRyeSxcbiAgICBzYXZlQmlnQ2F0Y2gsXG4gICAgc2F2ZUNvbXBldGl0b3IsXG4gICAgc2F2ZUp1ZGdlLFxuICAgIHNhdmVDb21wZXRpdGlvblNldHRpbmdzLFxuICAgIHNhdmVQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MsXG4gICAgYXVkaXRMb2csXG4gICAgXG4gICAgLy8gU3RhdHVzXG4gICAgaXNMb2FkaW5nLFxuICAgIGVycm9yXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8RmlyZXN0b3JlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0ZpcmVzdG9yZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJIb3VybHlFbnRyeVNlcnZpY2UiLCJCaWdDYXRjaFNlcnZpY2UiLCJDb21wZXRpdG9yU2VydmljZSIsIkp1ZGdlU2VydmljZSIsIkNvbXBldGl0aW9uU2V0dGluZ3NTZXJ2aWNlIiwiUHVibGljQXBwZWFyYW5jZVNlcnZpY2UiLCJBdWRpdExvZ1NlcnZpY2UiLCJGaXJlc3RvcmVDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlRmlyZXN0b3JlIiwiY29udGV4dCIsIkVycm9yIiwid3JpdGVBbmREaXNwYXRjaCIsImtleSIsInZhbHVlIiwianNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsIlN0b3JhZ2VFdmVudCIsIm5ld1ZhbHVlIiwiRmlyZXN0b3JlU3luY1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJob3VybHlFbnRyaWVzIiwic2V0SG91cmx5RW50cmllcyIsImJpZ0NhdGNoZXMiLCJzZXRCaWdDYXRjaGVzIiwiY29tcGV0aXRvcnMiLCJzZXRDb21wZXRpdG9ycyIsImp1ZGdlcyIsInNldEp1ZGdlcyIsImNvbXBldGl0aW9uU2V0dGluZ3MiLCJzZXRDb21wZXRpdGlvblNldHRpbmdzIiwicHVibGljQXBwZWFyYW5jZVNldHRpbmdzIiwic2V0UHVibGljQXBwZWFyYW5jZVNldHRpbmdzIiwiYXVkaXRMb2dzIiwic2V0QXVkaXRMb2dzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInVuc3Vic2NyaWJlcnMiLCJ1bkhvdXJseSIsInN1YnNjcmliZVRvSG91cmx5RW50cmllcyIsInJvd3MiLCJob3VybHkiLCJyIiwic2VjdG9yIiwiaG91ciIsImNJZCIsImNvbXBldGl0b3JJZCIsImJveE51bWJlciIsImZpc2hDb3VudCIsInRvdGFsV2VpZ2h0Iiwic3RhdHVzIiwic291cmNlIiwidGltZXN0YW1wIiwidG9EYXRlIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJjb2RlIiwibWVzc2FnZSIsInB1c2giLCJ1bkJpZyIsInN1YnNjcmliZVRvQmlnQ2F0Y2hlcyIsImJpZyIsImJpZ2dlc3RDYXRjaCIsInVuQ29tcGV0aXRvcnMiLCJzdWJzY3JpYmVUb0NvbXBldGl0b3JzIiwidW5KdWRnZXMiLCJzdWJzY3JpYmVUb0p1ZGdlcyIsInVuU2V0dGluZ3MiLCJzdWJzY3JpYmVUb1NldHRpbmdzIiwic2V0dGluZ3MiLCJ1bkFwcGVhcmFuY2UiLCJ1bkF1ZGl0Iiwic3Vic2NyaWJlVG9BdWRpdExvZ3MiLCJlIiwiZm9yRWFjaCIsInVuc3ViIiwic2F2ZUhvdXJseUVudHJ5IiwiZGF0YSIsInNhdmVCaWdDYXRjaCIsInNhdmVDb21wZXRpdG9yIiwic2F2ZUp1ZGdlIiwic2F2ZUNvbXBldGl0aW9uU2V0dGluZ3MiLCJzYXZlU2V0dGluZ3MiLCJzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzIiwiYXVkaXRMb2ciLCJ1c2VySWQiLCJ1c2VyRW1haWwiLCJsb2dBdWRpdEFjdGlvbiIsImNvbnRleHRWYWx1ZSIsIlByb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/firestore-services.ts":
/*!***************************************!*\
  !*** ./src/lib/firestore-services.ts ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   AuditLogService: function() { return /* binding */ AuditLogService; },\n/* harmony export */   BigCatchService: function() { return /* binding */ BigCatchService; },\n/* harmony export */   COLLECTIONS: function() { return /* binding */ COLLECTIONS; },\n/* harmony export */   CompetitionSettingsService: function() { return /* binding */ CompetitionSettingsService; },\n/* harmony export */   CompetitorService: function() { return /* binding */ CompetitorService; },\n/* harmony export */   HourlyEntryService: function() { return /* binding */ HourlyEntryService; },\n/* harmony export */   JudgeService: function() { return /* binding */ JudgeService; },\n/* harmony export */   PublicAppearanceService: function() { return /* binding */ PublicAppearanceService; },\n/* harmony export */   logAuditAction: function() { return /* binding */ logAuditAction; },\n/* harmony export */   saveBigCatch: function() { return /* binding */ saveBigCatch; },\n/* harmony export */   saveCompetitionSettings: function() { return /* binding */ saveCompetitionSettings; },\n/* harmony export */   saveCompetitor: function() { return /* binding */ saveCompetitor; },\n/* harmony export */   saveHourlyEntry: function() { return /* binding */ saveHourlyEntry; },\n/* harmony export */   saveJudge: function() { return /* binding */ saveJudge; },\n/* harmony export */   savePublicAppearanceSettings: function() { return /* binding */ savePublicAppearanceSettings; }\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n\n\n// Collection names\nconst COLLECTIONS = {\n    COMPETITORS: \"competitors\",\n    HOURLY_ENTRIES: \"hourly_entries\",\n    BIG_CATCHES: \"big_catches\",\n    JUDGES: \"judges\",\n    COMPETITION_SETTINGS: \"competitionSettings\",\n    PUBLIC_APPEARANCE_SETTINGS: \"publicAppearanceSettings\",\n    AUDIT_LOGS: \"audit_logs\"\n};\n// Competitor Service\nclass CompetitorService {\n    static async saveCompetitor(competitor) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS, competitor.id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...competitor,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving competitor:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getAllCompetitors() {\n        try {\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS));\n            return querySnapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n        } catch (error) {\n            console.error(\"Error getting competitors:\", error);\n            return [];\n        }\n    }\n    static subscribeToCompetitors(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS), (snapshot)=>{\n            const competitors = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            callback(competitors);\n        }, (error)=>{\n            console.error(\"Error listening to competitors:\", error);\n        });\n    }\n    static async deleteCompetitor(id) {\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS, id));\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error deleting competitor:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n}\n// Hourly Entry Service\nclass HourlyEntryService {\n    static async saveHourlyEntry(entry) {\n        try {\n            const docId = \"\".concat(entry.sector, \"-\").concat(entry.hour, \"-\").concat(entry.competitorId);\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.HOURLY_ENTRIES, docId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...entry,\n                id: docId,\n                timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving hourly entry:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static subscribeToHourlyEntries(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.HOURLY_ENTRIES), (snapshot)=>{\n            const entries = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            callback(entries);\n        }, (error)=>{\n            console.error(\"Error listening to hourly entries:\", error);\n        });\n    }\n}\n// Big Catch Service\nclass BigCatchService {\n    static async saveBigCatch(entry) {\n        try {\n            const docId = \"\".concat(entry.sector, \"-\").concat(entry.competitorId);\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.BIG_CATCHES, docId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...entry,\n                id: docId,\n                timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving big catch:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static subscribeToBigCatches(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.BIG_CATCHES), (snapshot)=>{\n            const entries = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            callback(entries);\n        }, (error)=>{\n            console.error(\"Error listening to big catches:\", error);\n        });\n    }\n}\n// Judge Service\nclass JudgeService {\n    static async saveJudge(judge) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.JUDGES, judge.uid);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...judge,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving judge:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getJudgeByUid(uid) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.JUDGES, uid);\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return {\n                    uid: docSnap.id,\n                    ...docSnap.data()\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error getting judge:\", error);\n            return null;\n        }\n    }\n    static subscribeToJudges(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.JUDGES), (snapshot)=>{\n            const judges = snapshot.docs.map((doc)=>({\n                    uid: doc.id,\n                    ...doc.data()\n                }));\n            callback(judges);\n        }, (error)=>{\n            console.error(\"Error listening to judges:\", error);\n        });\n    }\n}\n// Competition Settings Service\nclass CompetitionSettingsService {\n    static async saveSettings(settings) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITION_SETTINGS, \"main\");\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...settings,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving competition settings:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getSettings() {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITION_SETTINGS, \"main\");\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return {\n                    id: docSnap.id,\n                    ...docSnap.data()\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error getting competition settings:\", error);\n            return null;\n        }\n    }\n    static subscribeToSettings(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITION_SETTINGS, \"main\"), (doc)=>{\n            if (doc.exists()) {\n                callback({\n                    id: doc.id,\n                    ...doc.data()\n                });\n            } else {\n                callback(null);\n            }\n        }, (error)=>{\n            console.error(\"Error listening to competition settings:\", error);\n        });\n    }\n}\n// Public Appearance Settings Service\nclass PublicAppearanceService {\n    static async saveSettings(settings) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.PUBLIC_APPEARANCE_SETTINGS, \"main\");\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...settings,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving public appearance settings:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getSettings() {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.PUBLIC_APPEARANCE_SETTINGS, \"main\");\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return {\n                    id: docSnap.id,\n                    ...docSnap.data()\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error getting public appearance settings:\", error);\n            return null;\n        }\n    }\n    static subscribeToSettings(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.PUBLIC_APPEARANCE_SETTINGS, \"main\"), (doc)=>{\n            if (doc.exists()) {\n                callback({\n                    id: doc.id,\n                    ...doc.data()\n                });\n            } else {\n                callback(null);\n            }\n        }, (error)=>{\n            console.error(\"Error listening to public appearance settings:\", error);\n            // Provide fallback null data on permission errors\n            callback(null);\n        });\n    }\n}\n// Audit Log Service\nclass AuditLogService {\n    static async logAuditAction(data) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.AUDIT_LOGS));\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...data,\n                id: docRef.id,\n                timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error logging audit action:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static subscribeToAuditLogs(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.AUDIT_LOGS), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.orderBy)(\"timestamp\", \"desc\")), (snapshot)=>{\n            const logs = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            callback(logs);\n        }, (error)=>{\n            console.error(\"Error listening to audit logs:\", error);\n        });\n    }\n}\n// Export convenience functions for backward compatibility\nconst saveHourlyEntry = HourlyEntryService.saveHourlyEntry;\nconst saveBigCatch = BigCatchService.saveBigCatch;\nconst saveCompetitor = CompetitorService.saveCompetitor;\nconst saveJudge = JudgeService.saveJudge;\nconst saveCompetitionSettings = CompetitionSettingsService.saveSettings;\nconst savePublicAppearanceSettings = PublicAppearanceService.saveSettings;\nconst logAuditAction = AuditLogService.logAuditAction;\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmlyZXN0b3JlLXNlcnZpY2VzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBYzRCO0FBQ0k7QUFFaEMsbUJBQW1CO0FBQ1osTUFBTVcsY0FBYztJQUN6QkMsYUFBYTtJQUNiQyxnQkFBZ0I7SUFDaEJDLGFBQWE7SUFDYkMsUUFBUTtJQUNSQyxzQkFBc0I7SUFDdEJDLDRCQUE0QjtJQUM1QkMsWUFBWTtBQUNkLEVBQVc7QUFzR1gscUJBQXFCO0FBQ2QsTUFBTUM7SUFDWCxhQUFhQyxlQUFlQyxVQUEwRCxFQUFFO1FBQ3RGLElBQUk7WUFDRixNQUFNQyxTQUFTckIsdURBQUdBLENBQUNTLHlDQUFFQSxFQUFFQyxZQUFZQyxXQUFXLEVBQUVTLFdBQVdFLEVBQUU7WUFDN0QsTUFBTXJCLDBEQUFNQSxDQUFDb0IsUUFBUTtnQkFDbkIsR0FBR0QsVUFBVTtnQkFDYkcsV0FBV2YsbUVBQWVBO2dCQUMxQmdCLFdBQVdoQixtRUFBZUE7WUFDNUIsR0FBRztnQkFBRWlCLE9BQU87WUFBSztZQUNqQixPQUFPO2dCQUFFQyxTQUFTO1lBQUs7UUFDekIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE9BQU87Z0JBQUVELFNBQVM7Z0JBQU9DO1lBQU07UUFDakM7SUFDRjtJQUVBLGFBQWFFLG9CQUE4QztRQUN6RCxJQUFJO1lBQ0YsTUFBTUMsZ0JBQWdCLE1BQU0zQiwyREFBT0EsQ0FBQ0osOERBQVVBLENBQUNVLHlDQUFFQSxFQUFFQyxZQUFZQyxXQUFXO1lBQzFFLE9BQU9tQixjQUFjQyxJQUFJLENBQUNDLEdBQUcsQ0FBQ2hDLENBQUFBLE1BQVE7b0JBQ3BDc0IsSUFBSXRCLElBQUlzQixFQUFFO29CQUNWLEdBQUd0QixJQUFJaUMsSUFBSSxFQUFFO2dCQUNmO1FBQ0YsRUFBRSxPQUFPTixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1lB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QywrQkFBK0JBO1lBQzdDLE9BQU87Z0JBQUVELFNBQVM7Z0JBQU9DO1lBQU07UUFDakM7SUFDRjtJQUVBLE9BQU8wQyxxQkFBcUJsQyxRQUF1QyxFQUFFO1FBQ25FLE9BQU81Qiw4REFBVUEsQ0FDZkYseURBQUtBLENBQUNOLDhEQUFVQSxDQUFDVSx5Q0FBRUEsRUFBRUMsWUFBWU8sVUFBVSxHQUFHWCwyREFBT0EsQ0FBQyxhQUFhLFVBQ25FLENBQUM4QjtZQUNDLE1BQU1rQyxPQUFPbEMsU0FBU0wsSUFBSSxDQUFDQyxHQUFHLENBQUNoQyxDQUFBQSxNQUFRO29CQUNyQ3NCLElBQUl0QixJQUFJc0IsRUFBRTtvQkFDVixHQUFHdEIsSUFBSWlDLElBQUksRUFBRTtnQkFDZjtZQUNBRSxTQUFTbUM7UUFDWCxHQUNBLENBQUMzQztZQUNDQyxRQUFRRCxLQUFLLENBQUMsa0NBQWtDQTtRQUNsRDtJQUVKO0FBQ0Y7QUFFQSwwREFBMEQ7QUFDbkQsTUFBTWEsa0JBQWtCRCxtQkFBbUJDLGVBQWUsQ0FBQztBQUMzRCxNQUFNVSxlQUFlRCxnQkFBZ0JDLFlBQVksQ0FBQztBQUNsRCxNQUFNL0IsaUJBQWlCRCxrQkFBa0JDLGNBQWMsQ0FBQztBQUN4RCxNQUFNa0MsWUFBWUQsYUFBYUMsU0FBUyxDQUFDO0FBQ3pDLE1BQU1rQiwwQkFBMEJWLDJCQUEyQkMsWUFBWSxDQUFDO0FBQ3hFLE1BQU1VLCtCQUErQk4sd0JBQXdCSixZQUFZLENBQUM7QUFDMUUsTUFBTU0saUJBQWlCRCxnQkFBZ0JDLGNBQWMsQ0FBQyIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2ZpcmVzdG9yZS1zZXJ2aWNlcy50cz8xNDQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBjb2xsZWN0aW9uLCBcbiAgZG9jLCBcbiAgc2V0RG9jLCBcbiAgZ2V0RG9jLCBcbiAgZ2V0RG9jcywgXG4gIHVwZGF0ZURvYywgXG4gIGRlbGV0ZURvYywgXG4gIHF1ZXJ5LCBcbiAgd2hlcmUsIFxuICBvcmRlckJ5LCBcbiAgb25TbmFwc2hvdCxcbiAgc2VydmVyVGltZXN0YW1wLFxuICBUaW1lc3RhbXBcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi9maXJlYmFzZSc7XG5cbi8vIENvbGxlY3Rpb24gbmFtZXNcbmV4cG9ydCBjb25zdCBDT0xMRUNUSU9OUyA9IHtcbiAgQ09NUEVUSVRPUlM6ICdjb21wZXRpdG9ycycsXG4gIEhPVVJMWV9FTlRSSUVTOiAnaG91cmx5X2VudHJpZXMnLFxuICBCSUdfQ0FUQ0hFUzogJ2JpZ19jYXRjaGVzJyxcbiAgSlVER0VTOiAnanVkZ2VzJyxcbiAgQ09NUEVUSVRJT05fU0VUVElOR1M6ICdjb21wZXRpdGlvblNldHRpbmdzJyxcbiAgUFVCTElDX0FQUEVBUkFOQ0VfU0VUVElOR1M6ICdwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MnLFxuICBBVURJVF9MT0dTOiAnYXVkaXRfbG9ncydcbn0gYXMgY29uc3Q7XG5cbi8vIENvbXBldGl0b3IgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIENvbXBldGl0b3JEb2Mge1xuICBpZDogc3RyaW5nO1xuICBzZWN0b3I6IHN0cmluZztcbiAgYm94TnVtYmVyOiBudW1iZXI7XG4gIGJveENvZGU6IHN0cmluZztcbiAgZnVsbE5hbWU6IHN0cmluZztcbiAgZXF1aXBlOiBzdHJpbmc7XG4gIHBob3RvOiBzdHJpbmc7XG4gIHN0YXR1czogJ2FjdGl2ZScgfCAnaW5hY3RpdmUnO1xuICBjcmVhdGVkQXQ6IFRpbWVzdGFtcDtcbiAgdXBkYXRlZEF0OiBUaW1lc3RhbXA7XG59XG5cbi8vIEhvdXJseSBlbnRyeSBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgSG91cmx5RW50cnlEb2Mge1xuICBpZDogc3RyaW5nO1xuICBzZWN0b3I6IHN0cmluZztcbiAgaG91cjogbnVtYmVyO1xuICBjb21wZXRpdG9ySWQ6IHN0cmluZztcbiAgYm94TnVtYmVyOiBudW1iZXI7XG4gIGZpc2hDb3VudDogbnVtYmVyO1xuICB0b3RhbFdlaWdodDogbnVtYmVyO1xuICBzdGF0dXM6ICdlbXB0eScgfCAnaW5fcHJvZ3Jlc3MnIHwgJ2xvY2tlZF9qdWRnZScgfCAnbG9ja2VkX2FkbWluJyB8ICdvZmZsaW5lX2p1ZGdlJyB8ICdvZmZsaW5lX2FkbWluJyB8ICdlcnJvcic7XG4gIHNvdXJjZTogJ0p1ZGdlJyB8ICdBZG1pbic7XG4gIHVwZGF0ZWRCeTogc3RyaW5nO1xuICB0aW1lc3RhbXA6IFRpbWVzdGFtcDtcbn1cblxuLy8gQmlnIGNhdGNoIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBCaWdDYXRjaERvYyB7XG4gIGlkOiBzdHJpbmc7XG4gIHNlY3Rvcjogc3RyaW5nO1xuICBjb21wZXRpdG9ySWQ6IHN0cmluZztcbiAgYm94TnVtYmVyOiBudW1iZXI7XG4gIGJpZ2dlc3RDYXRjaDogbnVtYmVyO1xuICBzdGF0dXM6ICdlbXB0eScgfCAnaW5fcHJvZ3Jlc3MnIHwgJ2xvY2tlZF9qdWRnZScgfCAnbG9ja2VkX2FkbWluJyB8ICdvZmZsaW5lX2p1ZGdlJyB8ICdvZmZsaW5lX2FkbWluJyB8ICdlcnJvcic7XG4gIHNvdXJjZTogJ0p1ZGdlJyB8ICdBZG1pbic7XG4gIHVwZGF0ZWRCeTogc3RyaW5nO1xuICB0aW1lc3RhbXA6IFRpbWVzdGFtcDtcbn1cblxuLy8gSnVkZ2UgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIEp1ZGdlRG9jIHtcbiAgdWlkOiBzdHJpbmc7XG4gIHJvbGU6ICdhZG1pbicgfCAnanVkZ2UnO1xuICBzZWN0b3I6IHN0cmluZyB8IG51bGw7XG4gIG5hbWU6IHN0cmluZztcbiAgdXNlcm5hbWU6IHN0cmluZztcbiAgZW1haWw6IHN0cmluZztcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZSc7XG4gIGNyZWF0ZWRBdDogVGltZXN0YW1wO1xuICB1cGRhdGVkQXQ6IFRpbWVzdGFtcDtcbn1cblxuLy8gQ29tcGV0aXRpb24gc2V0dGluZ3MgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIENvbXBldGl0aW9uU2V0dGluZ3NEb2Mge1xuICBpZDogc3RyaW5nO1xuICBzdGFydERhdGVUaW1lOiBzdHJpbmc7XG4gIGVuZERhdGVUaW1lOiBzdHJpbmc7XG4gIHNvdW5kRW5hYmxlZDogYm9vbGVhbjtcbiAgdXBkYXRlZEF0OiBUaW1lc3RhbXA7XG59XG5cbi8vIFB1YmxpYyBhcHBlYXJhbmNlIHNldHRpbmdzIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2Mge1xuICBpZDogc3RyaW5nO1xuICBsb2dvczoge1xuICAgIGxpZ2h0OiBzdHJpbmc7XG4gICAgZGFyazogc3RyaW5nO1xuICB9O1xuICBzcG9uc29yczogQXJyYXk8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGxvZ286IHN0cmluZztcbiAgICB0aWVyOiAndGl0bGUnIHwgJ2dvbGQnIHwgJ3NpbHZlcicgfCAnYnJvbnplJztcbiAgfT47XG4gIHNvY2lhbExpbmtzOiB7XG4gICAgeW91dHViZTogc3RyaW5nO1xuICAgIGZhY2Vib29rOiBzdHJpbmc7XG4gICAgaW5zdGFncmFtOiBzdHJpbmc7XG4gICAgd2Vic2l0ZTogc3RyaW5nO1xuICB9O1xuICBmb290ZXJUZXh0OiBzdHJpbmc7XG4gIHN0cmVhbURlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHN0cmVhbVVybDogc3RyaW5nO1xuICB1cGRhdGVkQXQ6IFRpbWVzdGFtcDtcbn1cblxuLy8gQXVkaXQgbG9nIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBBdWRpdExvZ0RvYyB7XG4gIGlkOiBzdHJpbmc7XG4gIGFjdGlvbjogc3RyaW5nO1xuICBkZXRhaWxzOiBzdHJpbmc7XG4gIHVzZXJJZDogc3RyaW5nO1xuICB1c2VyRW1haWw6IHN0cmluZztcbiAgbWV0YWRhdGE/OiBhbnk7XG4gIHRpbWVzdGFtcDogVGltZXN0YW1wO1xufVxuXG4vLyBDb21wZXRpdG9yIFNlcnZpY2VcbmV4cG9ydCBjbGFzcyBDb21wZXRpdG9yU2VydmljZSB7XG4gIHN0YXRpYyBhc3luYyBzYXZlQ29tcGV0aXRvcihjb21wZXRpdG9yOiBPbWl0PENvbXBldGl0b3JEb2MsICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgQ09MTEVDVElPTlMuQ09NUEVUSVRPUlMsIGNvbXBldGl0b3IuaWQpO1xuICAgICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgICAuLi5jb21wZXRpdG9yLFxuICAgICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXG4gICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgY29tcGV0aXRvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0QWxsQ29tcGV0aXRvcnMoKTogUHJvbWlzZTxDb21wZXRpdG9yRG9jW10+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgcXVlcnlTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTlMuQ09NUEVUSVRPUlMpKTtcbiAgICAgIHJldHVybiBxdWVyeVNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICB9KSkgYXMgQ29tcGV0aXRvckRvY1tdO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBnZXR0aW5nIGNvbXBldGl0b3JzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3Vic2NyaWJlVG9Db21wZXRpdG9ycyhjYWxsYmFjazogKGNvbXBldGl0b3JzOiBDb21wZXRpdG9yRG9jW10pID0+IHZvaWQpIHtcbiAgICByZXR1cm4gb25TbmFwc2hvdChcbiAgICAgIGNvbGxlY3Rpb24oZGIsIENPTExFQ1RJT05TLkNPTVBFVElUT1JTKSxcbiAgICAgIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICBjb25zdCBjb21wZXRpdG9ycyA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KSkgYXMgQ29tcGV0aXRvckRvY1tdO1xuICAgICAgICBjYWxsYmFjayhjb21wZXRpdG9ycyk7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RlbmluZyB0byBjb21wZXRpdG9yczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgKTtcbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBkZWxldGVDb21wZXRpdG9yKGlkOiBzdHJpbmcpIHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgZGVsZXRlRG9jKGRvYyhkYiwgQ09MTEVDVElPTlMuQ09NUEVUSVRPUlMsIGlkKSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGNvbXBldGl0b3I6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gICAgfVxuICB9XG59XG5cbi8vIEhvdXJseSBFbnRyeSBTZXJ2aWNlXG5leHBvcnQgY2xhc3MgSG91cmx5RW50cnlTZXJ2aWNlIHtcbiAgc3RhdGljIGFzeW5jIHNhdmVIb3VybHlFbnRyeShlbnRyeTogT21pdDxIb3VybHlFbnRyeURvYywgJ3RpbWVzdGFtcCc+KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY0lkID0gYCR7ZW50cnkuc2VjdG9yfS0ke2VudHJ5LmhvdXJ9LSR7ZW50cnkuY29tcGV0aXRvcklkfWA7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLkhPVVJMWV9FTlRSSUVTLCBkb2NJZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmVudHJ5LFxuICAgICAgICBpZDogZG9jSWQsXG4gICAgICAgIHRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKClcbiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBob3VybHkgZW50cnk6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN1YnNjcmliZVRvSG91cmx5RW50cmllcyhjYWxsYmFjazogKGVudHJpZXM6IEhvdXJseUVudHJ5RG9jW10pID0+IHZvaWQpIHtcbiAgICByZXR1cm4gb25TbmFwc2hvdChcbiAgICAgIGNvbGxlY3Rpb24oZGIsIENPTExFQ1RJT05TLkhPVVJMWV9FTlRSSUVTKSxcbiAgICAgIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pKSBhcyBIb3VybHlFbnRyeURvY1tdO1xuICAgICAgICBjYWxsYmFjayhlbnRyaWVzKTtcbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGVuaW5nIHRvIGhvdXJseSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG5cbi8vIEJpZyBDYXRjaCBTZXJ2aWNlXG5leHBvcnQgY2xhc3MgQmlnQ2F0Y2hTZXJ2aWNlIHtcbiAgc3RhdGljIGFzeW5jIHNhdmVCaWdDYXRjaChlbnRyeTogT21pdDxCaWdDYXRjaERvYywgJ3RpbWVzdGFtcCc+KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY0lkID0gYCR7ZW50cnkuc2VjdG9yfS0ke2VudHJ5LmNvbXBldGl0b3JJZH1gO1xuICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBDT0xMRUNUSU9OUy5CSUdfQ0FUQ0hFUywgZG9jSWQpO1xuICAgICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgICAuLi5lbnRyeSxcbiAgICAgICAgaWQ6IGRvY0lkLFxuICAgICAgICB0aW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpXG4gICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYmlnIGNhdGNoOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBzdWJzY3JpYmVUb0JpZ0NhdGNoZXMoY2FsbGJhY2s6IChlbnRyaWVzOiBCaWdDYXRjaERvY1tdKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIG9uU25hcHNob3QoXG4gICAgICBjb2xsZWN0aW9uKGRiLCBDT0xMRUNUSU9OUy5CSUdfQ0FUQ0hFUyksXG4gICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgY29uc3QgZW50cmllcyA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KSkgYXMgQmlnQ2F0Y2hEb2NbXTtcbiAgICAgICAgY2FsbGJhY2soZW50cmllcyk7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RlbmluZyB0byBiaWcgY2F0Y2hlczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBKdWRnZSBTZXJ2aWNlXG5leHBvcnQgY2xhc3MgSnVkZ2VTZXJ2aWNlIHtcbiAgc3RhdGljIGFzeW5jIHNhdmVKdWRnZShqdWRnZTogT21pdDxKdWRnZURvYywgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBDT0xMRUNUSU9OUy5KVURHRVMsIGp1ZGdlLnVpZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmp1ZGdlLFxuICAgICAgICBjcmVhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpLFxuICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXG4gICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcganVkZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldEp1ZGdlQnlVaWQodWlkOiBzdHJpbmcpOiBQcm9taXNlPEp1ZGdlRG9jIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLkpVREdFUywgdWlkKTtcbiAgICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcbiAgICAgIFxuICAgICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgICAgcmV0dXJuIHsgdWlkOiBkb2NTbmFwLmlkLCAuLi5kb2NTbmFwLmRhdGEoKSB9IGFzIEp1ZGdlRG9jO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcganVkZ2U6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN1YnNjcmliZVRvSnVkZ2VzKGNhbGxiYWNrOiAoanVkZ2VzOiBKdWRnZURvY1tdKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIG9uU25hcHNob3QoXG4gICAgICBjb2xsZWN0aW9uKGRiLCBDT0xMRUNUSU9OUy5KVURHRVMpLFxuICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgIGNvbnN0IGp1ZGdlcyA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgICAgIHVpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSkpIGFzIEp1ZGdlRG9jW107XG4gICAgICAgIGNhbGxiYWNrKGp1ZGdlcyk7XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RlbmluZyB0byBqdWRnZXM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cblxuLy8gQ29tcGV0aXRpb24gU2V0dGluZ3MgU2VydmljZVxuZXhwb3J0IGNsYXNzIENvbXBldGl0aW9uU2V0dGluZ3NTZXJ2aWNlIHtcbiAgc3RhdGljIGFzeW5jIHNhdmVTZXR0aW5ncyhzZXR0aW5nczogT21pdDxDb21wZXRpdGlvblNldHRpbmdzRG9jLCAndXBkYXRlZEF0Jz4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBDT0xMRUNUSU9OUy5DT01QRVRJVElPTl9TRVRUSU5HUywgJ21haW4nKTtcbiAgICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgICAgLi4uc2V0dGluZ3MsXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKClcbiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb21wZXRpdGlvbiBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0U2V0dGluZ3MoKTogUHJvbWlzZTxDb21wZXRpdGlvblNldHRpbmdzRG9jIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLkNPTVBFVElUSU9OX1NFVFRJTkdTLCAnbWFpbicpO1xuICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpO1xuICAgICAgXG4gICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgICByZXR1cm4geyBpZDogZG9jU25hcC5pZCwgLi4uZG9jU25hcC5kYXRhKCkgfSBhcyBDb21wZXRpdGlvblNldHRpbmdzRG9jO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY29tcGV0aXRpb24gc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN1YnNjcmliZVRvU2V0dGluZ3MoY2FsbGJhY2s6IChzZXR0aW5nczogQ29tcGV0aXRpb25TZXR0aW5nc0RvYyB8IG51bGwpID0+IHZvaWQpIHtcbiAgICByZXR1cm4gb25TbmFwc2hvdChcbiAgICAgIGRvYyhkYiwgQ09MTEVDVElPTlMuQ09NUEVUSVRJT05fU0VUVElOR1MsICdtYWluJyksXG4gICAgICAoZG9jKSA9PiB7XG4gICAgICAgIGlmIChkb2MuZXhpc3RzKCkpIHtcbiAgICAgICAgICBjYWxsYmFjayh7IGlkOiBkb2MuaWQsIC4uLmRvYy5kYXRhKCkgfSBhcyBDb21wZXRpdGlvblNldHRpbmdzRG9jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0ZW5pbmcgdG8gY29tcGV0aXRpb24gc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cblxuLy8gUHVibGljIEFwcGVhcmFuY2UgU2V0dGluZ3MgU2VydmljZVxuZXhwb3J0IGNsYXNzIFB1YmxpY0FwcGVhcmFuY2VTZXJ2aWNlIHtcbiAgc3RhdGljIGFzeW5jIHNhdmVTZXR0aW5ncyhzZXR0aW5nczogT21pdDxQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MsICd1cGRhdGVkQXQnPikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLlBVQkxJQ19BUFBFQVJBTkNFX1NFVFRJTkdTLCAnbWFpbicpO1xuICAgICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgICAuLi5zZXR0aW5ncyxcbiAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIHB1YmxpYyBhcHBlYXJhbmNlIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRTZXR0aW5ncygpOiBQcm9taXNlPFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc0RvYyB8IG51bGw+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBDT0xMRUNUSU9OUy5QVUJMSUNfQVBQRUFSQU5DRV9TRVRUSU5HUywgJ21haW4nKTtcbiAgICAgIGNvbnN0IGRvY1NuYXAgPSBhd2FpdCBnZXREb2MoZG9jUmVmKTtcbiAgICAgIFxuICAgICAgaWYgKGRvY1NuYXAuZXhpc3RzKCkpIHtcbiAgICAgICAgcmV0dXJuIHsgaWQ6IGRvY1NuYXAuaWQsIC4uLmRvY1NuYXAuZGF0YSgpIH0gYXMgUHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgcHVibGljIGFwcGVhcmFuY2Ugc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN1YnNjcmliZVRvU2V0dGluZ3MoY2FsbGJhY2s6IChzZXR0aW5nczogUHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jIHwgbnVsbCkgPT4gdm9pZCkge1xuICAgIHJldHVybiBvblNuYXBzaG90KFxuICAgICAgZG9jKGRiLCBDT0xMRUNUSU9OUy5QVUJMSUNfQVBQRUFSQU5DRV9TRVRUSU5HUywgJ21haW4nKSxcbiAgICAgIChkb2MpID0+IHtcbiAgICAgICAgaWYgKGRvYy5leGlzdHMoKSkge1xuICAgICAgICAgIGNhbGxiYWNrKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9IGFzIFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc0RvYyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICAgIH1cbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGVuaW5nIHRvIHB1YmxpYyBhcHBlYXJhbmNlIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgICAgLy8gUHJvdmlkZSBmYWxsYmFjayBudWxsIGRhdGEgb24gcGVybWlzc2lvbiBlcnJvcnNcbiAgICAgICAgY2FsbGJhY2sobnVsbCk7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBBdWRpdCBMb2cgU2VydmljZVxuZXhwb3J0IGNsYXNzIEF1ZGl0TG9nU2VydmljZSB7XG4gIHN0YXRpYyBhc3luYyBsb2dBdWRpdEFjdGlvbihkYXRhOiB7IGFjdGlvbjogc3RyaW5nOyBkZXRhaWxzOiBzdHJpbmc7IHVzZXJJZDogc3RyaW5nOyB1c2VyRW1haWw6IHN0cmluZzsgbWV0YWRhdGE/OiBhbnkgfSkge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTlMuQVVESVRfTE9HUykpO1xuICAgICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICBpZDogZG9jUmVmLmlkLFxuICAgICAgICB0aW1lc3RhbXA6IHNlcnZlclRpbWVzdGFtcCgpXG4gICAgICB9KTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbG9nZ2luZyBhdWRpdCBhY3Rpb246JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN1YnNjcmliZVRvQXVkaXRMb2dzKGNhbGxiYWNrOiAobG9nczogQXVkaXRMb2dEb2NbXSkgPT4gdm9pZCkge1xuICAgIHJldHVybiBvblNuYXBzaG90KFxuICAgICAgcXVlcnkoY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTlMuQVVESVRfTE9HUyksIG9yZGVyQnkoJ3RpbWVzdGFtcCcsICdkZXNjJykpLFxuICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgIGNvbnN0IGxvZ3MgPSBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSkpIGFzIEF1ZGl0TG9nRG9jW107XG4gICAgICAgIGNhbGxiYWNrKGxvZ3MpO1xuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0ZW5pbmcgdG8gYXVkaXQgbG9nczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBFeHBvcnQgY29udmVuaWVuY2UgZnVuY3Rpb25zIGZvciBiYWNrd2FyZCBjb21wYXRpYmlsaXR5XG5leHBvcnQgY29uc3Qgc2F2ZUhvdXJseUVudHJ5ID0gSG91cmx5RW50cnlTZXJ2aWNlLnNhdmVIb3VybHlFbnRyeTtcbmV4cG9ydCBjb25zdCBzYXZlQmlnQ2F0Y2ggPSBCaWdDYXRjaFNlcnZpY2Uuc2F2ZUJpZ0NhdGNoO1xuZXhwb3J0IGNvbnN0IHNhdmVDb21wZXRpdG9yID0gQ29tcGV0aXRvclNlcnZpY2Uuc2F2ZUNvbXBldGl0b3I7XG5leHBvcnQgY29uc3Qgc2F2ZUp1ZGdlID0gSnVkZ2VTZXJ2aWNlLnNhdmVKdWRnZTtcbmV4cG9ydCBjb25zdCBzYXZlQ29tcGV0aXRpb25TZXR0aW5ncyA9IENvbXBldGl0aW9uU2V0dGluZ3NTZXJ2aWNlLnNhdmVTZXR0aW5ncztcbmV4cG9ydCBjb25zdCBzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzID0gUHVibGljQXBwZWFyYW5jZVNlcnZpY2Uuc2F2ZVNldHRpbmdzO1xuZXhwb3J0IGNvbnN0IGxvZ0F1ZGl0QWN0aW9uID0gQXVkaXRMb2dTZXJ2aWNlLmxvZ0F1ZGl0QWN0aW9uOyJdLCJuYW1lcyI6WyJjb2xsZWN0aW9uIiwiZG9jIiwic2V0RG9jIiwiZ2V0RG9jIiwiZ2V0RG9jcyIsImRlbGV0ZURvYyIsInF1ZXJ5Iiwib3JkZXJCeSIsIm9uU25hcHNob3QiLCJzZXJ2ZXJUaW1lc3RhbXAiLCJkYiIsIkNPTExFQ1RJT05TIiwiQ09NUEVUSVRPUlMiLCJIT1VSTFlfRU5UUklFUyIsIkJJR19DQVRDSEVTIiwiSlVER0VTIiwiQ09NUEVUSVRJT05fU0VUVElOR1MiLCJQVUJMSUNfQVBQRUFSQU5DRV9TRVRUSU5HUyIsIkFVRElUX0xPR1MiLCJDb21wZXRpdG9yU2VydmljZSIsInNhdmVDb21wZXRpdG9yIiwiY29tcGV0aXRvciIsImRvY1JlZiIsImlkIiwiY3JlYXRlZEF0IiwidXBkYXRlZEF0IiwibWVyZ2UiLCJzdWNjZXNzIiwiZXJyb3IiLCJjb25zb2xlIiwiZ2V0QWxsQ29tcGV0aXRvcnMiLCJxdWVyeVNuYXBzaG90IiwiZG9jcyIsIm1hcCIsImRhdGEiLCJzdWJzY3JpYmVUb0NvbXBldGl0b3JzIiwiY2FsbGJhY2siLCJzbmFwc2hvdCIsImNvbXBldGl0b3JzIiwiZGVsZXRlQ29tcGV0aXRvciIsIkhvdXJseUVudHJ5U2VydmljZSIsInNhdmVIb3VybHlFbnRyeSIsImVudHJ5IiwiZG9jSWQiLCJzZWN0b3IiLCJob3VyIiwiY29tcGV0aXRvcklkIiwidGltZXN0YW1wIiwic3Vic2NyaWJlVG9Ib3VybHlFbnRyaWVzIiwiZW50cmllcyIsIkJpZ0NhdGNoU2VydmljZSIsInNhdmVCaWdDYXRjaCIsInN1YnNjcmliZVRvQmlnQ2F0Y2hlcyIsIkp1ZGdlU2VydmljZSIsInNhdmVKdWRnZSIsImp1ZGdlIiwidWlkIiwiZ2V0SnVkZ2VCeVVpZCIsImRvY1NuYXAiLCJleGlzdHMiLCJzdWJzY3JpYmVUb0p1ZGdlcyIsImp1ZGdlcyIsIkNvbXBldGl0aW9uU2V0dGluZ3NTZXJ2aWNlIiwic2F2ZVNldHRpbmdzIiwic2V0dGluZ3MiLCJnZXRTZXR0aW5ncyIsInN1YnNjcmliZVRvU2V0dGluZ3MiLCJQdWJsaWNBcHBlYXJhbmNlU2VydmljZSIsIkF1ZGl0TG9nU2VydmljZSIsImxvZ0F1ZGl0QWN0aW9uIiwic3Vic2NyaWJlVG9BdWRpdExvZ3MiLCJsb2dzIiwic2F2ZUNvbXBldGl0aW9uU2V0dGluZ3MiLCJzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/firestore-services.ts\n"));

/***/ })

});