"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/page",{

/***/ "(app-pages-browser)/./node_modules/@firebase/storage/dist/index.esm.js":
/*!**********************************************************!*\
  !*** ./node_modules/@firebase/storage/dist/index.esm.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StorageError: function() { return /* binding */ StorageError; },\n/* harmony export */   StorageErrorCode: function() { return /* binding */ StorageErrorCode; },\n/* harmony export */   StringFormat: function() { return /* binding */ StringFormat; },\n/* harmony export */   _FbsBlob: function() { return /* binding */ FbsBlob; },\n/* harmony export */   _Location: function() { return /* binding */ Location; },\n/* harmony export */   _TaskEvent: function() { return /* binding */ TaskEvent; },\n/* harmony export */   _TaskState: function() { return /* binding */ TaskState; },\n/* harmony export */   _UploadTask: function() { return /* binding */ UploadTask; },\n/* harmony export */   _dataFromString: function() { return /* binding */ dataFromString; },\n/* harmony export */   _getChild: function() { return /* binding */ _getChild; },\n/* harmony export */   _invalidArgument: function() { return /* binding */ invalidArgument; },\n/* harmony export */   _invalidRootOperation: function() { return /* binding */ invalidRootOperation; },\n/* harmony export */   connectStorageEmulator: function() { return /* binding */ connectStorageEmulator; },\n/* harmony export */   deleteObject: function() { return /* binding */ deleteObject; },\n/* harmony export */   getBlob: function() { return /* binding */ getBlob; },\n/* harmony export */   getBytes: function() { return /* binding */ getBytes; },\n/* harmony export */   getDownloadURL: function() { return /* binding */ getDownloadURL; },\n/* harmony export */   getMetadata: function() { return /* binding */ getMetadata; },\n/* harmony export */   getStorage: function() { return /* binding */ getStorage; },\n/* harmony export */   getStream: function() { return /* binding */ getStream; },\n/* harmony export */   list: function() { return /* binding */ list; },\n/* harmony export */   listAll: function() { return /* binding */ listAll; },\n/* harmony export */   ref: function() { return /* binding */ ref; },\n/* harmony export */   updateMetadata: function() { return /* binding */ updateMetadata; },\n/* harmony export */   uploadBytes: function() { return /* binding */ uploadBytes; },\n/* harmony export */   uploadBytesResumable: function() { return /* binding */ uploadBytesResumable; },\n/* harmony export */   uploadString: function() { return /* binding */ uploadString; }\n/* harmony export */ });\n/* harmony import */ var _firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/app */ \"(app-pages-browser)/./node_modules/@firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase_util__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @firebase/util */ \"(app-pages-browser)/./node_modules/@firebase/util/dist/index.esm.js\");\n/* harmony import */ var _firebase_component__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @firebase/component */ \"(app-pages-browser)/./node_modules/@firebase/component/dist/esm/index.esm.js\");\n\n\n\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @fileoverview Constants used in the Firebase Storage library.\n */\n/**\n * Domain name for firebase storage.\n */\nconst DEFAULT_HOST = 'firebasestorage.googleapis.com';\n/**\n * The key in Firebase config json for the storage bucket.\n */\nconst CONFIG_STORAGE_BUCKET_KEY = 'storageBucket';\n/**\n * 2 minutes\n *\n * The timeout for all operations except upload.\n */\nconst DEFAULT_MAX_OPERATION_RETRY_TIME = 2 * 60 * 1000;\n/**\n * 10 minutes\n *\n * The timeout for upload.\n */\nconst DEFAULT_MAX_UPLOAD_RETRY_TIME = 10 * 60 * 1000;\n/**\n * 1 second\n */\nconst DEFAULT_MIN_SLEEP_TIME_MILLIS = 1000;\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An error returned by the Firebase Storage SDK.\n * @public\n */\nclass StorageError extends _firebase_util__WEBPACK_IMPORTED_MODULE_1__.FirebaseError {\n    /**\n     * @param code - A `StorageErrorCode` string to be prefixed with 'storage/' and\n     *  added to the end of the message.\n     * @param message  - Error message.\n     * @param status_ - Corresponding HTTP Status Code\n     */\n    constructor(code, message, status_ = 0) {\n        super(prependCode(code), `Firebase Storage: ${message} (${prependCode(code)})`);\n        this.status_ = status_;\n        /**\n         * Stores custom error data unique to the `StorageError`.\n         */\n        this.customData = { serverResponse: null };\n        this._baseMessage = this.message;\n        // Without this, `instanceof StorageError`, in tests for example,\n        // returns false.\n        Object.setPrototypeOf(this, StorageError.prototype);\n    }\n    get status() {\n        return this.status_;\n    }\n    set status(status) {\n        this.status_ = status;\n    }\n    /**\n     * Compares a `StorageErrorCode` against this error's code, filtering out the prefix.\n     */\n    _codeEquals(code) {\n        return prependCode(code) === this.code;\n    }\n    /**\n     * Optional response message that was added by the server.\n     */\n    get serverResponse() {\n        return this.customData.serverResponse;\n    }\n    set serverResponse(serverResponse) {\n        this.customData.serverResponse = serverResponse;\n        if (this.customData.serverResponse) {\n            this.message = `${this._baseMessage}\\n${this.customData.serverResponse}`;\n        }\n        else {\n            this.message = this._baseMessage;\n        }\n    }\n}\n/**\n * @public\n * Error codes that can be attached to `StorageError` objects.\n */\nvar StorageErrorCode;\n(function (StorageErrorCode) {\n    // Shared between all platforms\n    StorageErrorCode[\"UNKNOWN\"] = \"unknown\";\n    StorageErrorCode[\"OBJECT_NOT_FOUND\"] = \"object-not-found\";\n    StorageErrorCode[\"BUCKET_NOT_FOUND\"] = \"bucket-not-found\";\n    StorageErrorCode[\"PROJECT_NOT_FOUND\"] = \"project-not-found\";\n    StorageErrorCode[\"QUOTA_EXCEEDED\"] = \"quota-exceeded\";\n    StorageErrorCode[\"UNAUTHENTICATED\"] = \"unauthenticated\";\n    StorageErrorCode[\"UNAUTHORIZED\"] = \"unauthorized\";\n    StorageErrorCode[\"UNAUTHORIZED_APP\"] = \"unauthorized-app\";\n    StorageErrorCode[\"RETRY_LIMIT_EXCEEDED\"] = \"retry-limit-exceeded\";\n    StorageErrorCode[\"INVALID_CHECKSUM\"] = \"invalid-checksum\";\n    StorageErrorCode[\"CANCELED\"] = \"canceled\";\n    // JS specific\n    StorageErrorCode[\"INVALID_EVENT_NAME\"] = \"invalid-event-name\";\n    StorageErrorCode[\"INVALID_URL\"] = \"invalid-url\";\n    StorageErrorCode[\"INVALID_DEFAULT_BUCKET\"] = \"invalid-default-bucket\";\n    StorageErrorCode[\"NO_DEFAULT_BUCKET\"] = \"no-default-bucket\";\n    StorageErrorCode[\"CANNOT_SLICE_BLOB\"] = \"cannot-slice-blob\";\n    StorageErrorCode[\"SERVER_FILE_WRONG_SIZE\"] = \"server-file-wrong-size\";\n    StorageErrorCode[\"NO_DOWNLOAD_URL\"] = \"no-download-url\";\n    StorageErrorCode[\"INVALID_ARGUMENT\"] = \"invalid-argument\";\n    StorageErrorCode[\"INVALID_ARGUMENT_COUNT\"] = \"invalid-argument-count\";\n    StorageErrorCode[\"APP_DELETED\"] = \"app-deleted\";\n    StorageErrorCode[\"INVALID_ROOT_OPERATION\"] = \"invalid-root-operation\";\n    StorageErrorCode[\"INVALID_FORMAT\"] = \"invalid-format\";\n    StorageErrorCode[\"INTERNAL_ERROR\"] = \"internal-error\";\n    StorageErrorCode[\"UNSUPPORTED_ENVIRONMENT\"] = \"unsupported-environment\";\n})(StorageErrorCode || (StorageErrorCode = {}));\nfunction prependCode(code) {\n    return 'storage/' + code;\n}\nfunction unknown() {\n    const message = 'An unknown error occurred, please check the error payload for ' +\n        'server response.';\n    return new StorageError(StorageErrorCode.UNKNOWN, message);\n}\nfunction objectNotFound(path) {\n    return new StorageError(StorageErrorCode.OBJECT_NOT_FOUND, \"Object '\" + path + \"' does not exist.\");\n}\nfunction quotaExceeded(bucket) {\n    return new StorageError(StorageErrorCode.QUOTA_EXCEEDED, \"Quota for bucket '\" +\n        bucket +\n        \"' exceeded, please view quota on \" +\n        'https://firebase.google.com/pricing/.');\n}\nfunction unauthenticated() {\n    const message = 'User is not authenticated, please authenticate using Firebase ' +\n        'Authentication and try again.';\n    return new StorageError(StorageErrorCode.UNAUTHENTICATED, message);\n}\nfunction unauthorizedApp() {\n    return new StorageError(StorageErrorCode.UNAUTHORIZED_APP, 'This app does not have permission to access Firebase Storage on this project.');\n}\nfunction unauthorized(path) {\n    return new StorageError(StorageErrorCode.UNAUTHORIZED, \"User does not have permission to access '\" + path + \"'.\");\n}\nfunction retryLimitExceeded() {\n    return new StorageError(StorageErrorCode.RETRY_LIMIT_EXCEEDED, 'Max retry time for operation exceeded, please try again.');\n}\nfunction canceled() {\n    return new StorageError(StorageErrorCode.CANCELED, 'User canceled the upload/download.');\n}\nfunction invalidUrl(url) {\n    return new StorageError(StorageErrorCode.INVALID_URL, \"Invalid URL '\" + url + \"'.\");\n}\nfunction invalidDefaultBucket(bucket) {\n    return new StorageError(StorageErrorCode.INVALID_DEFAULT_BUCKET, \"Invalid default bucket '\" + bucket + \"'.\");\n}\nfunction noDefaultBucket() {\n    return new StorageError(StorageErrorCode.NO_DEFAULT_BUCKET, 'No default bucket ' +\n        \"found. Did you set the '\" +\n        CONFIG_STORAGE_BUCKET_KEY +\n        \"' property when initializing the app?\");\n}\nfunction cannotSliceBlob() {\n    return new StorageError(StorageErrorCode.CANNOT_SLICE_BLOB, 'Cannot slice blob for upload. Please retry the upload.');\n}\nfunction serverFileWrongSize() {\n    return new StorageError(StorageErrorCode.SERVER_FILE_WRONG_SIZE, 'Server recorded incorrect upload file size, please retry the upload.');\n}\nfunction noDownloadURL() {\n    return new StorageError(StorageErrorCode.NO_DOWNLOAD_URL, 'The given file does not have any download URLs.');\n}\nfunction missingPolyFill(polyFill) {\n    return new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT, `${polyFill} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`);\n}\n/**\n * @internal\n */\nfunction invalidArgument(message) {\n    return new StorageError(StorageErrorCode.INVALID_ARGUMENT, message);\n}\nfunction appDeleted() {\n    return new StorageError(StorageErrorCode.APP_DELETED, 'The Firebase app was deleted.');\n}\n/**\n * @param name - The name of the operation that was invalid.\n *\n * @internal\n */\nfunction invalidRootOperation(name) {\n    return new StorageError(StorageErrorCode.INVALID_ROOT_OPERATION, \"The operation '\" +\n        name +\n        \"' cannot be performed on a root reference, create a non-root \" +\n        \"reference using child, such as .child('file.png').\");\n}\n/**\n * @param format - The format that was not valid.\n * @param message - A message describing the format violation.\n */\nfunction invalidFormat(format, message) {\n    return new StorageError(StorageErrorCode.INVALID_FORMAT, \"String does not match format '\" + format + \"': \" + message);\n}\n/**\n * @param message - A message describing the internal error.\n */\nfunction internalError(message) {\n    throw new StorageError(StorageErrorCode.INTERNAL_ERROR, 'Internal error: ' + message);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Firebase Storage location data.\n *\n * @internal\n */\nclass Location {\n    constructor(bucket, path) {\n        this.bucket = bucket;\n        this.path_ = path;\n    }\n    get path() {\n        return this.path_;\n    }\n    get isRoot() {\n        return this.path.length === 0;\n    }\n    fullServerUrl() {\n        const encode = encodeURIComponent;\n        return '/b/' + encode(this.bucket) + '/o/' + encode(this.path);\n    }\n    bucketOnlyServerUrl() {\n        const encode = encodeURIComponent;\n        return '/b/' + encode(this.bucket) + '/o';\n    }\n    static makeFromBucketSpec(bucketString, host) {\n        let bucketLocation;\n        try {\n            bucketLocation = Location.makeFromUrl(bucketString, host);\n        }\n        catch (e) {\n            // Not valid URL, use as-is. This lets you put bare bucket names in\n            // config.\n            return new Location(bucketString, '');\n        }\n        if (bucketLocation.path === '') {\n            return bucketLocation;\n        }\n        else {\n            throw invalidDefaultBucket(bucketString);\n        }\n    }\n    static makeFromUrl(url, host) {\n        let location = null;\n        const bucketDomain = '([A-Za-z0-9.\\\\-_]+)';\n        function gsModify(loc) {\n            if (loc.path.charAt(loc.path.length - 1) === '/') {\n                loc.path_ = loc.path_.slice(0, -1);\n            }\n        }\n        const gsPath = '(/(.*))?$';\n        const gsRegex = new RegExp('^gs://' + bucketDomain + gsPath, 'i');\n        const gsIndices = { bucket: 1, path: 3 };\n        function httpModify(loc) {\n            loc.path_ = decodeURIComponent(loc.path);\n        }\n        const version = 'v[A-Za-z0-9_]+';\n        const firebaseStorageHost = host.replace(/[.]/g, '\\\\.');\n        const firebaseStoragePath = '(/([^?#]*).*)?$';\n        const firebaseStorageRegExp = new RegExp(`^https?://${firebaseStorageHost}/${version}/b/${bucketDomain}/o${firebaseStoragePath}`, 'i');\n        const firebaseStorageIndices = { bucket: 1, path: 3 };\n        const cloudStorageHost = host === DEFAULT_HOST\n            ? '(?:storage.googleapis.com|storage.cloud.google.com)'\n            : host;\n        const cloudStoragePath = '([^?#]*)';\n        const cloudStorageRegExp = new RegExp(`^https?://${cloudStorageHost}/${bucketDomain}/${cloudStoragePath}`, 'i');\n        const cloudStorageIndices = { bucket: 1, path: 2 };\n        const groups = [\n            { regex: gsRegex, indices: gsIndices, postModify: gsModify },\n            {\n                regex: firebaseStorageRegExp,\n                indices: firebaseStorageIndices,\n                postModify: httpModify\n            },\n            {\n                regex: cloudStorageRegExp,\n                indices: cloudStorageIndices,\n                postModify: httpModify\n            }\n        ];\n        for (let i = 0; i < groups.length; i++) {\n            const group = groups[i];\n            const captures = group.regex.exec(url);\n            if (captures) {\n                const bucketValue = captures[group.indices.bucket];\n                let pathValue = captures[group.indices.path];\n                if (!pathValue) {\n                    pathValue = '';\n                }\n                location = new Location(bucketValue, pathValue);\n                group.postModify(location);\n                break;\n            }\n        }\n        if (location == null) {\n            throw invalidUrl(url);\n        }\n        return location;\n    }\n}\n\n/**\n * A request whose promise always fails.\n */\nclass FailRequest {\n    constructor(error) {\n        this.promise_ = Promise.reject(error);\n    }\n    /** @inheritDoc */\n    getPromise() {\n        return this.promise_;\n    }\n    /** @inheritDoc */\n    cancel(_appDelete = false) { }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Accepts a callback for an action to perform (`doRequest`),\n * and then a callback for when the backoff has completed (`backoffCompleteCb`).\n * The callback sent to start requires an argument to call (`onRequestComplete`).\n * When `start` calls `doRequest`, it passes a callback for when the request has\n * completed, `onRequestComplete`. Based on this, the backoff continues, with\n * another call to `doRequest` and the above loop continues until the timeout\n * is hit, or a successful response occurs.\n * @description\n * @param doRequest Callback to perform request\n * @param backoffCompleteCb Callback to call when backoff has been completed\n */\nfunction start(doRequest, \n// eslint-disable-next-line @typescript-eslint/no-explicit-any\nbackoffCompleteCb, timeout) {\n    // TODO(andysoto): make this code cleaner (probably refactor into an actual\n    // type instead of a bunch of functions with state shared in the closure)\n    let waitSeconds = 1;\n    // Would type this as \"number\" but that doesn't work for Node so ¯\\_(ツ)_/¯\n    // TODO: find a way to exclude Node type definition for storage because storage only works in browser\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let retryTimeoutId = null;\n    // eslint-disable-next-line @typescript-eslint/no-explicit-any\n    let globalTimeoutId = null;\n    let hitTimeout = false;\n    let cancelState = 0;\n    function canceled() {\n        return cancelState === 2;\n    }\n    let triggeredCallback = false;\n    function triggerCallback(...args) {\n        if (!triggeredCallback) {\n            triggeredCallback = true;\n            backoffCompleteCb.apply(null, args);\n        }\n    }\n    function callWithDelay(millis) {\n        retryTimeoutId = setTimeout(() => {\n            retryTimeoutId = null;\n            doRequest(responseHandler, canceled());\n        }, millis);\n    }\n    function clearGlobalTimeout() {\n        if (globalTimeoutId) {\n            clearTimeout(globalTimeoutId);\n        }\n    }\n    function responseHandler(success, ...args) {\n        if (triggeredCallback) {\n            clearGlobalTimeout();\n            return;\n        }\n        if (success) {\n            clearGlobalTimeout();\n            triggerCallback.call(null, success, ...args);\n            return;\n        }\n        const mustStop = canceled() || hitTimeout;\n        if (mustStop) {\n            clearGlobalTimeout();\n            triggerCallback.call(null, success, ...args);\n            return;\n        }\n        if (waitSeconds < 64) {\n            /* TODO(andysoto): don't back off so quickly if we know we're offline. */\n            waitSeconds *= 2;\n        }\n        let waitMillis;\n        if (cancelState === 1) {\n            cancelState = 2;\n            waitMillis = 0;\n        }\n        else {\n            waitMillis = (waitSeconds + Math.random()) * 1000;\n        }\n        callWithDelay(waitMillis);\n    }\n    let stopped = false;\n    function stop(wasTimeout) {\n        if (stopped) {\n            return;\n        }\n        stopped = true;\n        clearGlobalTimeout();\n        if (triggeredCallback) {\n            return;\n        }\n        if (retryTimeoutId !== null) {\n            if (!wasTimeout) {\n                cancelState = 2;\n            }\n            clearTimeout(retryTimeoutId);\n            callWithDelay(0);\n        }\n        else {\n            if (!wasTimeout) {\n                cancelState = 1;\n            }\n        }\n    }\n    callWithDelay(0);\n    globalTimeoutId = setTimeout(() => {\n        hitTimeout = true;\n        stop(true);\n    }, timeout);\n    return stop;\n}\n/**\n * Stops the retry loop from repeating.\n * If the function is currently \"in between\" retries, it is invoked immediately\n * with the second parameter as \"true\". Otherwise, it will be invoked once more\n * after the current invocation finishes iff the current invocation would have\n * triggered another retry.\n */\nfunction stop(id) {\n    id(false);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isJustDef(p) {\n    return p !== void 0;\n}\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction isFunction(p) {\n    return typeof p === 'function';\n}\nfunction isNonArrayObject(p) {\n    return typeof p === 'object' && !Array.isArray(p);\n}\nfunction isString(p) {\n    return typeof p === 'string' || p instanceof String;\n}\nfunction isNativeBlob(p) {\n    return isNativeBlobDefined() && p instanceof Blob;\n}\nfunction isNativeBlobDefined() {\n    return typeof Blob !== 'undefined';\n}\nfunction validateNumber(argument, minValue, maxValue, value) {\n    if (value < minValue) {\n        throw invalidArgument(`Invalid value for '${argument}'. Expected ${minValue} or greater.`);\n    }\n    if (value > maxValue) {\n        throw invalidArgument(`Invalid value for '${argument}'. Expected ${maxValue} or less.`);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction makeUrl(urlPart, host, protocol) {\n    let origin = host;\n    if (protocol == null) {\n        origin = `https://${host}`;\n    }\n    return `${protocol}://${origin}/v0${urlPart}`;\n}\nfunction makeQueryString(params) {\n    const encode = encodeURIComponent;\n    let queryPart = '?';\n    for (const key in params) {\n        if (params.hasOwnProperty(key)) {\n            const nextPart = encode(key) + '=' + encode(params[key]);\n            queryPart = queryPart + nextPart + '&';\n        }\n    }\n    // Chop off the extra '&' or '?' on the end\n    queryPart = queryPart.slice(0, -1);\n    return queryPart;\n}\n\n/**\n * Error codes for requests made by the XhrIo wrapper.\n */\nvar ErrorCode;\n(function (ErrorCode) {\n    ErrorCode[ErrorCode[\"NO_ERROR\"] = 0] = \"NO_ERROR\";\n    ErrorCode[ErrorCode[\"NETWORK_ERROR\"] = 1] = \"NETWORK_ERROR\";\n    ErrorCode[ErrorCode[\"ABORT\"] = 2] = \"ABORT\";\n})(ErrorCode || (ErrorCode = {}));\n\n/**\n * @license\n * Copyright 2022 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Checks the status code to see if the action should be retried.\n *\n * @param status Current HTTP status code returned by server.\n * @param additionalRetryCodes additional retry codes to check against\n */\nfunction isRetryStatusCode(status, additionalRetryCodes) {\n    // The codes for which to retry came from this page:\n    // https://cloud.google.com/storage/docs/exponential-backoff\n    const isFiveHundredCode = status >= 500 && status < 600;\n    const extraRetryCodes = [\n        // Request Timeout: web server didn't receive full request in time.\n        408,\n        // Too Many Requests: you're getting rate-limited, basically.\n        429\n    ];\n    const isExtraRetryCode = extraRetryCodes.indexOf(status) !== -1;\n    const isAdditionalRetryCode = additionalRetryCodes.indexOf(status) !== -1;\n    return isFiveHundredCode || isExtraRetryCode || isAdditionalRetryCode;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Handles network logic for all Storage Requests, including error reporting and\n * retries with backoff.\n *\n * @param I - the type of the backend's network response.\n * @param - O the output type used by the rest of the SDK. The conversion\n * happens in the specified `callback_`.\n */\nclass NetworkRequest {\n    constructor(url_, method_, headers_, body_, successCodes_, additionalRetryCodes_, callback_, errorCallback_, timeout_, progressCallback_, connectionFactory_, retry = true, isUsingEmulator = false) {\n        this.url_ = url_;\n        this.method_ = method_;\n        this.headers_ = headers_;\n        this.body_ = body_;\n        this.successCodes_ = successCodes_;\n        this.additionalRetryCodes_ = additionalRetryCodes_;\n        this.callback_ = callback_;\n        this.errorCallback_ = errorCallback_;\n        this.timeout_ = timeout_;\n        this.progressCallback_ = progressCallback_;\n        this.connectionFactory_ = connectionFactory_;\n        this.retry = retry;\n        this.isUsingEmulator = isUsingEmulator;\n        this.pendingConnection_ = null;\n        this.backoffId_ = null;\n        this.canceled_ = false;\n        this.appDelete_ = false;\n        this.promise_ = new Promise((resolve, reject) => {\n            this.resolve_ = resolve;\n            this.reject_ = reject;\n            this.start_();\n        });\n    }\n    /**\n     * Actually starts the retry loop.\n     */\n    start_() {\n        const doTheRequest = (backoffCallback, canceled) => {\n            if (canceled) {\n                backoffCallback(false, new RequestEndStatus(false, null, true));\n                return;\n            }\n            const connection = this.connectionFactory_();\n            this.pendingConnection_ = connection;\n            const progressListener = progressEvent => {\n                const loaded = progressEvent.loaded;\n                const total = progressEvent.lengthComputable ? progressEvent.total : -1;\n                if (this.progressCallback_ !== null) {\n                    this.progressCallback_(loaded, total);\n                }\n            };\n            if (this.progressCallback_ !== null) {\n                connection.addUploadProgressListener(progressListener);\n            }\n            // connection.send() never rejects, so we don't need to have a error handler or use catch on the returned promise.\n            // eslint-disable-next-line @typescript-eslint/no-floating-promises\n            connection\n                .send(this.url_, this.method_, this.isUsingEmulator, this.body_, this.headers_)\n                .then(() => {\n                if (this.progressCallback_ !== null) {\n                    connection.removeUploadProgressListener(progressListener);\n                }\n                this.pendingConnection_ = null;\n                const hitServer = connection.getErrorCode() === ErrorCode.NO_ERROR;\n                const status = connection.getStatus();\n                if (!hitServer ||\n                    (isRetryStatusCode(status, this.additionalRetryCodes_) &&\n                        this.retry)) {\n                    const wasCanceled = connection.getErrorCode() === ErrorCode.ABORT;\n                    backoffCallback(false, new RequestEndStatus(false, null, wasCanceled));\n                    return;\n                }\n                const successCode = this.successCodes_.indexOf(status) !== -1;\n                backoffCallback(true, new RequestEndStatus(successCode, connection));\n            });\n        };\n        /**\n         * @param requestWentThrough - True if the request eventually went\n         *     through, false if it hit the retry limit or was canceled.\n         */\n        const backoffDone = (requestWentThrough, status) => {\n            const resolve = this.resolve_;\n            const reject = this.reject_;\n            const connection = status.connection;\n            if (status.wasSuccessCode) {\n                try {\n                    const result = this.callback_(connection, connection.getResponse());\n                    if (isJustDef(result)) {\n                        resolve(result);\n                    }\n                    else {\n                        resolve();\n                    }\n                }\n                catch (e) {\n                    reject(e);\n                }\n            }\n            else {\n                if (connection !== null) {\n                    const err = unknown();\n                    err.serverResponse = connection.getErrorText();\n                    if (this.errorCallback_) {\n                        reject(this.errorCallback_(connection, err));\n                    }\n                    else {\n                        reject(err);\n                    }\n                }\n                else {\n                    if (status.canceled) {\n                        const err = this.appDelete_ ? appDeleted() : canceled();\n                        reject(err);\n                    }\n                    else {\n                        const err = retryLimitExceeded();\n                        reject(err);\n                    }\n                }\n            }\n        };\n        if (this.canceled_) {\n            backoffDone(false, new RequestEndStatus(false, null, true));\n        }\n        else {\n            this.backoffId_ = start(doTheRequest, backoffDone, this.timeout_);\n        }\n    }\n    /** @inheritDoc */\n    getPromise() {\n        return this.promise_;\n    }\n    /** @inheritDoc */\n    cancel(appDelete) {\n        this.canceled_ = true;\n        this.appDelete_ = appDelete || false;\n        if (this.backoffId_ !== null) {\n            stop(this.backoffId_);\n        }\n        if (this.pendingConnection_ !== null) {\n            this.pendingConnection_.abort();\n        }\n    }\n}\n/**\n * A collection of information about the result of a network request.\n * @param opt_canceled - Defaults to false.\n */\nclass RequestEndStatus {\n    constructor(wasSuccessCode, connection, canceled) {\n        this.wasSuccessCode = wasSuccessCode;\n        this.connection = connection;\n        this.canceled = !!canceled;\n    }\n}\nfunction addAuthHeader_(headers, authToken) {\n    if (authToken !== null && authToken.length > 0) {\n        headers['Authorization'] = 'Firebase ' + authToken;\n    }\n}\nfunction addVersionHeader_(headers, firebaseVersion) {\n    headers['X-Firebase-Storage-Version'] =\n        'webjs/' + (firebaseVersion ?? 'AppManager');\n}\nfunction addGmpidHeader_(headers, appId) {\n    if (appId) {\n        headers['X-Firebase-GMPID'] = appId;\n    }\n}\nfunction addAppCheckHeader_(headers, appCheckToken) {\n    if (appCheckToken !== null) {\n        headers['X-Firebase-AppCheck'] = appCheckToken;\n    }\n}\nfunction makeRequest(requestInfo, appId, authToken, appCheckToken, requestFactory, firebaseVersion, retry = true, isUsingEmulator = false) {\n    const queryPart = makeQueryString(requestInfo.urlParams);\n    const url = requestInfo.url + queryPart;\n    const headers = Object.assign({}, requestInfo.headers);\n    addGmpidHeader_(headers, appId);\n    addAuthHeader_(headers, authToken);\n    addVersionHeader_(headers, firebaseVersion);\n    addAppCheckHeader_(headers, appCheckToken);\n    return new NetworkRequest(url, requestInfo.method, headers, requestInfo.body, requestInfo.successCodes, requestInfo.additionalRetryCodes, requestInfo.handler, requestInfo.errorHandler, requestInfo.timeout, requestInfo.progressCallback, requestFactory, retry, isUsingEmulator);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction getBlobBuilder() {\n    if (typeof BlobBuilder !== 'undefined') {\n        return BlobBuilder;\n    }\n    else if (typeof WebKitBlobBuilder !== 'undefined') {\n        return WebKitBlobBuilder;\n    }\n    else {\n        return undefined;\n    }\n}\n/**\n * Concatenates one or more values together and converts them to a Blob.\n *\n * @param args The values that will make up the resulting blob.\n * @return The blob.\n */\nfunction getBlob$1(...args) {\n    const BlobBuilder = getBlobBuilder();\n    if (BlobBuilder !== undefined) {\n        const bb = new BlobBuilder();\n        for (let i = 0; i < args.length; i++) {\n            bb.append(args[i]);\n        }\n        return bb.getBlob();\n    }\n    else {\n        if (isNativeBlobDefined()) {\n            return new Blob(args);\n        }\n        else {\n            throw new StorageError(StorageErrorCode.UNSUPPORTED_ENVIRONMENT, \"This browser doesn't seem to support creating Blobs\");\n        }\n    }\n}\n/**\n * Slices the blob. The returned blob contains data from the start byte\n * (inclusive) till the end byte (exclusive). Negative indices cannot be used.\n *\n * @param blob The blob to be sliced.\n * @param start Index of the starting byte.\n * @param end Index of the ending byte.\n * @return The blob slice or null if not supported.\n */\nfunction sliceBlob(blob, start, end) {\n    if (blob.webkitSlice) {\n        return blob.webkitSlice(start, end);\n    }\n    else if (blob.mozSlice) {\n        return blob.mozSlice(start, end);\n    }\n    else if (blob.slice) {\n        return blob.slice(start, end);\n    }\n    return null;\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** Converts a Base64 encoded string to a binary string. */\nfunction decodeBase64(encoded) {\n    if (typeof atob === 'undefined') {\n        throw missingPolyFill('base-64');\n    }\n    return atob(encoded);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An enumeration of the possible string formats for upload.\n * @public\n */\nconst StringFormat = {\n    /**\n     * Indicates the string should be interpreted \"raw\", that is, as normal text.\n     * The string will be interpreted as UTF-16, then uploaded as a UTF-8 byte\n     * sequence.\n     * Example: The string 'Hello! \\\\ud83d\\\\ude0a' becomes the byte sequence\n     * 48 65 6c 6c 6f 21 20 f0 9f 98 8a\n     */\n    RAW: 'raw',\n    /**\n     * Indicates the string should be interpreted as base64-encoded data.\n     * Padding characters (trailing '='s) are optional.\n     * Example: The string 'rWmO++E6t7/rlw==' becomes the byte sequence\n     * ad 69 8e fb e1 3a b7 bf eb 97\n     */\n    BASE64: 'base64',\n    /**\n     * Indicates the string should be interpreted as base64url-encoded data.\n     * Padding characters (trailing '='s) are optional.\n     * Example: The string 'rWmO--E6t7_rlw==' becomes the byte sequence\n     * ad 69 8e fb e1 3a b7 bf eb 97\n     */\n    BASE64URL: 'base64url',\n    /**\n     * Indicates the string is a data URL, such as one obtained from\n     * canvas.toDataURL().\n     * Example: the string 'data:application/octet-stream;base64,aaaa'\n     * becomes the byte sequence\n     * 69 a6 9a\n     * (the content-type \"application/octet-stream\" is also applied, but can\n     * be overridden in the metadata object).\n     */\n    DATA_URL: 'data_url'\n};\nclass StringData {\n    constructor(data, contentType) {\n        this.data = data;\n        this.contentType = contentType || null;\n    }\n}\n/**\n * @internal\n */\nfunction dataFromString(format, stringData) {\n    switch (format) {\n        case StringFormat.RAW:\n            return new StringData(utf8Bytes_(stringData));\n        case StringFormat.BASE64:\n        case StringFormat.BASE64URL:\n            return new StringData(base64Bytes_(format, stringData));\n        case StringFormat.DATA_URL:\n            return new StringData(dataURLBytes_(stringData), dataURLContentType_(stringData));\n        // do nothing\n    }\n    // assert(false);\n    throw unknown();\n}\nfunction utf8Bytes_(value) {\n    const b = [];\n    for (let i = 0; i < value.length; i++) {\n        let c = value.charCodeAt(i);\n        if (c <= 127) {\n            b.push(c);\n        }\n        else {\n            if (c <= 2047) {\n                b.push(192 | (c >> 6), 128 | (c & 63));\n            }\n            else {\n                if ((c & 64512) === 55296) {\n                    // The start of a surrogate pair.\n                    const valid = i < value.length - 1 && (value.charCodeAt(i + 1) & 64512) === 56320;\n                    if (!valid) {\n                        // The second surrogate wasn't there.\n                        b.push(239, 191, 189);\n                    }\n                    else {\n                        const hi = c;\n                        const lo = value.charCodeAt(++i);\n                        c = 65536 | ((hi & 1023) << 10) | (lo & 1023);\n                        b.push(240 | (c >> 18), 128 | ((c >> 12) & 63), 128 | ((c >> 6) & 63), 128 | (c & 63));\n                    }\n                }\n                else {\n                    if ((c & 64512) === 56320) {\n                        // Invalid low surrogate.\n                        b.push(239, 191, 189);\n                    }\n                    else {\n                        b.push(224 | (c >> 12), 128 | ((c >> 6) & 63), 128 | (c & 63));\n                    }\n                }\n            }\n        }\n    }\n    return new Uint8Array(b);\n}\nfunction percentEncodedBytes_(value) {\n    let decoded;\n    try {\n        decoded = decodeURIComponent(value);\n    }\n    catch (e) {\n        throw invalidFormat(StringFormat.DATA_URL, 'Malformed data URL.');\n    }\n    return utf8Bytes_(decoded);\n}\nfunction base64Bytes_(format, value) {\n    switch (format) {\n        case StringFormat.BASE64: {\n            const hasMinus = value.indexOf('-') !== -1;\n            const hasUnder = value.indexOf('_') !== -1;\n            if (hasMinus || hasUnder) {\n                const invalidChar = hasMinus ? '-' : '_';\n                throw invalidFormat(format, \"Invalid character '\" +\n                    invalidChar +\n                    \"' found: is it base64url encoded?\");\n            }\n            break;\n        }\n        case StringFormat.BASE64URL: {\n            const hasPlus = value.indexOf('+') !== -1;\n            const hasSlash = value.indexOf('/') !== -1;\n            if (hasPlus || hasSlash) {\n                const invalidChar = hasPlus ? '+' : '/';\n                throw invalidFormat(format, \"Invalid character '\" + invalidChar + \"' found: is it base64 encoded?\");\n            }\n            value = value.replace(/-/g, '+').replace(/_/g, '/');\n            break;\n        }\n        // do nothing\n    }\n    let bytes;\n    try {\n        bytes = decodeBase64(value);\n    }\n    catch (e) {\n        if (e.message.includes('polyfill')) {\n            throw e;\n        }\n        throw invalidFormat(format, 'Invalid character found');\n    }\n    const array = new Uint8Array(bytes.length);\n    for (let i = 0; i < bytes.length; i++) {\n        array[i] = bytes.charCodeAt(i);\n    }\n    return array;\n}\nclass DataURLParts {\n    constructor(dataURL) {\n        this.base64 = false;\n        this.contentType = null;\n        const matches = dataURL.match(/^data:([^,]+)?,/);\n        if (matches === null) {\n            throw invalidFormat(StringFormat.DATA_URL, \"Must be formatted 'data:[<mediatype>][;base64],<data>\");\n        }\n        const middle = matches[1] || null;\n        if (middle != null) {\n            this.base64 = endsWith(middle, ';base64');\n            this.contentType = this.base64\n                ? middle.substring(0, middle.length - ';base64'.length)\n                : middle;\n        }\n        this.rest = dataURL.substring(dataURL.indexOf(',') + 1);\n    }\n}\nfunction dataURLBytes_(dataUrl) {\n    const parts = new DataURLParts(dataUrl);\n    if (parts.base64) {\n        return base64Bytes_(StringFormat.BASE64, parts.rest);\n    }\n    else {\n        return percentEncodedBytes_(parts.rest);\n    }\n}\nfunction dataURLContentType_(dataUrl) {\n    const parts = new DataURLParts(dataUrl);\n    return parts.contentType;\n}\nfunction endsWith(s, end) {\n    const longEnough = s.length >= end.length;\n    if (!longEnough) {\n        return false;\n    }\n    return s.substring(s.length - end.length) === end;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @param opt_elideCopy - If true, doesn't copy mutable input data\n *     (e.g. Uint8Arrays). Pass true only if you know the objects will not be\n *     modified after this blob's construction.\n *\n * @internal\n */\nclass FbsBlob {\n    constructor(data, elideCopy) {\n        let size = 0;\n        let blobType = '';\n        if (isNativeBlob(data)) {\n            this.data_ = data;\n            size = data.size;\n            blobType = data.type;\n        }\n        else if (data instanceof ArrayBuffer) {\n            if (elideCopy) {\n                this.data_ = new Uint8Array(data);\n            }\n            else {\n                this.data_ = new Uint8Array(data.byteLength);\n                this.data_.set(new Uint8Array(data));\n            }\n            size = this.data_.length;\n        }\n        else if (data instanceof Uint8Array) {\n            if (elideCopy) {\n                this.data_ = data;\n            }\n            else {\n                this.data_ = new Uint8Array(data.length);\n                this.data_.set(data);\n            }\n            size = data.length;\n        }\n        this.size_ = size;\n        this.type_ = blobType;\n    }\n    size() {\n        return this.size_;\n    }\n    type() {\n        return this.type_;\n    }\n    slice(startByte, endByte) {\n        if (isNativeBlob(this.data_)) {\n            const realBlob = this.data_;\n            const sliced = sliceBlob(realBlob, startByte, endByte);\n            if (sliced === null) {\n                return null;\n            }\n            return new FbsBlob(sliced);\n        }\n        else {\n            const slice = new Uint8Array(this.data_.buffer, startByte, endByte - startByte);\n            return new FbsBlob(slice, true);\n        }\n    }\n    static getBlob(...args) {\n        if (isNativeBlobDefined()) {\n            const blobby = args.map((val) => {\n                if (val instanceof FbsBlob) {\n                    return val.data_;\n                }\n                else {\n                    return val;\n                }\n            });\n            return new FbsBlob(getBlob$1.apply(null, blobby));\n        }\n        else {\n            const uint8Arrays = args.map((val) => {\n                if (isString(val)) {\n                    return dataFromString(StringFormat.RAW, val).data;\n                }\n                else {\n                    // Blobs don't exist, so this has to be a Uint8Array.\n                    return val.data_;\n                }\n            });\n            let finalLength = 0;\n            uint8Arrays.forEach((array) => {\n                finalLength += array.byteLength;\n            });\n            const merged = new Uint8Array(finalLength);\n            let index = 0;\n            uint8Arrays.forEach((array) => {\n                for (let i = 0; i < array.length; i++) {\n                    merged[index++] = array[i];\n                }\n            });\n            return new FbsBlob(merged, true);\n        }\n    }\n    uploadData() {\n        return this.data_;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Returns the Object resulting from parsing the given JSON, or null if the\n * given string does not represent a JSON object.\n */\nfunction jsonObjectOrNull(s) {\n    let obj;\n    try {\n        obj = JSON.parse(s);\n    }\n    catch (e) {\n        return null;\n    }\n    if (isNonArrayObject(obj)) {\n        return obj;\n    }\n    else {\n        return null;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * @fileoverview Contains helper methods for manipulating paths.\n */\n/**\n * @return Null if the path is already at the root.\n */\nfunction parent(path) {\n    if (path.length === 0) {\n        return null;\n    }\n    const index = path.lastIndexOf('/');\n    if (index === -1) {\n        return '';\n    }\n    const newPath = path.slice(0, index);\n    return newPath;\n}\nfunction child(path, childPath) {\n    const canonicalChildPath = childPath\n        .split('/')\n        .filter(component => component.length > 0)\n        .join('/');\n    if (path.length === 0) {\n        return canonicalChildPath;\n    }\n    else {\n        return path + '/' + canonicalChildPath;\n    }\n}\n/**\n * Returns the last component of a path.\n * '/foo/bar' -> 'bar'\n * '/foo/bar/baz/' -> 'baz/'\n * '/a' -> 'a'\n */\nfunction lastComponent(path) {\n    const index = path.lastIndexOf('/', path.length - 2);\n    if (index === -1) {\n        return path;\n    }\n    else {\n        return path.slice(index + 1);\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction noXform_(metadata, value) {\n    return value;\n}\nclass Mapping {\n    constructor(server, local, writable, xform) {\n        this.server = server;\n        this.local = local || server;\n        this.writable = !!writable;\n        this.xform = xform || noXform_;\n    }\n}\nlet mappings_ = null;\nfunction xformPath(fullPath) {\n    if (!isString(fullPath) || fullPath.length < 2) {\n        return fullPath;\n    }\n    else {\n        return lastComponent(fullPath);\n    }\n}\nfunction getMappings() {\n    if (mappings_) {\n        return mappings_;\n    }\n    const mappings = [];\n    mappings.push(new Mapping('bucket'));\n    mappings.push(new Mapping('generation'));\n    mappings.push(new Mapping('metageneration'));\n    mappings.push(new Mapping('name', 'fullPath', true));\n    function mappingsXformPath(_metadata, fullPath) {\n        return xformPath(fullPath);\n    }\n    const nameMapping = new Mapping('name');\n    nameMapping.xform = mappingsXformPath;\n    mappings.push(nameMapping);\n    /**\n     * Coerces the second param to a number, if it is defined.\n     */\n    function xformSize(_metadata, size) {\n        if (size !== undefined) {\n            return Number(size);\n        }\n        else {\n            return size;\n        }\n    }\n    const sizeMapping = new Mapping('size');\n    sizeMapping.xform = xformSize;\n    mappings.push(sizeMapping);\n    mappings.push(new Mapping('timeCreated'));\n    mappings.push(new Mapping('updated'));\n    mappings.push(new Mapping('md5Hash', null, true));\n    mappings.push(new Mapping('cacheControl', null, true));\n    mappings.push(new Mapping('contentDisposition', null, true));\n    mappings.push(new Mapping('contentEncoding', null, true));\n    mappings.push(new Mapping('contentLanguage', null, true));\n    mappings.push(new Mapping('contentType', null, true));\n    mappings.push(new Mapping('metadata', 'customMetadata', true));\n    mappings_ = mappings;\n    return mappings_;\n}\nfunction addRef(metadata, service) {\n    function generateRef() {\n        const bucket = metadata['bucket'];\n        const path = metadata['fullPath'];\n        const loc = new Location(bucket, path);\n        return service._makeStorageReference(loc);\n    }\n    Object.defineProperty(metadata, 'ref', { get: generateRef });\n}\nfunction fromResource(service, resource, mappings) {\n    const metadata = {};\n    metadata['type'] = 'file';\n    const len = mappings.length;\n    for (let i = 0; i < len; i++) {\n        const mapping = mappings[i];\n        metadata[mapping.local] = mapping.xform(metadata, resource[mapping.server]);\n    }\n    addRef(metadata, service);\n    return metadata;\n}\nfunction fromResourceString(service, resourceString, mappings) {\n    const obj = jsonObjectOrNull(resourceString);\n    if (obj === null) {\n        return null;\n    }\n    const resource = obj;\n    return fromResource(service, resource, mappings);\n}\nfunction downloadUrlFromResourceString(metadata, resourceString, host, protocol) {\n    const obj = jsonObjectOrNull(resourceString);\n    if (obj === null) {\n        return null;\n    }\n    if (!isString(obj['downloadTokens'])) {\n        // This can happen if objects are uploaded through GCS and retrieved\n        // through list, so we don't want to throw an Error.\n        return null;\n    }\n    const tokens = obj['downloadTokens'];\n    if (tokens.length === 0) {\n        return null;\n    }\n    const encode = encodeURIComponent;\n    const tokensList = tokens.split(',');\n    const urls = tokensList.map((token) => {\n        const bucket = metadata['bucket'];\n        const path = metadata['fullPath'];\n        const urlPart = '/b/' + encode(bucket) + '/o/' + encode(path);\n        const base = makeUrl(urlPart, host, protocol);\n        const queryString = makeQueryString({\n            alt: 'media',\n            token\n        });\n        return base + queryString;\n    });\n    return urls[0];\n}\nfunction toResourceString(metadata, mappings) {\n    const resource = {};\n    const len = mappings.length;\n    for (let i = 0; i < len; i++) {\n        const mapping = mappings[i];\n        if (mapping.writable) {\n            resource[mapping.server] = metadata[mapping.local];\n        }\n    }\n    return JSON.stringify(resource);\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nconst PREFIXES_KEY = 'prefixes';\nconst ITEMS_KEY = 'items';\nfunction fromBackendResponse(service, bucket, resource) {\n    const listResult = {\n        prefixes: [],\n        items: [],\n        nextPageToken: resource['nextPageToken']\n    };\n    if (resource[PREFIXES_KEY]) {\n        for (const path of resource[PREFIXES_KEY]) {\n            const pathWithoutTrailingSlash = path.replace(/\\/$/, '');\n            const reference = service._makeStorageReference(new Location(bucket, pathWithoutTrailingSlash));\n            listResult.prefixes.push(reference);\n        }\n    }\n    if (resource[ITEMS_KEY]) {\n        for (const item of resource[ITEMS_KEY]) {\n            const reference = service._makeStorageReference(new Location(bucket, item['name']));\n            listResult.items.push(reference);\n        }\n    }\n    return listResult;\n}\nfunction fromResponseString(service, bucket, resourceString) {\n    const obj = jsonObjectOrNull(resourceString);\n    if (obj === null) {\n        return null;\n    }\n    const resource = obj;\n    return fromBackendResponse(service, bucket, resource);\n}\n\n/**\n * Contains a fully specified request.\n *\n * @param I - the type of the backend's network response.\n * @param O - the output response type used by the rest of the SDK.\n */\nclass RequestInfo {\n    constructor(url, method, \n    /**\n     * Returns the value with which to resolve the request's promise. Only called\n     * if the request is successful. Throw from this function to reject the\n     * returned Request's promise with the thrown error.\n     * Note: The XhrIo passed to this function may be reused after this callback\n     * returns. Do not keep a reference to it in any way.\n     */\n    handler, timeout) {\n        this.url = url;\n        this.method = method;\n        this.handler = handler;\n        this.timeout = timeout;\n        this.urlParams = {};\n        this.headers = {};\n        this.body = null;\n        this.errorHandler = null;\n        /**\n         * Called with the current number of bytes uploaded and total size (-1 if not\n         * computable) of the request body (i.e. used to report upload progress).\n         */\n        this.progressCallback = null;\n        this.successCodes = [200];\n        this.additionalRetryCodes = [];\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Throws the UNKNOWN StorageError if cndn is false.\n */\nfunction handlerCheck(cndn) {\n    if (!cndn) {\n        throw unknown();\n    }\n}\nfunction metadataHandler(service, mappings) {\n    function handler(xhr, text) {\n        const metadata = fromResourceString(service, text, mappings);\n        handlerCheck(metadata !== null);\n        return metadata;\n    }\n    return handler;\n}\nfunction listHandler(service, bucket) {\n    function handler(xhr, text) {\n        const listResult = fromResponseString(service, bucket, text);\n        handlerCheck(listResult !== null);\n        return listResult;\n    }\n    return handler;\n}\nfunction downloadUrlHandler(service, mappings) {\n    function handler(xhr, text) {\n        const metadata = fromResourceString(service, text, mappings);\n        handlerCheck(metadata !== null);\n        return downloadUrlFromResourceString(metadata, text, service.host, service._protocol);\n    }\n    return handler;\n}\nfunction sharedErrorHandler(location) {\n    function errorHandler(xhr, err) {\n        let newErr;\n        if (xhr.getStatus() === 401) {\n            if (\n            // This exact message string is the only consistent part of the\n            // server's error response that identifies it as an App Check error.\n            xhr.getErrorText().includes('Firebase App Check token is invalid')) {\n                newErr = unauthorizedApp();\n            }\n            else {\n                newErr = unauthenticated();\n            }\n        }\n        else {\n            if (xhr.getStatus() === 402) {\n                newErr = quotaExceeded(location.bucket);\n            }\n            else {\n                if (xhr.getStatus() === 403) {\n                    newErr = unauthorized(location.path);\n                }\n                else {\n                    newErr = err;\n                }\n            }\n        }\n        newErr.status = xhr.getStatus();\n        newErr.serverResponse = err.serverResponse;\n        return newErr;\n    }\n    return errorHandler;\n}\nfunction objectErrorHandler(location) {\n    const shared = sharedErrorHandler(location);\n    function errorHandler(xhr, err) {\n        let newErr = shared(xhr, err);\n        if (xhr.getStatus() === 404) {\n            newErr = objectNotFound(location.path);\n        }\n        newErr.serverResponse = err.serverResponse;\n        return newErr;\n    }\n    return errorHandler;\n}\nfunction getMetadata$2(service, location, mappings) {\n    const urlPart = location.fullServerUrl();\n    const url = makeUrl(urlPart, service.host, service._protocol);\n    const method = 'GET';\n    const timeout = service.maxOperationRetryTime;\n    const requestInfo = new RequestInfo(url, method, metadataHandler(service, mappings), timeout);\n    requestInfo.errorHandler = objectErrorHandler(location);\n    return requestInfo;\n}\nfunction list$2(service, location, delimiter, pageToken, maxResults) {\n    const urlParams = {};\n    if (location.isRoot) {\n        urlParams['prefix'] = '';\n    }\n    else {\n        urlParams['prefix'] = location.path + '/';\n    }\n    if (delimiter && delimiter.length > 0) {\n        urlParams['delimiter'] = delimiter;\n    }\n    if (pageToken) {\n        urlParams['pageToken'] = pageToken;\n    }\n    if (maxResults) {\n        urlParams['maxResults'] = maxResults;\n    }\n    const urlPart = location.bucketOnlyServerUrl();\n    const url = makeUrl(urlPart, service.host, service._protocol);\n    const method = 'GET';\n    const timeout = service.maxOperationRetryTime;\n    const requestInfo = new RequestInfo(url, method, listHandler(service, location.bucket), timeout);\n    requestInfo.urlParams = urlParams;\n    requestInfo.errorHandler = sharedErrorHandler(location);\n    return requestInfo;\n}\nfunction getBytes$1(service, location, maxDownloadSizeBytes) {\n    const urlPart = location.fullServerUrl();\n    const url = makeUrl(urlPart, service.host, service._protocol) + '?alt=media';\n    const method = 'GET';\n    const timeout = service.maxOperationRetryTime;\n    const requestInfo = new RequestInfo(url, method, (_, data) => data, timeout);\n    requestInfo.errorHandler = objectErrorHandler(location);\n    if (maxDownloadSizeBytes !== undefined) {\n        requestInfo.headers['Range'] = `bytes=0-${maxDownloadSizeBytes}`;\n        requestInfo.successCodes = [200 /* OK */, 206 /* Partial Content */];\n    }\n    return requestInfo;\n}\nfunction getDownloadUrl(service, location, mappings) {\n    const urlPart = location.fullServerUrl();\n    const url = makeUrl(urlPart, service.host, service._protocol);\n    const method = 'GET';\n    const timeout = service.maxOperationRetryTime;\n    const requestInfo = new RequestInfo(url, method, downloadUrlHandler(service, mappings), timeout);\n    requestInfo.errorHandler = objectErrorHandler(location);\n    return requestInfo;\n}\nfunction updateMetadata$2(service, location, metadata, mappings) {\n    const urlPart = location.fullServerUrl();\n    const url = makeUrl(urlPart, service.host, service._protocol);\n    const method = 'PATCH';\n    const body = toResourceString(metadata, mappings);\n    const headers = { 'Content-Type': 'application/json; charset=utf-8' };\n    const timeout = service.maxOperationRetryTime;\n    const requestInfo = new RequestInfo(url, method, metadataHandler(service, mappings), timeout);\n    requestInfo.headers = headers;\n    requestInfo.body = body;\n    requestInfo.errorHandler = objectErrorHandler(location);\n    return requestInfo;\n}\nfunction deleteObject$2(service, location) {\n    const urlPart = location.fullServerUrl();\n    const url = makeUrl(urlPart, service.host, service._protocol);\n    const method = 'DELETE';\n    const timeout = service.maxOperationRetryTime;\n    function handler(_xhr, _text) { }\n    const requestInfo = new RequestInfo(url, method, handler, timeout);\n    requestInfo.successCodes = [200, 204];\n    requestInfo.errorHandler = objectErrorHandler(location);\n    return requestInfo;\n}\nfunction determineContentType_(metadata, blob) {\n    return ((metadata && metadata['contentType']) ||\n        (blob && blob.type()) ||\n        'application/octet-stream');\n}\nfunction metadataForUpload_(location, blob, metadata) {\n    const metadataClone = Object.assign({}, metadata);\n    metadataClone['fullPath'] = location.path;\n    metadataClone['size'] = blob.size();\n    if (!metadataClone['contentType']) {\n        metadataClone['contentType'] = determineContentType_(null, blob);\n    }\n    return metadataClone;\n}\n/**\n * Prepare RequestInfo for uploads as Content-Type: multipart.\n */\nfunction multipartUpload(service, location, mappings, blob, metadata) {\n    const urlPart = location.bucketOnlyServerUrl();\n    const headers = {\n        'X-Goog-Upload-Protocol': 'multipart'\n    };\n    function genBoundary() {\n        let str = '';\n        for (let i = 0; i < 2; i++) {\n            str = str + Math.random().toString().slice(2);\n        }\n        return str;\n    }\n    const boundary = genBoundary();\n    headers['Content-Type'] = 'multipart/related; boundary=' + boundary;\n    const metadata_ = metadataForUpload_(location, blob, metadata);\n    const metadataString = toResourceString(metadata_, mappings);\n    const preBlobPart = '--' +\n        boundary +\n        '\\r\\n' +\n        'Content-Type: application/json; charset=utf-8\\r\\n\\r\\n' +\n        metadataString +\n        '\\r\\n--' +\n        boundary +\n        '\\r\\n' +\n        'Content-Type: ' +\n        metadata_['contentType'] +\n        '\\r\\n\\r\\n';\n    const postBlobPart = '\\r\\n--' + boundary + '--';\n    const body = FbsBlob.getBlob(preBlobPart, blob, postBlobPart);\n    if (body === null) {\n        throw cannotSliceBlob();\n    }\n    const urlParams = { name: metadata_['fullPath'] };\n    const url = makeUrl(urlPart, service.host, service._protocol);\n    const method = 'POST';\n    const timeout = service.maxUploadRetryTime;\n    const requestInfo = new RequestInfo(url, method, metadataHandler(service, mappings), timeout);\n    requestInfo.urlParams = urlParams;\n    requestInfo.headers = headers;\n    requestInfo.body = body.uploadData();\n    requestInfo.errorHandler = sharedErrorHandler(location);\n    return requestInfo;\n}\n/**\n * @param current The number of bytes that have been uploaded so far.\n * @param total The total number of bytes in the upload.\n * @param opt_finalized True if the server has finished the upload.\n * @param opt_metadata The upload metadata, should\n *     only be passed if opt_finalized is true.\n */\nclass ResumableUploadStatus {\n    constructor(current, total, finalized, metadata) {\n        this.current = current;\n        this.total = total;\n        this.finalized = !!finalized;\n        this.metadata = metadata || null;\n    }\n}\nfunction checkResumeHeader_(xhr, allowed) {\n    let status = null;\n    try {\n        status = xhr.getResponseHeader('X-Goog-Upload-Status');\n    }\n    catch (e) {\n        handlerCheck(false);\n    }\n    const allowedStatus = allowed || ['active'];\n    handlerCheck(!!status && allowedStatus.indexOf(status) !== -1);\n    return status;\n}\nfunction createResumableUpload(service, location, mappings, blob, metadata) {\n    const urlPart = location.bucketOnlyServerUrl();\n    const metadataForUpload = metadataForUpload_(location, blob, metadata);\n    const urlParams = { name: metadataForUpload['fullPath'] };\n    const url = makeUrl(urlPart, service.host, service._protocol);\n    const method = 'POST';\n    const headers = {\n        'X-Goog-Upload-Protocol': 'resumable',\n        'X-Goog-Upload-Command': 'start',\n        'X-Goog-Upload-Header-Content-Length': `${blob.size()}`,\n        'X-Goog-Upload-Header-Content-Type': metadataForUpload['contentType'],\n        'Content-Type': 'application/json; charset=utf-8'\n    };\n    const body = toResourceString(metadataForUpload, mappings);\n    const timeout = service.maxUploadRetryTime;\n    function handler(xhr) {\n        checkResumeHeader_(xhr);\n        let url;\n        try {\n            url = xhr.getResponseHeader('X-Goog-Upload-URL');\n        }\n        catch (e) {\n            handlerCheck(false);\n        }\n        handlerCheck(isString(url));\n        return url;\n    }\n    const requestInfo = new RequestInfo(url, method, handler, timeout);\n    requestInfo.urlParams = urlParams;\n    requestInfo.headers = headers;\n    requestInfo.body = body;\n    requestInfo.errorHandler = sharedErrorHandler(location);\n    return requestInfo;\n}\n/**\n * @param url From a call to fbs.requests.createResumableUpload.\n */\nfunction getResumableUploadStatus(service, location, url, blob) {\n    const headers = { 'X-Goog-Upload-Command': 'query' };\n    function handler(xhr) {\n        const status = checkResumeHeader_(xhr, ['active', 'final']);\n        let sizeString = null;\n        try {\n            sizeString = xhr.getResponseHeader('X-Goog-Upload-Size-Received');\n        }\n        catch (e) {\n            handlerCheck(false);\n        }\n        if (!sizeString) {\n            // null or empty string\n            handlerCheck(false);\n        }\n        const size = Number(sizeString);\n        handlerCheck(!isNaN(size));\n        return new ResumableUploadStatus(size, blob.size(), status === 'final');\n    }\n    const method = 'POST';\n    const timeout = service.maxUploadRetryTime;\n    const requestInfo = new RequestInfo(url, method, handler, timeout);\n    requestInfo.headers = headers;\n    requestInfo.errorHandler = sharedErrorHandler(location);\n    return requestInfo;\n}\n/**\n * Any uploads via the resumable upload API must transfer a number of bytes\n * that is a multiple of this number.\n */\nconst RESUMABLE_UPLOAD_CHUNK_SIZE = 256 * 1024;\n/**\n * @param url From a call to fbs.requests.createResumableUpload.\n * @param chunkSize Number of bytes to upload.\n * @param status The previous status.\n *     If not passed or null, we start from the beginning.\n * @throws fbs.Error If the upload is already complete, the passed in status\n *     has a final size inconsistent with the blob, or the blob cannot be sliced\n *     for upload.\n */\nfunction continueResumableUpload(location, service, url, blob, chunkSize, mappings, status, progressCallback) {\n    // TODO(andysoto): standardize on internal asserts\n    // assert(!(opt_status && opt_status.finalized));\n    const status_ = new ResumableUploadStatus(0, 0);\n    if (status) {\n        status_.current = status.current;\n        status_.total = status.total;\n    }\n    else {\n        status_.current = 0;\n        status_.total = blob.size();\n    }\n    if (blob.size() !== status_.total) {\n        throw serverFileWrongSize();\n    }\n    const bytesLeft = status_.total - status_.current;\n    let bytesToUpload = bytesLeft;\n    if (chunkSize > 0) {\n        bytesToUpload = Math.min(bytesToUpload, chunkSize);\n    }\n    const startByte = status_.current;\n    const endByte = startByte + bytesToUpload;\n    let uploadCommand = '';\n    if (bytesToUpload === 0) {\n        uploadCommand = 'finalize';\n    }\n    else if (bytesLeft === bytesToUpload) {\n        uploadCommand = 'upload, finalize';\n    }\n    else {\n        uploadCommand = 'upload';\n    }\n    const headers = {\n        'X-Goog-Upload-Command': uploadCommand,\n        'X-Goog-Upload-Offset': `${status_.current}`\n    };\n    const body = blob.slice(startByte, endByte);\n    if (body === null) {\n        throw cannotSliceBlob();\n    }\n    function handler(xhr, text) {\n        // TODO(andysoto): Verify the MD5 of each uploaded range:\n        // the 'x-range-md5' header comes back with status code 308 responses.\n        // We'll only be able to bail out though, because you can't re-upload a\n        // range that you previously uploaded.\n        const uploadStatus = checkResumeHeader_(xhr, ['active', 'final']);\n        const newCurrent = status_.current + bytesToUpload;\n        const size = blob.size();\n        let metadata;\n        if (uploadStatus === 'final') {\n            metadata = metadataHandler(service, mappings)(xhr, text);\n        }\n        else {\n            metadata = null;\n        }\n        return new ResumableUploadStatus(newCurrent, size, uploadStatus === 'final', metadata);\n    }\n    const method = 'POST';\n    const timeout = service.maxUploadRetryTime;\n    const requestInfo = new RequestInfo(url, method, handler, timeout);\n    requestInfo.headers = headers;\n    requestInfo.body = body.uploadData();\n    requestInfo.progressCallback = progressCallback || null;\n    requestInfo.errorHandler = sharedErrorHandler(location);\n    return requestInfo;\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * An event that is triggered on a task.\n * @internal\n */\nconst TaskEvent = {\n    /**\n     * For this event,\n     * <ul>\n     *   <li>The `next` function is triggered on progress updates and when the\n     *       task is paused/resumed with an `UploadTaskSnapshot` as the first\n     *       argument.</li>\n     *   <li>The `error` function is triggered if the upload is canceled or fails\n     *       for another reason.</li>\n     *   <li>The `complete` function is triggered if the upload completes\n     *       successfully.</li>\n     * </ul>\n     */\n    STATE_CHANGED: 'state_changed'\n};\n// type keys = keyof TaskState\n/**\n * Represents the current state of a running upload.\n * @internal\n */\nconst TaskState = {\n    /** The task is currently transferring data. */\n    RUNNING: 'running',\n    /** The task was paused by the user. */\n    PAUSED: 'paused',\n    /** The task completed successfully. */\n    SUCCESS: 'success',\n    /** The task was canceled. */\n    CANCELED: 'canceled',\n    /** The task failed with an error. */\n    ERROR: 'error'\n};\nfunction taskStateFromInternalTaskState(state) {\n    switch (state) {\n        case \"running\" /* InternalTaskState.RUNNING */:\n        case \"pausing\" /* InternalTaskState.PAUSING */:\n        case \"canceling\" /* InternalTaskState.CANCELING */:\n            return TaskState.RUNNING;\n        case \"paused\" /* InternalTaskState.PAUSED */:\n            return TaskState.PAUSED;\n        case \"success\" /* InternalTaskState.SUCCESS */:\n            return TaskState.SUCCESS;\n        case \"canceled\" /* InternalTaskState.CANCELED */:\n            return TaskState.CANCELED;\n        case \"error\" /* InternalTaskState.ERROR */:\n            return TaskState.ERROR;\n        default:\n            // TODO(andysoto): assert(false);\n            return TaskState.ERROR;\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nclass Observer {\n    constructor(nextOrObserver, error, complete) {\n        const asFunctions = isFunction(nextOrObserver) || error != null || complete != null;\n        if (asFunctions) {\n            this.next = nextOrObserver;\n            this.error = error ?? undefined;\n            this.complete = complete ?? undefined;\n        }\n        else {\n            const observer = nextOrObserver;\n            this.next = observer.next;\n            this.error = observer.error;\n            this.complete = observer.complete;\n        }\n    }\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Returns a function that invokes f with its arguments asynchronously as a\n * microtask, i.e. as soon as possible after the current script returns back\n * into browser code.\n */\n// eslint-disable-next-line @typescript-eslint/ban-types\nfunction async(f) {\n    return (...argsToForward) => {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        Promise.resolve().then(() => f(...argsToForward));\n    };\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/** An override for the text-based Connection. Used in tests. */\nlet textFactoryOverride = null;\n/**\n * Network layer for browsers. We use this instead of goog.net.XhrIo because\n * goog.net.XhrIo is hyuuuuge and doesn't work in React Native on Android.\n */\nclass XhrConnection {\n    constructor() {\n        this.sent_ = false;\n        this.xhr_ = new XMLHttpRequest();\n        this.initXhr();\n        this.errorCode_ = ErrorCode.NO_ERROR;\n        this.sendPromise_ = new Promise(resolve => {\n            this.xhr_.addEventListener('abort', () => {\n                this.errorCode_ = ErrorCode.ABORT;\n                resolve();\n            });\n            this.xhr_.addEventListener('error', () => {\n                this.errorCode_ = ErrorCode.NETWORK_ERROR;\n                resolve();\n            });\n            this.xhr_.addEventListener('load', () => {\n                resolve();\n            });\n        });\n    }\n    send(url, method, isUsingEmulator, body, headers) {\n        if (this.sent_) {\n            throw internalError('cannot .send() more than once');\n        }\n        if ((0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.isCloudWorkstation)(url) && isUsingEmulator) {\n            this.xhr_.withCredentials = true;\n        }\n        this.sent_ = true;\n        this.xhr_.open(method, url, true);\n        if (headers !== undefined) {\n            for (const key in headers) {\n                if (headers.hasOwnProperty(key)) {\n                    this.xhr_.setRequestHeader(key, headers[key].toString());\n                }\n            }\n        }\n        if (body !== undefined) {\n            this.xhr_.send(body);\n        }\n        else {\n            this.xhr_.send();\n        }\n        return this.sendPromise_;\n    }\n    getErrorCode() {\n        if (!this.sent_) {\n            throw internalError('cannot .getErrorCode() before sending');\n        }\n        return this.errorCode_;\n    }\n    getStatus() {\n        if (!this.sent_) {\n            throw internalError('cannot .getStatus() before sending');\n        }\n        try {\n            return this.xhr_.status;\n        }\n        catch (e) {\n            return -1;\n        }\n    }\n    getResponse() {\n        if (!this.sent_) {\n            throw internalError('cannot .getResponse() before sending');\n        }\n        return this.xhr_.response;\n    }\n    getErrorText() {\n        if (!this.sent_) {\n            throw internalError('cannot .getErrorText() before sending');\n        }\n        return this.xhr_.statusText;\n    }\n    /** Aborts the request. */\n    abort() {\n        this.xhr_.abort();\n    }\n    getResponseHeader(header) {\n        return this.xhr_.getResponseHeader(header);\n    }\n    addUploadProgressListener(listener) {\n        if (this.xhr_.upload != null) {\n            this.xhr_.upload.addEventListener('progress', listener);\n        }\n    }\n    removeUploadProgressListener(listener) {\n        if (this.xhr_.upload != null) {\n            this.xhr_.upload.removeEventListener('progress', listener);\n        }\n    }\n}\nclass XhrTextConnection extends XhrConnection {\n    initXhr() {\n        this.xhr_.responseType = 'text';\n    }\n}\nfunction newTextConnection() {\n    return textFactoryOverride ? textFactoryOverride() : new XhrTextConnection();\n}\nclass XhrBytesConnection extends XhrConnection {\n    initXhr() {\n        this.xhr_.responseType = 'arraybuffer';\n    }\n}\nfunction newBytesConnection() {\n    return new XhrBytesConnection();\n}\nclass XhrBlobConnection extends XhrConnection {\n    initXhr() {\n        this.xhr_.responseType = 'blob';\n    }\n}\nfunction newBlobConnection() {\n    return new XhrBlobConnection();\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Represents a blob being uploaded. Can be used to pause/resume/cancel the\n * upload and manage callbacks for various events.\n * @internal\n */\nclass UploadTask {\n    isExponentialBackoffExpired() {\n        return this.sleepTime > this.maxSleepTime;\n    }\n    /**\n     * @param ref - The firebaseStorage.Reference object this task came\n     *     from, untyped to avoid cyclic dependencies.\n     * @param blob - The blob to upload.\n     */\n    constructor(ref, blob, metadata = null) {\n        /**\n         * Number of bytes transferred so far.\n         */\n        this._transferred = 0;\n        this._needToFetchStatus = false;\n        this._needToFetchMetadata = false;\n        this._observers = [];\n        this._error = undefined;\n        this._uploadUrl = undefined;\n        this._request = undefined;\n        this._chunkMultiplier = 1;\n        this._resolve = undefined;\n        this._reject = undefined;\n        this._ref = ref;\n        this._blob = blob;\n        this._metadata = metadata;\n        this._mappings = getMappings();\n        this._resumable = this._shouldDoResumable(this._blob);\n        this._state = \"running\" /* InternalTaskState.RUNNING */;\n        this._errorHandler = error => {\n            this._request = undefined;\n            this._chunkMultiplier = 1;\n            if (error._codeEquals(StorageErrorCode.CANCELED)) {\n                this._needToFetchStatus = true;\n                this.completeTransitions_();\n            }\n            else {\n                const backoffExpired = this.isExponentialBackoffExpired();\n                if (isRetryStatusCode(error.status, [])) {\n                    if (backoffExpired) {\n                        error = retryLimitExceeded();\n                    }\n                    else {\n                        this.sleepTime = Math.max(this.sleepTime * 2, DEFAULT_MIN_SLEEP_TIME_MILLIS);\n                        this._needToFetchStatus = true;\n                        this.completeTransitions_();\n                        return;\n                    }\n                }\n                this._error = error;\n                this._transition(\"error\" /* InternalTaskState.ERROR */);\n            }\n        };\n        this._metadataErrorHandler = error => {\n            this._request = undefined;\n            if (error._codeEquals(StorageErrorCode.CANCELED)) {\n                this.completeTransitions_();\n            }\n            else {\n                this._error = error;\n                this._transition(\"error\" /* InternalTaskState.ERROR */);\n            }\n        };\n        this.sleepTime = 0;\n        this.maxSleepTime = this._ref.storage.maxUploadRetryTime;\n        this._promise = new Promise((resolve, reject) => {\n            this._resolve = resolve;\n            this._reject = reject;\n            this._start();\n        });\n        // Prevent uncaught rejections on the internal promise from bubbling out\n        // to the top level with a dummy handler.\n        this._promise.then(null, () => { });\n    }\n    _makeProgressCallback() {\n        const sizeBefore = this._transferred;\n        return loaded => this._updateProgress(sizeBefore + loaded);\n    }\n    _shouldDoResumable(blob) {\n        return blob.size() > 256 * 1024;\n    }\n    _start() {\n        if (this._state !== \"running\" /* InternalTaskState.RUNNING */) {\n            // This can happen if someone pauses us in a resume callback, for example.\n            return;\n        }\n        if (this._request !== undefined) {\n            return;\n        }\n        if (this._resumable) {\n            if (this._uploadUrl === undefined) {\n                this._createResumable();\n            }\n            else {\n                if (this._needToFetchStatus) {\n                    this._fetchStatus();\n                }\n                else {\n                    if (this._needToFetchMetadata) {\n                        // Happens if we miss the metadata on upload completion.\n                        this._fetchMetadata();\n                    }\n                    else {\n                        this.pendingTimeout = setTimeout(() => {\n                            this.pendingTimeout = undefined;\n                            this._continueUpload();\n                        }, this.sleepTime);\n                    }\n                }\n            }\n        }\n        else {\n            this._oneShotUpload();\n        }\n    }\n    _resolveToken(callback) {\n        // eslint-disable-next-line @typescript-eslint/no-floating-promises\n        Promise.all([\n            this._ref.storage._getAuthToken(),\n            this._ref.storage._getAppCheckToken()\n        ]).then(([authToken, appCheckToken]) => {\n            switch (this._state) {\n                case \"running\" /* InternalTaskState.RUNNING */:\n                    callback(authToken, appCheckToken);\n                    break;\n                case \"canceling\" /* InternalTaskState.CANCELING */:\n                    this._transition(\"canceled\" /* InternalTaskState.CANCELED */);\n                    break;\n                case \"pausing\" /* InternalTaskState.PAUSING */:\n                    this._transition(\"paused\" /* InternalTaskState.PAUSED */);\n                    break;\n            }\n        });\n    }\n    // TODO(andysoto): assert false\n    _createResumable() {\n        this._resolveToken((authToken, appCheckToken) => {\n            const requestInfo = createResumableUpload(this._ref.storage, this._ref._location, this._mappings, this._blob, this._metadata);\n            const createRequest = this._ref.storage._makeRequest(requestInfo, newTextConnection, authToken, appCheckToken);\n            this._request = createRequest;\n            createRequest.getPromise().then((url) => {\n                this._request = undefined;\n                this._uploadUrl = url;\n                this._needToFetchStatus = false;\n                this.completeTransitions_();\n            }, this._errorHandler);\n        });\n    }\n    _fetchStatus() {\n        // TODO(andysoto): assert(this.uploadUrl_ !== null);\n        const url = this._uploadUrl;\n        this._resolveToken((authToken, appCheckToken) => {\n            const requestInfo = getResumableUploadStatus(this._ref.storage, this._ref._location, url, this._blob);\n            const statusRequest = this._ref.storage._makeRequest(requestInfo, newTextConnection, authToken, appCheckToken);\n            this._request = statusRequest;\n            statusRequest.getPromise().then(status => {\n                status = status;\n                this._request = undefined;\n                this._updateProgress(status.current);\n                this._needToFetchStatus = false;\n                if (status.finalized) {\n                    this._needToFetchMetadata = true;\n                }\n                this.completeTransitions_();\n            }, this._errorHandler);\n        });\n    }\n    _continueUpload() {\n        const chunkSize = RESUMABLE_UPLOAD_CHUNK_SIZE * this._chunkMultiplier;\n        const status = new ResumableUploadStatus(this._transferred, this._blob.size());\n        // TODO(andysoto): assert(this.uploadUrl_ !== null);\n        const url = this._uploadUrl;\n        this._resolveToken((authToken, appCheckToken) => {\n            let requestInfo;\n            try {\n                requestInfo = continueResumableUpload(this._ref._location, this._ref.storage, url, this._blob, chunkSize, this._mappings, status, this._makeProgressCallback());\n            }\n            catch (e) {\n                this._error = e;\n                this._transition(\"error\" /* InternalTaskState.ERROR */);\n                return;\n            }\n            const uploadRequest = this._ref.storage._makeRequest(requestInfo, newTextConnection, authToken, appCheckToken, \n            /*retry=*/ false // Upload requests should not be retried as each retry should be preceded by another query request. Which is handled in this file.\n            );\n            this._request = uploadRequest;\n            uploadRequest.getPromise().then((newStatus) => {\n                this._increaseMultiplier();\n                this._request = undefined;\n                this._updateProgress(newStatus.current);\n                if (newStatus.finalized) {\n                    this._metadata = newStatus.metadata;\n                    this._transition(\"success\" /* InternalTaskState.SUCCESS */);\n                }\n                else {\n                    this.completeTransitions_();\n                }\n            }, this._errorHandler);\n        });\n    }\n    _increaseMultiplier() {\n        const currentSize = RESUMABLE_UPLOAD_CHUNK_SIZE * this._chunkMultiplier;\n        // Max chunk size is 32M.\n        if (currentSize * 2 < 32 * 1024 * 1024) {\n            this._chunkMultiplier *= 2;\n        }\n    }\n    _fetchMetadata() {\n        this._resolveToken((authToken, appCheckToken) => {\n            const requestInfo = getMetadata$2(this._ref.storage, this._ref._location, this._mappings);\n            const metadataRequest = this._ref.storage._makeRequest(requestInfo, newTextConnection, authToken, appCheckToken);\n            this._request = metadataRequest;\n            metadataRequest.getPromise().then(metadata => {\n                this._request = undefined;\n                this._metadata = metadata;\n                this._transition(\"success\" /* InternalTaskState.SUCCESS */);\n            }, this._metadataErrorHandler);\n        });\n    }\n    _oneShotUpload() {\n        this._resolveToken((authToken, appCheckToken) => {\n            const requestInfo = multipartUpload(this._ref.storage, this._ref._location, this._mappings, this._blob, this._metadata);\n            const multipartRequest = this._ref.storage._makeRequest(requestInfo, newTextConnection, authToken, appCheckToken);\n            this._request = multipartRequest;\n            multipartRequest.getPromise().then(metadata => {\n                this._request = undefined;\n                this._metadata = metadata;\n                this._updateProgress(this._blob.size());\n                this._transition(\"success\" /* InternalTaskState.SUCCESS */);\n            }, this._errorHandler);\n        });\n    }\n    _updateProgress(transferred) {\n        const old = this._transferred;\n        this._transferred = transferred;\n        // A progress update can make the \"transferred\" value smaller (e.g. a\n        // partial upload not completed by server, after which the \"transferred\"\n        // value may reset to the value at the beginning of the request).\n        if (this._transferred !== old) {\n            this._notifyObservers();\n        }\n    }\n    _transition(state) {\n        if (this._state === state) {\n            return;\n        }\n        switch (state) {\n            case \"canceling\" /* InternalTaskState.CANCELING */:\n            case \"pausing\" /* InternalTaskState.PAUSING */:\n                // TODO(andysoto):\n                // assert(this.state_ === InternalTaskState.RUNNING ||\n                //        this.state_ === InternalTaskState.PAUSING);\n                this._state = state;\n                if (this._request !== undefined) {\n                    this._request.cancel();\n                }\n                else if (this.pendingTimeout) {\n                    clearTimeout(this.pendingTimeout);\n                    this.pendingTimeout = undefined;\n                    this.completeTransitions_();\n                }\n                break;\n            case \"running\" /* InternalTaskState.RUNNING */:\n                // TODO(andysoto):\n                // assert(this.state_ === InternalTaskState.PAUSED ||\n                //        this.state_ === InternalTaskState.PAUSING);\n                const wasPaused = this._state === \"paused\" /* InternalTaskState.PAUSED */;\n                this._state = state;\n                if (wasPaused) {\n                    this._notifyObservers();\n                    this._start();\n                }\n                break;\n            case \"paused\" /* InternalTaskState.PAUSED */:\n                // TODO(andysoto):\n                // assert(this.state_ === InternalTaskState.PAUSING);\n                this._state = state;\n                this._notifyObservers();\n                break;\n            case \"canceled\" /* InternalTaskState.CANCELED */:\n                // TODO(andysoto):\n                // assert(this.state_ === InternalTaskState.PAUSED ||\n                //        this.state_ === InternalTaskState.CANCELING);\n                this._error = canceled();\n                this._state = state;\n                this._notifyObservers();\n                break;\n            case \"error\" /* InternalTaskState.ERROR */:\n                // TODO(andysoto):\n                // assert(this.state_ === InternalTaskState.RUNNING ||\n                //        this.state_ === InternalTaskState.PAUSING ||\n                //        this.state_ === InternalTaskState.CANCELING);\n                this._state = state;\n                this._notifyObservers();\n                break;\n            case \"success\" /* InternalTaskState.SUCCESS */:\n                // TODO(andysoto):\n                // assert(this.state_ === InternalTaskState.RUNNING ||\n                //        this.state_ === InternalTaskState.PAUSING ||\n                //        this.state_ === InternalTaskState.CANCELING);\n                this._state = state;\n                this._notifyObservers();\n                break;\n        }\n    }\n    completeTransitions_() {\n        switch (this._state) {\n            case \"pausing\" /* InternalTaskState.PAUSING */:\n                this._transition(\"paused\" /* InternalTaskState.PAUSED */);\n                break;\n            case \"canceling\" /* InternalTaskState.CANCELING */:\n                this._transition(\"canceled\" /* InternalTaskState.CANCELED */);\n                break;\n            case \"running\" /* InternalTaskState.RUNNING */:\n                this._start();\n                break;\n        }\n    }\n    /**\n     * A snapshot of the current task state.\n     */\n    get snapshot() {\n        const externalState = taskStateFromInternalTaskState(this._state);\n        return {\n            bytesTransferred: this._transferred,\n            totalBytes: this._blob.size(),\n            state: externalState,\n            metadata: this._metadata,\n            task: this,\n            ref: this._ref\n        };\n    }\n    /**\n     * Adds a callback for an event.\n     * @param type - The type of event to listen for.\n     * @param nextOrObserver -\n     *     The `next` function, which gets called for each item in\n     *     the event stream, or an observer object with some or all of these three\n     *     properties (`next`, `error`, `complete`).\n     * @param error - A function that gets called with a `StorageError`\n     *     if the event stream ends due to an error.\n     * @param completed - A function that gets called if the\n     *     event stream ends normally.\n     * @returns\n     *     If only the event argument is passed, returns a function you can use to\n     *     add callbacks (see the examples above). If more than just the event\n     *     argument is passed, returns a function you can call to unregister the\n     *     callbacks.\n     */\n    on(type, nextOrObserver, error, completed) {\n        // Note: `type` isn't being used. Its type is also incorrect. TaskEvent should not be a string.\n        const observer = new Observer(nextOrObserver || undefined, error || undefined, completed || undefined);\n        this._addObserver(observer);\n        return () => {\n            this._removeObserver(observer);\n        };\n    }\n    /**\n     * This object behaves like a Promise, and resolves with its snapshot data\n     * when the upload completes.\n     * @param onFulfilled - The fulfillment callback. Promise chaining works as normal.\n     * @param onRejected - The rejection callback.\n     */\n    then(onFulfilled, onRejected) {\n        // These casts are needed so that TypeScript can infer the types of the\n        // resulting Promise.\n        return this._promise.then(onFulfilled, onRejected);\n    }\n    /**\n     * Equivalent to calling `then(null, onRejected)`.\n     */\n    catch(onRejected) {\n        return this.then(null, onRejected);\n    }\n    /**\n     * Adds the given observer.\n     */\n    _addObserver(observer) {\n        this._observers.push(observer);\n        this._notifyObserver(observer);\n    }\n    /**\n     * Removes the given observer.\n     */\n    _removeObserver(observer) {\n        const i = this._observers.indexOf(observer);\n        if (i !== -1) {\n            this._observers.splice(i, 1);\n        }\n    }\n    _notifyObservers() {\n        this._finishPromise();\n        const observers = this._observers.slice();\n        observers.forEach(observer => {\n            this._notifyObserver(observer);\n        });\n    }\n    _finishPromise() {\n        if (this._resolve !== undefined) {\n            let triggered = true;\n            switch (taskStateFromInternalTaskState(this._state)) {\n                case TaskState.SUCCESS:\n                    async(this._resolve.bind(null, this.snapshot))();\n                    break;\n                case TaskState.CANCELED:\n                case TaskState.ERROR:\n                    const toCall = this._reject;\n                    async(toCall.bind(null, this._error))();\n                    break;\n                default:\n                    triggered = false;\n                    break;\n            }\n            if (triggered) {\n                this._resolve = undefined;\n                this._reject = undefined;\n            }\n        }\n    }\n    _notifyObserver(observer) {\n        const externalState = taskStateFromInternalTaskState(this._state);\n        switch (externalState) {\n            case TaskState.RUNNING:\n            case TaskState.PAUSED:\n                if (observer.next) {\n                    async(observer.next.bind(observer, this.snapshot))();\n                }\n                break;\n            case TaskState.SUCCESS:\n                if (observer.complete) {\n                    async(observer.complete.bind(observer))();\n                }\n                break;\n            case TaskState.CANCELED:\n            case TaskState.ERROR:\n                if (observer.error) {\n                    async(observer.error.bind(observer, this._error))();\n                }\n                break;\n            default:\n                // TODO(andysoto): assert(false);\n                if (observer.error) {\n                    async(observer.error.bind(observer, this._error))();\n                }\n        }\n    }\n    /**\n     * Resumes a paused task. Has no effect on a currently running or failed task.\n     * @returns True if the operation took effect, false if ignored.\n     */\n    resume() {\n        const valid = this._state === \"paused\" /* InternalTaskState.PAUSED */ ||\n            this._state === \"pausing\" /* InternalTaskState.PAUSING */;\n        if (valid) {\n            this._transition(\"running\" /* InternalTaskState.RUNNING */);\n        }\n        return valid;\n    }\n    /**\n     * Pauses a currently running task. Has no effect on a paused or failed task.\n     * @returns True if the operation took effect, false if ignored.\n     */\n    pause() {\n        const valid = this._state === \"running\" /* InternalTaskState.RUNNING */;\n        if (valid) {\n            this._transition(\"pausing\" /* InternalTaskState.PAUSING */);\n        }\n        return valid;\n    }\n    /**\n     * Cancels a currently running or paused task. Has no effect on a complete or\n     * failed task.\n     * @returns True if the operation took effect, false if ignored.\n     */\n    cancel() {\n        const valid = this._state === \"running\" /* InternalTaskState.RUNNING */ ||\n            this._state === \"pausing\" /* InternalTaskState.PAUSING */;\n        if (valid) {\n            this._transition(\"canceling\" /* InternalTaskState.CANCELING */);\n        }\n        return valid;\n    }\n}\n\n/**\n * @license\n * Copyright 2019 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Provides methods to interact with a bucket in the Firebase Storage service.\n * @internal\n * @param _location - An fbs.location, or the URL at\n *     which to base this object, in one of the following forms:\n *         gs://<bucket>/<object-path>\n *         http[s]://firebasestorage.googleapis.com/\n *                     <api-version>/b/<bucket>/o/<object-path>\n *     Any query or fragment strings will be ignored in the http[s]\n *     format. If no value is passed, the storage object will use a URL based on\n *     the project ID of the base firebase.App instance.\n */\nclass Reference {\n    constructor(_service, location) {\n        this._service = _service;\n        if (location instanceof Location) {\n            this._location = location;\n        }\n        else {\n            this._location = Location.makeFromUrl(location, _service.host);\n        }\n    }\n    /**\n     * Returns the URL for the bucket and path this object references,\n     *     in the form gs://<bucket>/<object-path>\n     * @override\n     */\n    toString() {\n        return 'gs://' + this._location.bucket + '/' + this._location.path;\n    }\n    _newRef(service, location) {\n        return new Reference(service, location);\n    }\n    /**\n     * A reference to the root of this object's bucket.\n     */\n    get root() {\n        const location = new Location(this._location.bucket, '');\n        return this._newRef(this._service, location);\n    }\n    /**\n     * The name of the bucket containing this reference's object.\n     */\n    get bucket() {\n        return this._location.bucket;\n    }\n    /**\n     * The full path of this object.\n     */\n    get fullPath() {\n        return this._location.path;\n    }\n    /**\n     * The short name of this object, which is the last component of the full path.\n     * For example, if fullPath is 'full/path/image.png', name is 'image.png'.\n     */\n    get name() {\n        return lastComponent(this._location.path);\n    }\n    /**\n     * The `StorageService` instance this `StorageReference` is associated with.\n     */\n    get storage() {\n        return this._service;\n    }\n    /**\n     * A `StorageReference` pointing to the parent location of this `StorageReference`, or null if\n     * this reference is the root.\n     */\n    get parent() {\n        const newPath = parent(this._location.path);\n        if (newPath === null) {\n            return null;\n        }\n        const location = new Location(this._location.bucket, newPath);\n        return new Reference(this._service, location);\n    }\n    /**\n     * Utility function to throw an error in methods that do not accept a root reference.\n     */\n    _throwIfRoot(name) {\n        if (this._location.path === '') {\n            throw invalidRootOperation(name);\n        }\n    }\n}\n/**\n * Download the bytes at the object's location.\n * @returns A Promise containing the downloaded bytes.\n */\nfunction getBytesInternal(ref, maxDownloadSizeBytes) {\n    ref._throwIfRoot('getBytes');\n    const requestInfo = getBytes$1(ref.storage, ref._location, maxDownloadSizeBytes);\n    return ref.storage\n        .makeRequestWithTokens(requestInfo, newBytesConnection)\n        .then(bytes => maxDownloadSizeBytes !== undefined\n        ? // GCS may not honor the Range header for small files\n            bytes.slice(0, maxDownloadSizeBytes)\n        : bytes);\n}\n/**\n * Download the bytes at the object's location.\n * @returns A Promise containing the downloaded blob.\n */\nfunction getBlobInternal(ref, maxDownloadSizeBytes) {\n    ref._throwIfRoot('getBlob');\n    const requestInfo = getBytes$1(ref.storage, ref._location, maxDownloadSizeBytes);\n    return ref.storage\n        .makeRequestWithTokens(requestInfo, newBlobConnection)\n        .then(blob => maxDownloadSizeBytes !== undefined\n        ? // GCS may not honor the Range header for small files\n            blob.slice(0, maxDownloadSizeBytes)\n        : blob);\n}\n/**\n * Uploads data to this object's location.\n * The upload is not resumable.\n *\n * @param ref - StorageReference where data should be uploaded.\n * @param data - The data to upload.\n * @param metadata - Metadata for the newly uploaded data.\n * @returns A Promise containing an UploadResult\n */\nfunction uploadBytes$1(ref, data, metadata) {\n    ref._throwIfRoot('uploadBytes');\n    const requestInfo = multipartUpload(ref.storage, ref._location, getMappings(), new FbsBlob(data, true), metadata);\n    return ref.storage\n        .makeRequestWithTokens(requestInfo, newTextConnection)\n        .then(finalMetadata => {\n        return {\n            metadata: finalMetadata,\n            ref\n        };\n    });\n}\n/**\n * Uploads data to this object's location.\n * The upload can be paused and resumed, and exposes progress updates.\n * @public\n * @param ref - StorageReference where data should be uploaded.\n * @param data - The data to upload.\n * @param metadata - Metadata for the newly uploaded data.\n * @returns An UploadTask\n */\nfunction uploadBytesResumable$1(ref, data, metadata) {\n    ref._throwIfRoot('uploadBytesResumable');\n    return new UploadTask(ref, new FbsBlob(data), metadata);\n}\n/**\n * Uploads a string to this object's location.\n * The upload is not resumable.\n * @public\n * @param ref - StorageReference where string should be uploaded.\n * @param value - The string to upload.\n * @param format - The format of the string to upload.\n * @param metadata - Metadata for the newly uploaded string.\n * @returns A Promise containing an UploadResult\n */\nfunction uploadString$1(ref, value, format = StringFormat.RAW, metadata) {\n    ref._throwIfRoot('uploadString');\n    const data = dataFromString(format, value);\n    const metadataClone = { ...metadata };\n    if (metadataClone['contentType'] == null && data.contentType != null) {\n        metadataClone['contentType'] = data.contentType;\n    }\n    return uploadBytes$1(ref, data.data, metadataClone);\n}\n/**\n * List all items (files) and prefixes (folders) under this storage reference.\n *\n * This is a helper method for calling list() repeatedly until there are\n * no more results. The default pagination size is 1000.\n *\n * Note: The results may not be consistent if objects are changed while this\n * operation is running.\n *\n * Warning: listAll may potentially consume too many resources if there are\n * too many results.\n * @public\n * @param ref - StorageReference to get list from.\n *\n * @returns A Promise that resolves with all the items and prefixes under\n *      the current storage reference. `prefixes` contains references to\n *      sub-directories and `items` contains references to objects in this\n *      folder. `nextPageToken` is never returned.\n */\nfunction listAll$1(ref) {\n    const accumulator = {\n        prefixes: [],\n        items: []\n    };\n    return listAllHelper(ref, accumulator).then(() => accumulator);\n}\n/**\n * Separated from listAll because async functions can't use \"arguments\".\n * @param ref\n * @param accumulator\n * @param pageToken\n */\nasync function listAllHelper(ref, accumulator, pageToken) {\n    const opt = {\n        // maxResults is 1000 by default.\n        pageToken\n    };\n    const nextPage = await list$1(ref, opt);\n    accumulator.prefixes.push(...nextPage.prefixes);\n    accumulator.items.push(...nextPage.items);\n    if (nextPage.nextPageToken != null) {\n        await listAllHelper(ref, accumulator, nextPage.nextPageToken);\n    }\n}\n/**\n * List items (files) and prefixes (folders) under this storage reference.\n *\n * List API is only available for Firebase Rules Version 2.\n *\n * GCS is a key-blob store. Firebase Storage imposes the semantic of '/'\n * delimited folder structure.\n * Refer to GCS's List API if you want to learn more.\n *\n * To adhere to Firebase Rules's Semantics, Firebase Storage does not\n * support objects whose paths end with \"/\" or contain two consecutive\n * \"/\"s. Firebase Storage List API will filter these unsupported objects.\n * list() may fail if there are too many unsupported objects in the bucket.\n * @public\n *\n * @param ref - StorageReference to get list from.\n * @param options - See ListOptions for details.\n * @returns A Promise that resolves with the items and prefixes.\n *      `prefixes` contains references to sub-folders and `items`\n *      contains references to objects in this folder. `nextPageToken`\n *      can be used to get the rest of the results.\n */\nfunction list$1(ref, options) {\n    if (options != null) {\n        if (typeof options.maxResults === 'number') {\n            validateNumber('options.maxResults', \n            /* minValue= */ 1, \n            /* maxValue= */ 1000, options.maxResults);\n        }\n    }\n    const op = options || {};\n    const requestInfo = list$2(ref.storage, ref._location, \n    /*delimiter= */ '/', op.pageToken, op.maxResults);\n    return ref.storage.makeRequestWithTokens(requestInfo, newTextConnection);\n}\n/**\n * A `Promise` that resolves with the metadata for this object. If this\n * object doesn't exist or metadata cannot be retrieved, the promise is\n * rejected.\n * @public\n * @param ref - StorageReference to get metadata from.\n */\nfunction getMetadata$1(ref) {\n    ref._throwIfRoot('getMetadata');\n    const requestInfo = getMetadata$2(ref.storage, ref._location, getMappings());\n    return ref.storage.makeRequestWithTokens(requestInfo, newTextConnection);\n}\n/**\n * Updates the metadata for this object.\n * @public\n * @param ref - StorageReference to update metadata for.\n * @param metadata - The new metadata for the object.\n *     Only values that have been explicitly set will be changed. Explicitly\n *     setting a value to null will remove the metadata.\n * @returns A `Promise` that resolves\n *     with the new metadata for this object.\n *     See `firebaseStorage.Reference.prototype.getMetadata`\n */\nfunction updateMetadata$1(ref, metadata) {\n    ref._throwIfRoot('updateMetadata');\n    const requestInfo = updateMetadata$2(ref.storage, ref._location, metadata, getMappings());\n    return ref.storage.makeRequestWithTokens(requestInfo, newTextConnection);\n}\n/**\n * Returns the download URL for the given Reference.\n * @public\n * @returns A `Promise` that resolves with the download\n *     URL for this object.\n */\nfunction getDownloadURL$1(ref) {\n    ref._throwIfRoot('getDownloadURL');\n    const requestInfo = getDownloadUrl(ref.storage, ref._location, getMappings());\n    return ref.storage\n        .makeRequestWithTokens(requestInfo, newTextConnection)\n        .then(url => {\n        if (url === null) {\n            throw noDownloadURL();\n        }\n        return url;\n    });\n}\n/**\n * Deletes the object at this location.\n * @public\n * @param ref - StorageReference for object to delete.\n * @returns A `Promise` that resolves if the deletion succeeds.\n */\nfunction deleteObject$1(ref) {\n    ref._throwIfRoot('deleteObject');\n    const requestInfo = deleteObject$2(ref.storage, ref._location);\n    return ref.storage.makeRequestWithTokens(requestInfo, newTextConnection);\n}\n/**\n * Returns reference for object obtained by appending `childPath` to `ref`.\n *\n * @param ref - StorageReference to get child of.\n * @param childPath - Child path from provided ref.\n * @returns A reference to the object obtained by\n * appending childPath, removing any duplicate, beginning, or trailing\n * slashes.\n *\n */\nfunction _getChild$1(ref, childPath) {\n    const newPath = child(ref._location.path, childPath);\n    const location = new Location(ref._location.bucket, newPath);\n    return new Reference(ref.storage, location);\n}\n\n/**\n * @license\n * Copyright 2017 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\nfunction isUrl(path) {\n    return /^[A-Za-z]+:\\/\\//.test(path);\n}\n/**\n * Returns a firebaseStorage.Reference for the given url.\n */\nfunction refFromURL(service, url) {\n    return new Reference(service, url);\n}\n/**\n * Returns a firebaseStorage.Reference for the given path in the default\n * bucket.\n */\nfunction refFromPath(ref, path) {\n    if (ref instanceof FirebaseStorageImpl) {\n        const service = ref;\n        if (service._bucket == null) {\n            throw noDefaultBucket();\n        }\n        const reference = new Reference(service, service._bucket);\n        if (path != null) {\n            return refFromPath(reference, path);\n        }\n        else {\n            return reference;\n        }\n    }\n    else {\n        // ref is a Reference\n        if (path !== undefined) {\n            return _getChild$1(ref, path);\n        }\n        else {\n            return ref;\n        }\n    }\n}\nfunction ref$1(serviceOrRef, pathOrUrl) {\n    if (pathOrUrl && isUrl(pathOrUrl)) {\n        if (serviceOrRef instanceof FirebaseStorageImpl) {\n            return refFromURL(serviceOrRef, pathOrUrl);\n        }\n        else {\n            throw invalidArgument('To use ref(service, url), the first argument must be a Storage instance.');\n        }\n    }\n    else {\n        return refFromPath(serviceOrRef, pathOrUrl);\n    }\n}\nfunction extractBucket(host, config) {\n    const bucketString = config?.[CONFIG_STORAGE_BUCKET_KEY];\n    if (bucketString == null) {\n        return null;\n    }\n    return Location.makeFromBucketSpec(bucketString, host);\n}\nfunction connectStorageEmulator$1(storage, host, port, options = {}) {\n    storage.host = `${host}:${port}`;\n    const useSsl = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.isCloudWorkstation)(host);\n    // Workaround to get cookies in Firebase Studio\n    if (useSsl) {\n        void (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.pingServer)(`https://${storage.host}/b`);\n        (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.updateEmulatorBanner)('Storage', true);\n    }\n    storage._isUsingEmulator = true;\n    storage._protocol = useSsl ? 'https' : 'http';\n    const { mockUserToken } = options;\n    if (mockUserToken) {\n        storage._overrideAuthToken =\n            typeof mockUserToken === 'string'\n                ? mockUserToken\n                : (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.createMockUserToken)(mockUserToken, storage.app.options.projectId);\n    }\n}\n/**\n * A service that provides Firebase Storage Reference instances.\n * @param opt_url - gs:// url to a custom Storage Bucket\n *\n * @internal\n */\nclass FirebaseStorageImpl {\n    constructor(\n    /**\n     * FirebaseApp associated with this StorageService instance.\n     */\n    app, _authProvider, \n    /**\n     * @internal\n     */\n    _appCheckProvider, \n    /**\n     * @internal\n     */\n    _url, _firebaseVersion, _isUsingEmulator = false) {\n        this.app = app;\n        this._authProvider = _authProvider;\n        this._appCheckProvider = _appCheckProvider;\n        this._url = _url;\n        this._firebaseVersion = _firebaseVersion;\n        this._isUsingEmulator = _isUsingEmulator;\n        this._bucket = null;\n        /**\n         * This string can be in the formats:\n         * - host\n         * - host:port\n         */\n        this._host = DEFAULT_HOST;\n        this._protocol = 'https';\n        this._appId = null;\n        this._deleted = false;\n        this._maxOperationRetryTime = DEFAULT_MAX_OPERATION_RETRY_TIME;\n        this._maxUploadRetryTime = DEFAULT_MAX_UPLOAD_RETRY_TIME;\n        this._requests = new Set();\n        if (_url != null) {\n            this._bucket = Location.makeFromBucketSpec(_url, this._host);\n        }\n        else {\n            this._bucket = extractBucket(this._host, this.app.options);\n        }\n    }\n    /**\n     * The host string for this service, in the form of `host` or\n     * `host:port`.\n     */\n    get host() {\n        return this._host;\n    }\n    set host(host) {\n        this._host = host;\n        if (this._url != null) {\n            this._bucket = Location.makeFromBucketSpec(this._url, host);\n        }\n        else {\n            this._bucket = extractBucket(host, this.app.options);\n        }\n    }\n    /**\n     * The maximum time to retry uploads in milliseconds.\n     */\n    get maxUploadRetryTime() {\n        return this._maxUploadRetryTime;\n    }\n    set maxUploadRetryTime(time) {\n        validateNumber('time', \n        /* minValue=*/ 0, \n        /* maxValue= */ Number.POSITIVE_INFINITY, time);\n        this._maxUploadRetryTime = time;\n    }\n    /**\n     * The maximum time to retry operations other than uploads or downloads in\n     * milliseconds.\n     */\n    get maxOperationRetryTime() {\n        return this._maxOperationRetryTime;\n    }\n    set maxOperationRetryTime(time) {\n        validateNumber('time', \n        /* minValue=*/ 0, \n        /* maxValue= */ Number.POSITIVE_INFINITY, time);\n        this._maxOperationRetryTime = time;\n    }\n    async _getAuthToken() {\n        if (this._overrideAuthToken) {\n            return this._overrideAuthToken;\n        }\n        const auth = this._authProvider.getImmediate({ optional: true });\n        if (auth) {\n            const tokenData = await auth.getToken();\n            if (tokenData !== null) {\n                return tokenData.accessToken;\n            }\n        }\n        return null;\n    }\n    async _getAppCheckToken() {\n        if ((0,_firebase_app__WEBPACK_IMPORTED_MODULE_0__._isFirebaseServerApp)(this.app) && this.app.settings.appCheckToken) {\n            return this.app.settings.appCheckToken;\n        }\n        const appCheck = this._appCheckProvider.getImmediate({ optional: true });\n        if (appCheck) {\n            const result = await appCheck.getToken();\n            // TODO: What do we want to do if there is an error getting the token?\n            // Context: appCheck.getToken() will never throw even if an error happened. In the error case, a dummy token will be\n            // returned along with an error field describing the error. In general, we shouldn't care about the error condition and just use\n            // the token (actual or dummy) to send requests.\n            return result.token;\n        }\n        return null;\n    }\n    /**\n     * Stop running requests and prevent more from being created.\n     */\n    _delete() {\n        if (!this._deleted) {\n            this._deleted = true;\n            this._requests.forEach(request => request.cancel());\n            this._requests.clear();\n        }\n        return Promise.resolve();\n    }\n    /**\n     * Returns a new firebaseStorage.Reference object referencing this StorageService\n     * at the given Location.\n     */\n    _makeStorageReference(loc) {\n        return new Reference(this, loc);\n    }\n    /**\n     * @param requestInfo - HTTP RequestInfo object\n     * @param authToken - Firebase auth token\n     */\n    _makeRequest(requestInfo, requestFactory, authToken, appCheckToken, retry = true) {\n        if (!this._deleted) {\n            const request = makeRequest(requestInfo, this._appId, authToken, appCheckToken, requestFactory, this._firebaseVersion, retry, this._isUsingEmulator);\n            this._requests.add(request);\n            // Request removes itself from set when complete.\n            request.getPromise().then(() => this._requests.delete(request), () => this._requests.delete(request));\n            return request;\n        }\n        else {\n            return new FailRequest(appDeleted());\n        }\n    }\n    async makeRequestWithTokens(requestInfo, requestFactory) {\n        const [authToken, appCheckToken] = await Promise.all([\n            this._getAuthToken(),\n            this._getAppCheckToken()\n        ]);\n        return this._makeRequest(requestInfo, requestFactory, authToken, appCheckToken).getPromise();\n    }\n}\n\nconst name = \"@firebase/storage\";\nconst version = \"0.14.0\";\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Type constant for Firebase Storage.\n */\nconst STORAGE_TYPE = 'storage';\n\n/**\n * @license\n * Copyright 2020 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Downloads the data at the object's location. Returns an error if the object\n * is not found.\n *\n * To use this functionality, you have to whitelist your app's origin in your\n * Cloud Storage bucket. See also\n * https://cloud.google.com/storage/docs/configuring-cors\n *\n * @public\n * @param ref - StorageReference where data should be downloaded.\n * @param maxDownloadSizeBytes - If set, the maximum allowed size in bytes to\n * retrieve.\n * @returns A Promise containing the object's bytes\n */\nfunction getBytes(ref, maxDownloadSizeBytes) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return getBytesInternal(ref, maxDownloadSizeBytes);\n}\n/**\n * Uploads data to this object's location.\n * The upload is not resumable.\n * @public\n * @param ref - {@link StorageReference} where data should be uploaded.\n * @param data - The data to upload.\n * @param metadata - Metadata for the data to upload.\n * @returns A Promise containing an UploadResult\n */\nfunction uploadBytes(ref, data, metadata) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return uploadBytes$1(ref, data, metadata);\n}\n/**\n * Uploads a string to this object's location.\n * The upload is not resumable.\n * @public\n * @param ref - {@link StorageReference} where string should be uploaded.\n * @param value - The string to upload.\n * @param format - The format of the string to upload.\n * @param metadata - Metadata for the string to upload.\n * @returns A Promise containing an UploadResult\n */\nfunction uploadString(ref, value, format, metadata) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return uploadString$1(ref, value, format, metadata);\n}\n/**\n * Uploads data to this object's location.\n * The upload can be paused and resumed, and exposes progress updates.\n * @public\n * @param ref - {@link StorageReference} where data should be uploaded.\n * @param data - The data to upload.\n * @param metadata - Metadata for the data to upload.\n * @returns An UploadTask\n */\nfunction uploadBytesResumable(ref, data, metadata) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return uploadBytesResumable$1(ref, data, metadata);\n}\n/**\n * A `Promise` that resolves with the metadata for this object. If this\n * object doesn't exist or metadata cannot be retrieved, the promise is\n * rejected.\n * @public\n * @param ref - {@link StorageReference} to get metadata from.\n */\nfunction getMetadata(ref) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return getMetadata$1(ref);\n}\n/**\n * Updates the metadata for this object.\n * @public\n * @param ref - {@link StorageReference} to update metadata for.\n * @param metadata - The new metadata for the object.\n *     Only values that have been explicitly set will be changed. Explicitly\n *     setting a value to null will remove the metadata.\n * @returns A `Promise` that resolves with the new metadata for this object.\n */\nfunction updateMetadata(ref, metadata) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return updateMetadata$1(ref, metadata);\n}\n/**\n * List items (files) and prefixes (folders) under this storage reference.\n *\n * List API is only available for Firebase Rules Version 2.\n *\n * GCS is a key-blob store. Firebase Storage imposes the semantic of '/'\n * delimited folder structure.\n * Refer to GCS's List API if you want to learn more.\n *\n * To adhere to Firebase Rules's Semantics, Firebase Storage does not\n * support objects whose paths end with \"/\" or contain two consecutive\n * \"/\"s. Firebase Storage List API will filter these unsupported objects.\n * list() may fail if there are too many unsupported objects in the bucket.\n * @public\n *\n * @param ref - {@link StorageReference} to get list from.\n * @param options - See {@link ListOptions} for details.\n * @returns A `Promise` that resolves with the items and prefixes.\n *      `prefixes` contains references to sub-folders and `items`\n *      contains references to objects in this folder. `nextPageToken`\n *      can be used to get the rest of the results.\n */\nfunction list(ref, options) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return list$1(ref, options);\n}\n/**\n * List all items (files) and prefixes (folders) under this storage reference.\n *\n * This is a helper method for calling list() repeatedly until there are\n * no more results. The default pagination size is 1000.\n *\n * Note: The results may not be consistent if objects are changed while this\n * operation is running.\n *\n * Warning: `listAll` may potentially consume too many resources if there are\n * too many results.\n * @public\n * @param ref - {@link StorageReference} to get list from.\n *\n * @returns A `Promise` that resolves with all the items and prefixes under\n *      the current storage reference. `prefixes` contains references to\n *      sub-directories and `items` contains references to objects in this\n *      folder. `nextPageToken` is never returned.\n */\nfunction listAll(ref) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return listAll$1(ref);\n}\n/**\n * Returns the download URL for the given {@link StorageReference}.\n * @public\n * @param ref - {@link StorageReference} to get the download URL for.\n * @returns A `Promise` that resolves with the download\n *     URL for this object.\n */\nfunction getDownloadURL(ref) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return getDownloadURL$1(ref);\n}\n/**\n * Deletes the object at this location.\n * @public\n * @param ref - {@link StorageReference} for object to delete.\n * @returns A `Promise` that resolves if the deletion succeeds.\n */\nfunction deleteObject(ref) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return deleteObject$1(ref);\n}\nfunction ref(serviceOrRef, pathOrUrl) {\n    serviceOrRef = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(serviceOrRef);\n    return ref$1(serviceOrRef, pathOrUrl);\n}\n/**\n * @internal\n */\nfunction _getChild(ref, childPath) {\n    return _getChild$1(ref, childPath);\n}\n/**\n * Gets a {@link FirebaseStorage} instance for the given Firebase app.\n * @public\n * @param app - Firebase app to get {@link FirebaseStorage} instance for.\n * @param bucketUrl - The gs:// url to your Firebase Storage Bucket.\n * If not passed, uses the app's default Storage Bucket.\n * @returns A {@link FirebaseStorage} instance.\n */\nfunction getStorage(app = (0,_firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApp)(), bucketUrl) {\n    app = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(app);\n    const storageProvider = (0,_firebase_app__WEBPACK_IMPORTED_MODULE_0__._getProvider)(app, STORAGE_TYPE);\n    const storageInstance = storageProvider.getImmediate({\n        identifier: bucketUrl\n    });\n    const emulator = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getDefaultEmulatorHostnameAndPort)('storage');\n    if (emulator) {\n        connectStorageEmulator(storageInstance, ...emulator);\n    }\n    return storageInstance;\n}\n/**\n * Modify this {@link FirebaseStorage} instance to communicate with the Cloud Storage emulator.\n *\n * @param storage - The {@link FirebaseStorage} instance\n * @param host - The emulator host (ex: localhost)\n * @param port - The emulator port (ex: 5001)\n * @param options - Emulator options. `options.mockUserToken` is the mock auth\n * token to use for unit testing Security Rules.\n * @public\n */\nfunction connectStorageEmulator(storage, host, port, options = {}) {\n    connectStorageEmulator$1(storage, host, port, options);\n}\n\n/**\n * @license\n * Copyright 2021 Google LLC\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n *   http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n */\n/**\n * Downloads the data at the object's location. Returns an error if the object\n * is not found.\n *\n * To use this functionality, you have to whitelist your app's origin in your\n * Cloud Storage bucket. See also\n * https://cloud.google.com/storage/docs/configuring-cors\n *\n * This API is not available in Node.\n *\n * @public\n * @param ref - StorageReference where data should be downloaded.\n * @param maxDownloadSizeBytes - If set, the maximum allowed size in bytes to\n * retrieve.\n * @returns A Promise that resolves with a Blob containing the object's bytes\n */\nfunction getBlob(ref, maxDownloadSizeBytes) {\n    ref = (0,_firebase_util__WEBPACK_IMPORTED_MODULE_1__.getModularInstance)(ref);\n    return getBlobInternal(ref, maxDownloadSizeBytes);\n}\n/**\n * Downloads the data at the object's location. Raises an error event if the\n * object is not found.\n *\n * This API is only available in Node.\n *\n * @public\n * @param ref - StorageReference where data should be downloaded.\n * @param maxDownloadSizeBytes - If set, the maximum allowed size in bytes to\n * retrieve.\n * @returns A stream with the object's data as bytes\n */\nfunction getStream(ref, maxDownloadSizeBytes) {\n    throw new Error('getStream() is only supported by NodeJS builds');\n}\n\n/**\n * Cloud Storage for Firebase\n *\n * @packageDocumentation\n */\nfunction factory(container, { instanceIdentifier: url }) {\n    const app = container.getProvider('app').getImmediate();\n    const authProvider = container.getProvider('auth-internal');\n    const appCheckProvider = container.getProvider('app-check-internal');\n    return new FirebaseStorageImpl(app, authProvider, appCheckProvider, url, _firebase_app__WEBPACK_IMPORTED_MODULE_0__.SDK_VERSION);\n}\nfunction registerStorage() {\n    (0,_firebase_app__WEBPACK_IMPORTED_MODULE_0__._registerComponent)(new _firebase_component__WEBPACK_IMPORTED_MODULE_2__.Component(STORAGE_TYPE, factory, \"PUBLIC\" /* ComponentType.PUBLIC */).setMultipleInstances(true));\n    //RUNTIME_ENV will be replaced during the compilation to \"node\" for nodejs and an empty string for browser\n    (0,_firebase_app__WEBPACK_IMPORTED_MODULE_0__.registerVersion)(name, version, '');\n    // BUILD_TARGET will be replaced by values like esm, cjs, etc during the compilation\n    (0,_firebase_app__WEBPACK_IMPORTED_MODULE_0__.registerVersion)(name, version, 'esm2020');\n}\nregisterStorage();\n\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AZmlyZWJhc2Uvc3RvcmFnZS9kaXN0L2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBNkg7QUFDb0Q7QUFDakk7O0FBRWhEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwyQkFBMkIseURBQWE7QUFDeEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxzREFBc0QsU0FBUyxHQUFHLGtCQUFrQjtBQUNwRjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDRCQUE0QjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOEJBQThCLGtCQUFrQixJQUFJLCtCQUErQjtBQUNuRjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDRDQUE0QztBQUM3QztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUVBQXlFLFVBQVU7QUFDbkY7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSw0QkFBNEI7QUFDNUI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsOERBQThELG9CQUFvQixHQUFHLFFBQVEsS0FBSyxhQUFhLElBQUksb0JBQW9CO0FBQ3ZJLHlDQUF5QztBQUN6QztBQUNBO0FBQ0E7QUFDQTtBQUNBLDJEQUEyRCxpQkFBaUIsR0FBRyxhQUFhLEdBQUcsaUJBQWlCO0FBQ2hILHNDQUFzQztBQUN0QztBQUNBLGNBQWMsMERBQTBEO0FBQ3hFO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixtQkFBbUI7QUFDM0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvREFBb0QsU0FBUyxjQUFjLFVBQVU7QUFDckY7QUFDQTtBQUNBLG9EQUFvRCxTQUFTLGNBQWMsVUFBVTtBQUNyRjtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCLEtBQUs7QUFDakM7QUFDQSxjQUFjLFNBQVMsS0FBSyxPQUFPLEtBQUssUUFBUTtBQUNoRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxDQUFDLDhCQUE4Qjs7QUFFL0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9DQUFvQztBQUNwQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsaUJBQWlCO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwwREFBMEQ7QUFDMUQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG9CQUFvQixrQkFBa0I7QUFDdEM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSwrRkFBK0Y7QUFDL0Y7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDO0FBQzdDO0FBQ0Esd0RBQXdEO0FBQ3hEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQSxnQ0FBZ0Msa0JBQWtCO0FBQ2xEO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNkNBQTZDLGtCQUFrQjtBQUMvRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esb0JBQW9CLFNBQVM7QUFDN0I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QscUJBQXFCO0FBQ3ZFO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQixtQ0FBbUM7QUFDekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsMENBQTBDO0FBQzFDO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx3QkFBd0IsT0FBTztBQUMvQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esa0RBQWtEO0FBQ2xEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSx5Q0FBeUM7QUFDekM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esd0JBQXdCO0FBQ3hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxrREFBa0QsWUFBWTtBQUM5RDtBQUNBLDJDQUEyQztBQUMzQztBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0Esc0JBQXNCO0FBQ3RCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLG1DQUFtQyxnQkFBZ0I7QUFDbkQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2I7QUFDQTtBQUNBO0FBQ0EsYUFBYTtBQUNiO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLGtFQUFrQjtBQUM5QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQSwwQ0FBMEM7QUFDMUM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EseUJBQXlCO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7QUFDYixTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhO0FBQ2IsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsNEJBQTRCO0FBQzVCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsbUVBQW1FO0FBQ25FLHNCQUFzQixLQUFLLEdBQUcsS0FBSztBQUNuQyxtQkFBbUIsa0VBQWtCO0FBQ3JDO0FBQ0E7QUFDQSxhQUFhLDBEQUFVLFlBQVksYUFBYTtBQUNoRCxRQUFRLG9FQUFvQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQSxZQUFZLGdCQUFnQjtBQUM1QjtBQUNBO0FBQ0E7QUFDQTtBQUNBLGtCQUFrQixtRUFBbUI7QUFDckM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsdURBQXVELGdCQUFnQjtBQUN2RTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxZQUFZLG1FQUFvQjtBQUNoQztBQUNBO0FBQ0EsK0RBQStELGdCQUFnQjtBQUMvRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxVQUFVLGtFQUFrQjtBQUM1QjtBQUNB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L19OX0UvLi9ub2RlX21vZHVsZXMvQGZpcmViYXNlL3N0b3JhZ2UvZGlzdC9pbmRleC5lc20uanM/NTBiYyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBfaXNGaXJlYmFzZVNlcnZlckFwcCwgX2dldFByb3ZpZGVyLCBnZXRBcHAsIF9yZWdpc3RlckNvbXBvbmVudCwgcmVnaXN0ZXJWZXJzaW9uLCBTREtfVkVSU0lPTiB9IGZyb20gJ0BmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgRmlyZWJhc2VFcnJvciwgaXNDbG91ZFdvcmtzdGF0aW9uLCBwaW5nU2VydmVyLCB1cGRhdGVFbXVsYXRvckJhbm5lciwgY3JlYXRlTW9ja1VzZXJUb2tlbiwgZ2V0TW9kdWxhckluc3RhbmNlLCBnZXREZWZhdWx0RW11bGF0b3JIb3N0bmFtZUFuZFBvcnQgfSBmcm9tICdAZmlyZWJhc2UvdXRpbCc7XG5pbXBvcnQgeyBDb21wb25lbnQgfSBmcm9tICdAZmlyZWJhc2UvY29tcG9uZW50JztcblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQGZpbGVvdmVydmlldyBDb25zdGFudHMgdXNlZCBpbiB0aGUgRmlyZWJhc2UgU3RvcmFnZSBsaWJyYXJ5LlxuICovXG4vKipcbiAqIERvbWFpbiBuYW1lIGZvciBmaXJlYmFzZSBzdG9yYWdlLlxuICovXG5jb25zdCBERUZBVUxUX0hPU1QgPSAnZmlyZWJhc2VzdG9yYWdlLmdvb2dsZWFwaXMuY29tJztcbi8qKlxuICogVGhlIGtleSBpbiBGaXJlYmFzZSBjb25maWcganNvbiBmb3IgdGhlIHN0b3JhZ2UgYnVja2V0LlxuICovXG5jb25zdCBDT05GSUdfU1RPUkFHRV9CVUNLRVRfS0VZID0gJ3N0b3JhZ2VCdWNrZXQnO1xuLyoqXG4gKiAyIG1pbnV0ZXNcbiAqXG4gKiBUaGUgdGltZW91dCBmb3IgYWxsIG9wZXJhdGlvbnMgZXhjZXB0IHVwbG9hZC5cbiAqL1xuY29uc3QgREVGQVVMVF9NQVhfT1BFUkFUSU9OX1JFVFJZX1RJTUUgPSAyICogNjAgKiAxMDAwO1xuLyoqXG4gKiAxMCBtaW51dGVzXG4gKlxuICogVGhlIHRpbWVvdXQgZm9yIHVwbG9hZC5cbiAqL1xuY29uc3QgREVGQVVMVF9NQVhfVVBMT0FEX1JFVFJZX1RJTUUgPSAxMCAqIDYwICogMTAwMDtcbi8qKlxuICogMSBzZWNvbmRcbiAqL1xuY29uc3QgREVGQVVMVF9NSU5fU0xFRVBfVElNRV9NSUxMSVMgPSAxMDAwO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBbiBlcnJvciByZXR1cm5lZCBieSB0aGUgRmlyZWJhc2UgU3RvcmFnZSBTREsuXG4gKiBAcHVibGljXG4gKi9cbmNsYXNzIFN0b3JhZ2VFcnJvciBleHRlbmRzIEZpcmViYXNlRXJyb3Ige1xuICAgIC8qKlxuICAgICAqIEBwYXJhbSBjb2RlIC0gQSBgU3RvcmFnZUVycm9yQ29kZWAgc3RyaW5nIHRvIGJlIHByZWZpeGVkIHdpdGggJ3N0b3JhZ2UvJyBhbmRcbiAgICAgKiAgYWRkZWQgdG8gdGhlIGVuZCBvZiB0aGUgbWVzc2FnZS5cbiAgICAgKiBAcGFyYW0gbWVzc2FnZSAgLSBFcnJvciBtZXNzYWdlLlxuICAgICAqIEBwYXJhbSBzdGF0dXNfIC0gQ29ycmVzcG9uZGluZyBIVFRQIFN0YXR1cyBDb2RlXG4gICAgICovXG4gICAgY29uc3RydWN0b3IoY29kZSwgbWVzc2FnZSwgc3RhdHVzXyA9IDApIHtcbiAgICAgICAgc3VwZXIocHJlcGVuZENvZGUoY29kZSksIGBGaXJlYmFzZSBTdG9yYWdlOiAke21lc3NhZ2V9ICgke3ByZXBlbmRDb2RlKGNvZGUpfSlgKTtcbiAgICAgICAgdGhpcy5zdGF0dXNfID0gc3RhdHVzXztcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFN0b3JlcyBjdXN0b20gZXJyb3IgZGF0YSB1bmlxdWUgdG8gdGhlIGBTdG9yYWdlRXJyb3JgLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5jdXN0b21EYXRhID0geyBzZXJ2ZXJSZXNwb25zZTogbnVsbCB9O1xuICAgICAgICB0aGlzLl9iYXNlTWVzc2FnZSA9IHRoaXMubWVzc2FnZTtcbiAgICAgICAgLy8gV2l0aG91dCB0aGlzLCBgaW5zdGFuY2VvZiBTdG9yYWdlRXJyb3JgLCBpbiB0ZXN0cyBmb3IgZXhhbXBsZSxcbiAgICAgICAgLy8gcmV0dXJucyBmYWxzZS5cbiAgICAgICAgT2JqZWN0LnNldFByb3RvdHlwZU9mKHRoaXMsIFN0b3JhZ2VFcnJvci5wcm90b3R5cGUpO1xuICAgIH1cbiAgICBnZXQgc3RhdHVzKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5zdGF0dXNfO1xuICAgIH1cbiAgICBzZXQgc3RhdHVzKHN0YXR1cykge1xuICAgICAgICB0aGlzLnN0YXR1c18gPSBzdGF0dXM7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENvbXBhcmVzIGEgYFN0b3JhZ2VFcnJvckNvZGVgIGFnYWluc3QgdGhpcyBlcnJvcidzIGNvZGUsIGZpbHRlcmluZyBvdXQgdGhlIHByZWZpeC5cbiAgICAgKi9cbiAgICBfY29kZUVxdWFscyhjb2RlKSB7XG4gICAgICAgIHJldHVybiBwcmVwZW5kQ29kZShjb2RlKSA9PT0gdGhpcy5jb2RlO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBPcHRpb25hbCByZXNwb25zZSBtZXNzYWdlIHRoYXQgd2FzIGFkZGVkIGJ5IHRoZSBzZXJ2ZXIuXG4gICAgICovXG4gICAgZ2V0IHNlcnZlclJlc3BvbnNlKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5jdXN0b21EYXRhLnNlcnZlclJlc3BvbnNlO1xuICAgIH1cbiAgICBzZXQgc2VydmVyUmVzcG9uc2Uoc2VydmVyUmVzcG9uc2UpIHtcbiAgICAgICAgdGhpcy5jdXN0b21EYXRhLnNlcnZlclJlc3BvbnNlID0gc2VydmVyUmVzcG9uc2U7XG4gICAgICAgIGlmICh0aGlzLmN1c3RvbURhdGEuc2VydmVyUmVzcG9uc2UpIHtcbiAgICAgICAgICAgIHRoaXMubWVzc2FnZSA9IGAke3RoaXMuX2Jhc2VNZXNzYWdlfVxcbiR7dGhpcy5jdXN0b21EYXRhLnNlcnZlclJlc3BvbnNlfWA7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2UgPSB0aGlzLl9iYXNlTWVzc2FnZTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogQHB1YmxpY1xuICogRXJyb3IgY29kZXMgdGhhdCBjYW4gYmUgYXR0YWNoZWQgdG8gYFN0b3JhZ2VFcnJvcmAgb2JqZWN0cy5cbiAqL1xudmFyIFN0b3JhZ2VFcnJvckNvZGU7XG4oZnVuY3Rpb24gKFN0b3JhZ2VFcnJvckNvZGUpIHtcbiAgICAvLyBTaGFyZWQgYmV0d2VlbiBhbGwgcGxhdGZvcm1zXG4gICAgU3RvcmFnZUVycm9yQ29kZVtcIlVOS05PV05cIl0gPSBcInVua25vd25cIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiT0JKRUNUX05PVF9GT1VORFwiXSA9IFwib2JqZWN0LW5vdC1mb3VuZFwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJCVUNLRVRfTk9UX0ZPVU5EXCJdID0gXCJidWNrZXQtbm90LWZvdW5kXCI7XG4gICAgU3RvcmFnZUVycm9yQ29kZVtcIlBST0pFQ1RfTk9UX0ZPVU5EXCJdID0gXCJwcm9qZWN0LW5vdC1mb3VuZFwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJRVU9UQV9FWENFRURFRFwiXSA9IFwicXVvdGEtZXhjZWVkZWRcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiVU5BVVRIRU5USUNBVEVEXCJdID0gXCJ1bmF1dGhlbnRpY2F0ZWRcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiVU5BVVRIT1JJWkVEXCJdID0gXCJ1bmF1dGhvcml6ZWRcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiVU5BVVRIT1JJWkVEX0FQUFwiXSA9IFwidW5hdXRob3JpemVkLWFwcFwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJSRVRSWV9MSU1JVF9FWENFRURFRFwiXSA9IFwicmV0cnktbGltaXQtZXhjZWVkZWRcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiSU5WQUxJRF9DSEVDS1NVTVwiXSA9IFwiaW52YWxpZC1jaGVja3N1bVwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJDQU5DRUxFRFwiXSA9IFwiY2FuY2VsZWRcIjtcbiAgICAvLyBKUyBzcGVjaWZpY1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJJTlZBTElEX0VWRU5UX05BTUVcIl0gPSBcImludmFsaWQtZXZlbnQtbmFtZVwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJJTlZBTElEX1VSTFwiXSA9IFwiaW52YWxpZC11cmxcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiSU5WQUxJRF9ERUZBVUxUX0JVQ0tFVFwiXSA9IFwiaW52YWxpZC1kZWZhdWx0LWJ1Y2tldFwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJOT19ERUZBVUxUX0JVQ0tFVFwiXSA9IFwibm8tZGVmYXVsdC1idWNrZXRcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiQ0FOTk9UX1NMSUNFX0JMT0JcIl0gPSBcImNhbm5vdC1zbGljZS1ibG9iXCI7XG4gICAgU3RvcmFnZUVycm9yQ29kZVtcIlNFUlZFUl9GSUxFX1dST05HX1NJWkVcIl0gPSBcInNlcnZlci1maWxlLXdyb25nLXNpemVcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiTk9fRE9XTkxPQURfVVJMXCJdID0gXCJuby1kb3dubG9hZC11cmxcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiSU5WQUxJRF9BUkdVTUVOVFwiXSA9IFwiaW52YWxpZC1hcmd1bWVudFwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJJTlZBTElEX0FSR1VNRU5UX0NPVU5UXCJdID0gXCJpbnZhbGlkLWFyZ3VtZW50LWNvdW50XCI7XG4gICAgU3RvcmFnZUVycm9yQ29kZVtcIkFQUF9ERUxFVEVEXCJdID0gXCJhcHAtZGVsZXRlZFwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJJTlZBTElEX1JPT1RfT1BFUkFUSU9OXCJdID0gXCJpbnZhbGlkLXJvb3Qtb3BlcmF0aW9uXCI7XG4gICAgU3RvcmFnZUVycm9yQ29kZVtcIklOVkFMSURfRk9STUFUXCJdID0gXCJpbnZhbGlkLWZvcm1hdFwiO1xuICAgIFN0b3JhZ2VFcnJvckNvZGVbXCJJTlRFUk5BTF9FUlJPUlwiXSA9IFwiaW50ZXJuYWwtZXJyb3JcIjtcbiAgICBTdG9yYWdlRXJyb3JDb2RlW1wiVU5TVVBQT1JURURfRU5WSVJPTk1FTlRcIl0gPSBcInVuc3VwcG9ydGVkLWVudmlyb25tZW50XCI7XG59KShTdG9yYWdlRXJyb3JDb2RlIHx8IChTdG9yYWdlRXJyb3JDb2RlID0ge30pKTtcbmZ1bmN0aW9uIHByZXBlbmRDb2RlKGNvZGUpIHtcbiAgICByZXR1cm4gJ3N0b3JhZ2UvJyArIGNvZGU7XG59XG5mdW5jdGlvbiB1bmtub3duKCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAnQW4gdW5rbm93biBlcnJvciBvY2N1cnJlZCwgcGxlYXNlIGNoZWNrIHRoZSBlcnJvciBwYXlsb2FkIGZvciAnICtcbiAgICAgICAgJ3NlcnZlciByZXNwb25zZS4nO1xuICAgIHJldHVybiBuZXcgU3RvcmFnZUVycm9yKFN0b3JhZ2VFcnJvckNvZGUuVU5LTk9XTiwgbWVzc2FnZSk7XG59XG5mdW5jdGlvbiBvYmplY3ROb3RGb3VuZChwYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5PQkpFQ1RfTk9UX0ZPVU5ELCBcIk9iamVjdCAnXCIgKyBwYXRoICsgXCInIGRvZXMgbm90IGV4aXN0LlwiKTtcbn1cbmZ1bmN0aW9uIHF1b3RhRXhjZWVkZWQoYnVja2V0KSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5RVU9UQV9FWENFRURFRCwgXCJRdW90YSBmb3IgYnVja2V0ICdcIiArXG4gICAgICAgIGJ1Y2tldCArXG4gICAgICAgIFwiJyBleGNlZWRlZCwgcGxlYXNlIHZpZXcgcXVvdGEgb24gXCIgK1xuICAgICAgICAnaHR0cHM6Ly9maXJlYmFzZS5nb29nbGUuY29tL3ByaWNpbmcvLicpO1xufVxuZnVuY3Rpb24gdW5hdXRoZW50aWNhdGVkKCkge1xuICAgIGNvbnN0IG1lc3NhZ2UgPSAnVXNlciBpcyBub3QgYXV0aGVudGljYXRlZCwgcGxlYXNlIGF1dGhlbnRpY2F0ZSB1c2luZyBGaXJlYmFzZSAnICtcbiAgICAgICAgJ0F1dGhlbnRpY2F0aW9uIGFuZCB0cnkgYWdhaW4uJztcbiAgICByZXR1cm4gbmV3IFN0b3JhZ2VFcnJvcihTdG9yYWdlRXJyb3JDb2RlLlVOQVVUSEVOVElDQVRFRCwgbWVzc2FnZSk7XG59XG5mdW5jdGlvbiB1bmF1dGhvcml6ZWRBcHAoKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5VTkFVVEhPUklaRURfQVBQLCAnVGhpcyBhcHAgZG9lcyBub3QgaGF2ZSBwZXJtaXNzaW9uIHRvIGFjY2VzcyBGaXJlYmFzZSBTdG9yYWdlIG9uIHRoaXMgcHJvamVjdC4nKTtcbn1cbmZ1bmN0aW9uIHVuYXV0aG9yaXplZChwYXRoKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5VTkFVVEhPUklaRUQsIFwiVXNlciBkb2VzIG5vdCBoYXZlIHBlcm1pc3Npb24gdG8gYWNjZXNzICdcIiArIHBhdGggKyBcIicuXCIpO1xufVxuZnVuY3Rpb24gcmV0cnlMaW1pdEV4Y2VlZGVkKCkge1xuICAgIHJldHVybiBuZXcgU3RvcmFnZUVycm9yKFN0b3JhZ2VFcnJvckNvZGUuUkVUUllfTElNSVRfRVhDRUVERUQsICdNYXggcmV0cnkgdGltZSBmb3Igb3BlcmF0aW9uIGV4Y2VlZGVkLCBwbGVhc2UgdHJ5IGFnYWluLicpO1xufVxuZnVuY3Rpb24gY2FuY2VsZWQoKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5DQU5DRUxFRCwgJ1VzZXIgY2FuY2VsZWQgdGhlIHVwbG9hZC9kb3dubG9hZC4nKTtcbn1cbmZ1bmN0aW9uIGludmFsaWRVcmwodXJsKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5JTlZBTElEX1VSTCwgXCJJbnZhbGlkIFVSTCAnXCIgKyB1cmwgKyBcIicuXCIpO1xufVxuZnVuY3Rpb24gaW52YWxpZERlZmF1bHRCdWNrZXQoYnVja2V0KSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5JTlZBTElEX0RFRkFVTFRfQlVDS0VULCBcIkludmFsaWQgZGVmYXVsdCBidWNrZXQgJ1wiICsgYnVja2V0ICsgXCInLlwiKTtcbn1cbmZ1bmN0aW9uIG5vRGVmYXVsdEJ1Y2tldCgpIHtcbiAgICByZXR1cm4gbmV3IFN0b3JhZ2VFcnJvcihTdG9yYWdlRXJyb3JDb2RlLk5PX0RFRkFVTFRfQlVDS0VULCAnTm8gZGVmYXVsdCBidWNrZXQgJyArXG4gICAgICAgIFwiZm91bmQuIERpZCB5b3Ugc2V0IHRoZSAnXCIgK1xuICAgICAgICBDT05GSUdfU1RPUkFHRV9CVUNLRVRfS0VZICtcbiAgICAgICAgXCInIHByb3BlcnR5IHdoZW4gaW5pdGlhbGl6aW5nIHRoZSBhcHA/XCIpO1xufVxuZnVuY3Rpb24gY2Fubm90U2xpY2VCbG9iKCkge1xuICAgIHJldHVybiBuZXcgU3RvcmFnZUVycm9yKFN0b3JhZ2VFcnJvckNvZGUuQ0FOTk9UX1NMSUNFX0JMT0IsICdDYW5ub3Qgc2xpY2UgYmxvYiBmb3IgdXBsb2FkLiBQbGVhc2UgcmV0cnkgdGhlIHVwbG9hZC4nKTtcbn1cbmZ1bmN0aW9uIHNlcnZlckZpbGVXcm9uZ1NpemUoKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5TRVJWRVJfRklMRV9XUk9OR19TSVpFLCAnU2VydmVyIHJlY29yZGVkIGluY29ycmVjdCB1cGxvYWQgZmlsZSBzaXplLCBwbGVhc2UgcmV0cnkgdGhlIHVwbG9hZC4nKTtcbn1cbmZ1bmN0aW9uIG5vRG93bmxvYWRVUkwoKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5OT19ET1dOTE9BRF9VUkwsICdUaGUgZ2l2ZW4gZmlsZSBkb2VzIG5vdCBoYXZlIGFueSBkb3dubG9hZCBVUkxzLicpO1xufVxuZnVuY3Rpb24gbWlzc2luZ1BvbHlGaWxsKHBvbHlGaWxsKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5VTlNVUFBPUlRFRF9FTlZJUk9OTUVOVCwgYCR7cG9seUZpbGx9IGlzIG1pc3NpbmcuIE1ha2Ugc3VyZSB0byBpbnN0YWxsIHRoZSByZXF1aXJlZCBwb2x5ZmlsbHMuIFNlZSBodHRwczovL2ZpcmViYXNlLmdvb2dsZS5jb20vZG9jcy93ZWIvZW52aXJvbm1lbnRzLWpzLXNkayNwb2x5ZmlsbHMgZm9yIG1vcmUgaW5mb3JtYXRpb24uYCk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBpbnZhbGlkQXJndW1lbnQobWVzc2FnZSkge1xuICAgIHJldHVybiBuZXcgU3RvcmFnZUVycm9yKFN0b3JhZ2VFcnJvckNvZGUuSU5WQUxJRF9BUkdVTUVOVCwgbWVzc2FnZSk7XG59XG5mdW5jdGlvbiBhcHBEZWxldGVkKCkge1xuICAgIHJldHVybiBuZXcgU3RvcmFnZUVycm9yKFN0b3JhZ2VFcnJvckNvZGUuQVBQX0RFTEVURUQsICdUaGUgRmlyZWJhc2UgYXBwIHdhcyBkZWxldGVkLicpO1xufVxuLyoqXG4gKiBAcGFyYW0gbmFtZSAtIFRoZSBuYW1lIG9mIHRoZSBvcGVyYXRpb24gdGhhdCB3YXMgaW52YWxpZC5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuZnVuY3Rpb24gaW52YWxpZFJvb3RPcGVyYXRpb24obmFtZSkge1xuICAgIHJldHVybiBuZXcgU3RvcmFnZUVycm9yKFN0b3JhZ2VFcnJvckNvZGUuSU5WQUxJRF9ST09UX09QRVJBVElPTiwgXCJUaGUgb3BlcmF0aW9uICdcIiArXG4gICAgICAgIG5hbWUgK1xuICAgICAgICBcIicgY2Fubm90IGJlIHBlcmZvcm1lZCBvbiBhIHJvb3QgcmVmZXJlbmNlLCBjcmVhdGUgYSBub24tcm9vdCBcIiArXG4gICAgICAgIFwicmVmZXJlbmNlIHVzaW5nIGNoaWxkLCBzdWNoIGFzIC5jaGlsZCgnZmlsZS5wbmcnKS5cIik7XG59XG4vKipcbiAqIEBwYXJhbSBmb3JtYXQgLSBUaGUgZm9ybWF0IHRoYXQgd2FzIG5vdCB2YWxpZC5cbiAqIEBwYXJhbSBtZXNzYWdlIC0gQSBtZXNzYWdlIGRlc2NyaWJpbmcgdGhlIGZvcm1hdCB2aW9sYXRpb24uXG4gKi9cbmZ1bmN0aW9uIGludmFsaWRGb3JtYXQoZm9ybWF0LCBtZXNzYWdlKSB7XG4gICAgcmV0dXJuIG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5JTlZBTElEX0ZPUk1BVCwgXCJTdHJpbmcgZG9lcyBub3QgbWF0Y2ggZm9ybWF0ICdcIiArIGZvcm1hdCArIFwiJzogXCIgKyBtZXNzYWdlKTtcbn1cbi8qKlxuICogQHBhcmFtIG1lc3NhZ2UgLSBBIG1lc3NhZ2UgZGVzY3JpYmluZyB0aGUgaW50ZXJuYWwgZXJyb3IuXG4gKi9cbmZ1bmN0aW9uIGludGVybmFsRXJyb3IobWVzc2FnZSkge1xuICAgIHRocm93IG5ldyBTdG9yYWdlRXJyb3IoU3RvcmFnZUVycm9yQ29kZS5JTlRFUk5BTF9FUlJPUiwgJ0ludGVybmFsIGVycm9yOiAnICsgbWVzc2FnZSk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEZpcmViYXNlIFN0b3JhZ2UgbG9jYXRpb24gZGF0YS5cbiAqXG4gKiBAaW50ZXJuYWxcbiAqL1xuY2xhc3MgTG9jYXRpb24ge1xuICAgIGNvbnN0cnVjdG9yKGJ1Y2tldCwgcGF0aCkge1xuICAgICAgICB0aGlzLmJ1Y2tldCA9IGJ1Y2tldDtcbiAgICAgICAgdGhpcy5wYXRoXyA9IHBhdGg7XG4gICAgfVxuICAgIGdldCBwYXRoKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5wYXRoXztcbiAgICB9XG4gICAgZ2V0IGlzUm9vdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucGF0aC5sZW5ndGggPT09IDA7XG4gICAgfVxuICAgIGZ1bGxTZXJ2ZXJVcmwoKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZSA9IGVuY29kZVVSSUNvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuICcvYi8nICsgZW5jb2RlKHRoaXMuYnVja2V0KSArICcvby8nICsgZW5jb2RlKHRoaXMucGF0aCk7XG4gICAgfVxuICAgIGJ1Y2tldE9ubHlTZXJ2ZXJVcmwoKSB7XG4gICAgICAgIGNvbnN0IGVuY29kZSA9IGVuY29kZVVSSUNvbXBvbmVudDtcbiAgICAgICAgcmV0dXJuICcvYi8nICsgZW5jb2RlKHRoaXMuYnVja2V0KSArICcvbyc7XG4gICAgfVxuICAgIHN0YXRpYyBtYWtlRnJvbUJ1Y2tldFNwZWMoYnVja2V0U3RyaW5nLCBob3N0KSB7XG4gICAgICAgIGxldCBidWNrZXRMb2NhdGlvbjtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGJ1Y2tldExvY2F0aW9uID0gTG9jYXRpb24ubWFrZUZyb21VcmwoYnVja2V0U3RyaW5nLCBob3N0KTtcbiAgICAgICAgfVxuICAgICAgICBjYXRjaCAoZSkge1xuICAgICAgICAgICAgLy8gTm90IHZhbGlkIFVSTCwgdXNlIGFzLWlzLiBUaGlzIGxldHMgeW91IHB1dCBiYXJlIGJ1Y2tldCBuYW1lcyBpblxuICAgICAgICAgICAgLy8gY29uZmlnLlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBMb2NhdGlvbihidWNrZXRTdHJpbmcsICcnKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoYnVja2V0TG9jYXRpb24ucGF0aCA9PT0gJycpIHtcbiAgICAgICAgICAgIHJldHVybiBidWNrZXRMb2NhdGlvbjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHRocm93IGludmFsaWREZWZhdWx0QnVja2V0KGJ1Y2tldFN0cmluZyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgc3RhdGljIG1ha2VGcm9tVXJsKHVybCwgaG9zdCkge1xuICAgICAgICBsZXQgbG9jYXRpb24gPSBudWxsO1xuICAgICAgICBjb25zdCBidWNrZXREb21haW4gPSAnKFtBLVphLXowLTkuXFxcXC1fXSspJztcbiAgICAgICAgZnVuY3Rpb24gZ3NNb2RpZnkobG9jKSB7XG4gICAgICAgICAgICBpZiAobG9jLnBhdGguY2hhckF0KGxvYy5wYXRoLmxlbmd0aCAtIDEpID09PSAnLycpIHtcbiAgICAgICAgICAgICAgICBsb2MucGF0aF8gPSBsb2MucGF0aF8uc2xpY2UoMCwgLTEpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnN0IGdzUGF0aCA9ICcoLyguKikpPyQnO1xuICAgICAgICBjb25zdCBnc1JlZ2V4ID0gbmV3IFJlZ0V4cCgnXmdzOi8vJyArIGJ1Y2tldERvbWFpbiArIGdzUGF0aCwgJ2knKTtcbiAgICAgICAgY29uc3QgZ3NJbmRpY2VzID0geyBidWNrZXQ6IDEsIHBhdGg6IDMgfTtcbiAgICAgICAgZnVuY3Rpb24gaHR0cE1vZGlmeShsb2MpIHtcbiAgICAgICAgICAgIGxvYy5wYXRoXyA9IGRlY29kZVVSSUNvbXBvbmVudChsb2MucGF0aCk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgdmVyc2lvbiA9ICd2W0EtWmEtejAtOV9dKyc7XG4gICAgICAgIGNvbnN0IGZpcmViYXNlU3RvcmFnZUhvc3QgPSBob3N0LnJlcGxhY2UoL1suXS9nLCAnXFxcXC4nKTtcbiAgICAgICAgY29uc3QgZmlyZWJhc2VTdG9yYWdlUGF0aCA9ICcoLyhbXj8jXSopLiopPyQnO1xuICAgICAgICBjb25zdCBmaXJlYmFzZVN0b3JhZ2VSZWdFeHAgPSBuZXcgUmVnRXhwKGBeaHR0cHM/Oi8vJHtmaXJlYmFzZVN0b3JhZ2VIb3N0fS8ke3ZlcnNpb259L2IvJHtidWNrZXREb21haW59L28ke2ZpcmViYXNlU3RvcmFnZVBhdGh9YCwgJ2knKTtcbiAgICAgICAgY29uc3QgZmlyZWJhc2VTdG9yYWdlSW5kaWNlcyA9IHsgYnVja2V0OiAxLCBwYXRoOiAzIH07XG4gICAgICAgIGNvbnN0IGNsb3VkU3RvcmFnZUhvc3QgPSBob3N0ID09PSBERUZBVUxUX0hPU1RcbiAgICAgICAgICAgID8gJyg/OnN0b3JhZ2UuZ29vZ2xlYXBpcy5jb218c3RvcmFnZS5jbG91ZC5nb29nbGUuY29tKSdcbiAgICAgICAgICAgIDogaG9zdDtcbiAgICAgICAgY29uc3QgY2xvdWRTdG9yYWdlUGF0aCA9ICcoW14/I10qKSc7XG4gICAgICAgIGNvbnN0IGNsb3VkU3RvcmFnZVJlZ0V4cCA9IG5ldyBSZWdFeHAoYF5odHRwcz86Ly8ke2Nsb3VkU3RvcmFnZUhvc3R9LyR7YnVja2V0RG9tYWlufS8ke2Nsb3VkU3RvcmFnZVBhdGh9YCwgJ2knKTtcbiAgICAgICAgY29uc3QgY2xvdWRTdG9yYWdlSW5kaWNlcyA9IHsgYnVja2V0OiAxLCBwYXRoOiAyIH07XG4gICAgICAgIGNvbnN0IGdyb3VwcyA9IFtcbiAgICAgICAgICAgIHsgcmVnZXg6IGdzUmVnZXgsIGluZGljZXM6IGdzSW5kaWNlcywgcG9zdE1vZGlmeTogZ3NNb2RpZnkgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZWdleDogZmlyZWJhc2VTdG9yYWdlUmVnRXhwLFxuICAgICAgICAgICAgICAgIGluZGljZXM6IGZpcmViYXNlU3RvcmFnZUluZGljZXMsXG4gICAgICAgICAgICAgICAgcG9zdE1vZGlmeTogaHR0cE1vZGlmeVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZWdleDogY2xvdWRTdG9yYWdlUmVnRXhwLFxuICAgICAgICAgICAgICAgIGluZGljZXM6IGNsb3VkU3RvcmFnZUluZGljZXMsXG4gICAgICAgICAgICAgICAgcG9zdE1vZGlmeTogaHR0cE1vZGlmeVxuICAgICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGdyb3Vwcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZ3JvdXAgPSBncm91cHNbaV07XG4gICAgICAgICAgICBjb25zdCBjYXB0dXJlcyA9IGdyb3VwLnJlZ2V4LmV4ZWModXJsKTtcbiAgICAgICAgICAgIGlmIChjYXB0dXJlcykge1xuICAgICAgICAgICAgICAgIGNvbnN0IGJ1Y2tldFZhbHVlID0gY2FwdHVyZXNbZ3JvdXAuaW5kaWNlcy5idWNrZXRdO1xuICAgICAgICAgICAgICAgIGxldCBwYXRoVmFsdWUgPSBjYXB0dXJlc1tncm91cC5pbmRpY2VzLnBhdGhdO1xuICAgICAgICAgICAgICAgIGlmICghcGF0aFZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhdGhWYWx1ZSA9ICcnO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBsb2NhdGlvbiA9IG5ldyBMb2NhdGlvbihidWNrZXRWYWx1ZSwgcGF0aFZhbHVlKTtcbiAgICAgICAgICAgICAgICBncm91cC5wb3N0TW9kaWZ5KGxvY2F0aW9uKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZiAobG9jYXRpb24gPT0gbnVsbCkge1xuICAgICAgICAgICAgdGhyb3cgaW52YWxpZFVybCh1cmwpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBsb2NhdGlvbjtcbiAgICB9XG59XG5cbi8qKlxuICogQSByZXF1ZXN0IHdob3NlIHByb21pc2UgYWx3YXlzIGZhaWxzLlxuICovXG5jbGFzcyBGYWlsUmVxdWVzdCB7XG4gICAgY29uc3RydWN0b3IoZXJyb3IpIHtcbiAgICAgICAgdGhpcy5wcm9taXNlXyA9IFByb21pc2UucmVqZWN0KGVycm9yKTtcbiAgICB9XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgZ2V0UHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZV87XG4gICAgfVxuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIGNhbmNlbChfYXBwRGVsZXRlID0gZmFsc2UpIHsgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBBY2NlcHRzIGEgY2FsbGJhY2sgZm9yIGFuIGFjdGlvbiB0byBwZXJmb3JtIChgZG9SZXF1ZXN0YCksXG4gKiBhbmQgdGhlbiBhIGNhbGxiYWNrIGZvciB3aGVuIHRoZSBiYWNrb2ZmIGhhcyBjb21wbGV0ZWQgKGBiYWNrb2ZmQ29tcGxldGVDYmApLlxuICogVGhlIGNhbGxiYWNrIHNlbnQgdG8gc3RhcnQgcmVxdWlyZXMgYW4gYXJndW1lbnQgdG8gY2FsbCAoYG9uUmVxdWVzdENvbXBsZXRlYCkuXG4gKiBXaGVuIGBzdGFydGAgY2FsbHMgYGRvUmVxdWVzdGAsIGl0IHBhc3NlcyBhIGNhbGxiYWNrIGZvciB3aGVuIHRoZSByZXF1ZXN0IGhhc1xuICogY29tcGxldGVkLCBgb25SZXF1ZXN0Q29tcGxldGVgLiBCYXNlZCBvbiB0aGlzLCB0aGUgYmFja29mZiBjb250aW51ZXMsIHdpdGhcbiAqIGFub3RoZXIgY2FsbCB0byBgZG9SZXF1ZXN0YCBhbmQgdGhlIGFib3ZlIGxvb3AgY29udGludWVzIHVudGlsIHRoZSB0aW1lb3V0XG4gKiBpcyBoaXQsIG9yIGEgc3VjY2Vzc2Z1bCByZXNwb25zZSBvY2N1cnMuXG4gKiBAZGVzY3JpcHRpb25cbiAqIEBwYXJhbSBkb1JlcXVlc3QgQ2FsbGJhY2sgdG8gcGVyZm9ybSByZXF1ZXN0XG4gKiBAcGFyYW0gYmFja29mZkNvbXBsZXRlQ2IgQ2FsbGJhY2sgdG8gY2FsbCB3aGVuIGJhY2tvZmYgaGFzIGJlZW4gY29tcGxldGVkXG4gKi9cbmZ1bmN0aW9uIHN0YXJ0KGRvUmVxdWVzdCwgXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuYmFja29mZkNvbXBsZXRlQ2IsIHRpbWVvdXQpIHtcbiAgICAvLyBUT0RPKGFuZHlzb3RvKTogbWFrZSB0aGlzIGNvZGUgY2xlYW5lciAocHJvYmFibHkgcmVmYWN0b3IgaW50byBhbiBhY3R1YWxcbiAgICAvLyB0eXBlIGluc3RlYWQgb2YgYSBidW5jaCBvZiBmdW5jdGlvbnMgd2l0aCBzdGF0ZSBzaGFyZWQgaW4gdGhlIGNsb3N1cmUpXG4gICAgbGV0IHdhaXRTZWNvbmRzID0gMTtcbiAgICAvLyBXb3VsZCB0eXBlIHRoaXMgYXMgXCJudW1iZXJcIiBidXQgdGhhdCBkb2Vzbid0IHdvcmsgZm9yIE5vZGUgc28gwq9cXF8o44OEKV8vwq9cbiAgICAvLyBUT0RPOiBmaW5kIGEgd2F5IHRvIGV4Y2x1ZGUgTm9kZSB0eXBlIGRlZmluaXRpb24gZm9yIHN0b3JhZ2UgYmVjYXVzZSBzdG9yYWdlIG9ubHkgd29ya3MgaW4gYnJvd3NlclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvbm8tZXhwbGljaXQtYW55XG4gICAgbGV0IHJldHJ5VGltZW91dElkID0gbnVsbDtcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWV4cGxpY2l0LWFueVxuICAgIGxldCBnbG9iYWxUaW1lb3V0SWQgPSBudWxsO1xuICAgIGxldCBoaXRUaW1lb3V0ID0gZmFsc2U7XG4gICAgbGV0IGNhbmNlbFN0YXRlID0gMDtcbiAgICBmdW5jdGlvbiBjYW5jZWxlZCgpIHtcbiAgICAgICAgcmV0dXJuIGNhbmNlbFN0YXRlID09PSAyO1xuICAgIH1cbiAgICBsZXQgdHJpZ2dlcmVkQ2FsbGJhY2sgPSBmYWxzZTtcbiAgICBmdW5jdGlvbiB0cmlnZ2VyQ2FsbGJhY2soLi4uYXJncykge1xuICAgICAgICBpZiAoIXRyaWdnZXJlZENhbGxiYWNrKSB7XG4gICAgICAgICAgICB0cmlnZ2VyZWRDYWxsYmFjayA9IHRydWU7XG4gICAgICAgICAgICBiYWNrb2ZmQ29tcGxldGVDYi5hcHBseShudWxsLCBhcmdzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxsV2l0aERlbGF5KG1pbGxpcykge1xuICAgICAgICByZXRyeVRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgcmV0cnlUaW1lb3V0SWQgPSBudWxsO1xuICAgICAgICAgICAgZG9SZXF1ZXN0KHJlc3BvbnNlSGFuZGxlciwgY2FuY2VsZWQoKSk7XG4gICAgICAgIH0sIG1pbGxpcyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNsZWFyR2xvYmFsVGltZW91dCgpIHtcbiAgICAgICAgaWYgKGdsb2JhbFRpbWVvdXRJZCkge1xuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGdsb2JhbFRpbWVvdXRJZCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gcmVzcG9uc2VIYW5kbGVyKHN1Y2Nlc3MsIC4uLmFyZ3MpIHtcbiAgICAgICAgaWYgKHRyaWdnZXJlZENhbGxiYWNrKSB7XG4gICAgICAgICAgICBjbGVhckdsb2JhbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3VjY2Vzcykge1xuICAgICAgICAgICAgY2xlYXJHbG9iYWxUaW1lb3V0KCk7XG4gICAgICAgICAgICB0cmlnZ2VyQ2FsbGJhY2suY2FsbChudWxsLCBzdWNjZXNzLCAuLi5hcmdzKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBtdXN0U3RvcCA9IGNhbmNlbGVkKCkgfHwgaGl0VGltZW91dDtcbiAgICAgICAgaWYgKG11c3RTdG9wKSB7XG4gICAgICAgICAgICBjbGVhckdsb2JhbFRpbWVvdXQoKTtcbiAgICAgICAgICAgIHRyaWdnZXJDYWxsYmFjay5jYWxsKG51bGwsIHN1Y2Nlc3MsIC4uLmFyZ3MpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh3YWl0U2Vjb25kcyA8IDY0KSB7XG4gICAgICAgICAgICAvKiBUT0RPKGFuZHlzb3RvKTogZG9uJ3QgYmFjayBvZmYgc28gcXVpY2tseSBpZiB3ZSBrbm93IHdlJ3JlIG9mZmxpbmUuICovXG4gICAgICAgICAgICB3YWl0U2Vjb25kcyAqPSAyO1xuICAgICAgICB9XG4gICAgICAgIGxldCB3YWl0TWlsbGlzO1xuICAgICAgICBpZiAoY2FuY2VsU3RhdGUgPT09IDEpIHtcbiAgICAgICAgICAgIGNhbmNlbFN0YXRlID0gMjtcbiAgICAgICAgICAgIHdhaXRNaWxsaXMgPSAwO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgd2FpdE1pbGxpcyA9ICh3YWl0U2Vjb25kcyArIE1hdGgucmFuZG9tKCkpICogMTAwMDtcbiAgICAgICAgfVxuICAgICAgICBjYWxsV2l0aERlbGF5KHdhaXRNaWxsaXMpO1xuICAgIH1cbiAgICBsZXQgc3RvcHBlZCA9IGZhbHNlO1xuICAgIGZ1bmN0aW9uIHN0b3Aod2FzVGltZW91dCkge1xuICAgICAgICBpZiAoc3RvcHBlZCkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN0b3BwZWQgPSB0cnVlO1xuICAgICAgICBjbGVhckdsb2JhbFRpbWVvdXQoKTtcbiAgICAgICAgaWYgKHRyaWdnZXJlZENhbGxiYWNrKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJldHJ5VGltZW91dElkICE9PSBudWxsKSB7XG4gICAgICAgICAgICBpZiAoIXdhc1RpbWVvdXQpIHtcbiAgICAgICAgICAgICAgICBjYW5jZWxTdGF0ZSA9IDI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjbGVhclRpbWVvdXQocmV0cnlUaW1lb3V0SWQpO1xuICAgICAgICAgICAgY2FsbFdpdGhEZWxheSgwKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICghd2FzVGltZW91dCkge1xuICAgICAgICAgICAgICAgIGNhbmNlbFN0YXRlID0gMTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBjYWxsV2l0aERlbGF5KDApO1xuICAgIGdsb2JhbFRpbWVvdXRJZCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBoaXRUaW1lb3V0ID0gdHJ1ZTtcbiAgICAgICAgc3RvcCh0cnVlKTtcbiAgICB9LCB0aW1lb3V0KTtcbiAgICByZXR1cm4gc3RvcDtcbn1cbi8qKlxuICogU3RvcHMgdGhlIHJldHJ5IGxvb3AgZnJvbSByZXBlYXRpbmcuXG4gKiBJZiB0aGUgZnVuY3Rpb24gaXMgY3VycmVudGx5IFwiaW4gYmV0d2VlblwiIHJldHJpZXMsIGl0IGlzIGludm9rZWQgaW1tZWRpYXRlbHlcbiAqIHdpdGggdGhlIHNlY29uZCBwYXJhbWV0ZXIgYXMgXCJ0cnVlXCIuIE90aGVyd2lzZSwgaXQgd2lsbCBiZSBpbnZva2VkIG9uY2UgbW9yZVxuICogYWZ0ZXIgdGhlIGN1cnJlbnQgaW52b2NhdGlvbiBmaW5pc2hlcyBpZmYgdGhlIGN1cnJlbnQgaW52b2NhdGlvbiB3b3VsZCBoYXZlXG4gKiB0cmlnZ2VyZWQgYW5vdGhlciByZXRyeS5cbiAqL1xuZnVuY3Rpb24gc3RvcChpZCkge1xuICAgIGlkKGZhbHNlKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmZ1bmN0aW9uIGlzSnVzdERlZihwKSB7XG4gICAgcmV0dXJuIHAgIT09IHZvaWQgMDtcbn1cbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBAdHlwZXNjcmlwdC1lc2xpbnQvYmFuLXR5cGVzXG5mdW5jdGlvbiBpc0Z1bmN0aW9uKHApIHtcbiAgICByZXR1cm4gdHlwZW9mIHAgPT09ICdmdW5jdGlvbic7XG59XG5mdW5jdGlvbiBpc05vbkFycmF5T2JqZWN0KHApIHtcbiAgICByZXR1cm4gdHlwZW9mIHAgPT09ICdvYmplY3QnICYmICFBcnJheS5pc0FycmF5KHApO1xufVxuZnVuY3Rpb24gaXNTdHJpbmcocCkge1xuICAgIHJldHVybiB0eXBlb2YgcCA9PT0gJ3N0cmluZycgfHwgcCBpbnN0YW5jZW9mIFN0cmluZztcbn1cbmZ1bmN0aW9uIGlzTmF0aXZlQmxvYihwKSB7XG4gICAgcmV0dXJuIGlzTmF0aXZlQmxvYkRlZmluZWQoKSAmJiBwIGluc3RhbmNlb2YgQmxvYjtcbn1cbmZ1bmN0aW9uIGlzTmF0aXZlQmxvYkRlZmluZWQoKSB7XG4gICAgcmV0dXJuIHR5cGVvZiBCbG9iICE9PSAndW5kZWZpbmVkJztcbn1cbmZ1bmN0aW9uIHZhbGlkYXRlTnVtYmVyKGFyZ3VtZW50LCBtaW5WYWx1ZSwgbWF4VmFsdWUsIHZhbHVlKSB7XG4gICAgaWYgKHZhbHVlIDwgbWluVmFsdWUpIHtcbiAgICAgICAgdGhyb3cgaW52YWxpZEFyZ3VtZW50KGBJbnZhbGlkIHZhbHVlIGZvciAnJHthcmd1bWVudH0nLiBFeHBlY3RlZCAke21pblZhbHVlfSBvciBncmVhdGVyLmApO1xuICAgIH1cbiAgICBpZiAodmFsdWUgPiBtYXhWYWx1ZSkge1xuICAgICAgICB0aHJvdyBpbnZhbGlkQXJndW1lbnQoYEludmFsaWQgdmFsdWUgZm9yICcke2FyZ3VtZW50fScuIEV4cGVjdGVkICR7bWF4VmFsdWV9IG9yIGxlc3MuYCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gbWFrZVVybCh1cmxQYXJ0LCBob3N0LCBwcm90b2NvbCkge1xuICAgIGxldCBvcmlnaW4gPSBob3N0O1xuICAgIGlmIChwcm90b2NvbCA9PSBudWxsKSB7XG4gICAgICAgIG9yaWdpbiA9IGBodHRwczovLyR7aG9zdH1gO1xuICAgIH1cbiAgICByZXR1cm4gYCR7cHJvdG9jb2x9Oi8vJHtvcmlnaW59L3YwJHt1cmxQYXJ0fWA7XG59XG5mdW5jdGlvbiBtYWtlUXVlcnlTdHJpbmcocGFyYW1zKSB7XG4gICAgY29uc3QgZW5jb2RlID0gZW5jb2RlVVJJQ29tcG9uZW50O1xuICAgIGxldCBxdWVyeVBhcnQgPSAnPyc7XG4gICAgZm9yIChjb25zdCBrZXkgaW4gcGFyYW1zKSB7XG4gICAgICAgIGlmIChwYXJhbXMuaGFzT3duUHJvcGVydHkoa2V5KSkge1xuICAgICAgICAgICAgY29uc3QgbmV4dFBhcnQgPSBlbmNvZGUoa2V5KSArICc9JyArIGVuY29kZShwYXJhbXNba2V5XSk7XG4gICAgICAgICAgICBxdWVyeVBhcnQgPSBxdWVyeVBhcnQgKyBuZXh0UGFydCArICcmJztcbiAgICAgICAgfVxuICAgIH1cbiAgICAvLyBDaG9wIG9mZiB0aGUgZXh0cmEgJyYnIG9yICc/JyBvbiB0aGUgZW5kXG4gICAgcXVlcnlQYXJ0ID0gcXVlcnlQYXJ0LnNsaWNlKDAsIC0xKTtcbiAgICByZXR1cm4gcXVlcnlQYXJ0O1xufVxuXG4vKipcbiAqIEVycm9yIGNvZGVzIGZvciByZXF1ZXN0cyBtYWRlIGJ5IHRoZSBYaHJJbyB3cmFwcGVyLlxuICovXG52YXIgRXJyb3JDb2RlO1xuKGZ1bmN0aW9uIChFcnJvckNvZGUpIHtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTk9fRVJST1JcIl0gPSAwXSA9IFwiTk9fRVJST1JcIjtcbiAgICBFcnJvckNvZGVbRXJyb3JDb2RlW1wiTkVUV09SS19FUlJPUlwiXSA9IDFdID0gXCJORVRXT1JLX0VSUk9SXCI7XG4gICAgRXJyb3JDb2RlW0Vycm9yQ29kZVtcIkFCT1JUXCJdID0gMl0gPSBcIkFCT1JUXCI7XG59KShFcnJvckNvZGUgfHwgKEVycm9yQ29kZSA9IHt9KSk7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIyIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIENoZWNrcyB0aGUgc3RhdHVzIGNvZGUgdG8gc2VlIGlmIHRoZSBhY3Rpb24gc2hvdWxkIGJlIHJldHJpZWQuXG4gKlxuICogQHBhcmFtIHN0YXR1cyBDdXJyZW50IEhUVFAgc3RhdHVzIGNvZGUgcmV0dXJuZWQgYnkgc2VydmVyLlxuICogQHBhcmFtIGFkZGl0aW9uYWxSZXRyeUNvZGVzIGFkZGl0aW9uYWwgcmV0cnkgY29kZXMgdG8gY2hlY2sgYWdhaW5zdFxuICovXG5mdW5jdGlvbiBpc1JldHJ5U3RhdHVzQ29kZShzdGF0dXMsIGFkZGl0aW9uYWxSZXRyeUNvZGVzKSB7XG4gICAgLy8gVGhlIGNvZGVzIGZvciB3aGljaCB0byByZXRyeSBjYW1lIGZyb20gdGhpcyBwYWdlOlxuICAgIC8vIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9zdG9yYWdlL2RvY3MvZXhwb25lbnRpYWwtYmFja29mZlxuICAgIGNvbnN0IGlzRml2ZUh1bmRyZWRDb2RlID0gc3RhdHVzID49IDUwMCAmJiBzdGF0dXMgPCA2MDA7XG4gICAgY29uc3QgZXh0cmFSZXRyeUNvZGVzID0gW1xuICAgICAgICAvLyBSZXF1ZXN0IFRpbWVvdXQ6IHdlYiBzZXJ2ZXIgZGlkbid0IHJlY2VpdmUgZnVsbCByZXF1ZXN0IGluIHRpbWUuXG4gICAgICAgIDQwOCxcbiAgICAgICAgLy8gVG9vIE1hbnkgUmVxdWVzdHM6IHlvdSdyZSBnZXR0aW5nIHJhdGUtbGltaXRlZCwgYmFzaWNhbGx5LlxuICAgICAgICA0MjlcbiAgICBdO1xuICAgIGNvbnN0IGlzRXh0cmFSZXRyeUNvZGUgPSBleHRyYVJldHJ5Q29kZXMuaW5kZXhPZihzdGF0dXMpICE9PSAtMTtcbiAgICBjb25zdCBpc0FkZGl0aW9uYWxSZXRyeUNvZGUgPSBhZGRpdGlvbmFsUmV0cnlDb2Rlcy5pbmRleE9mKHN0YXR1cykgIT09IC0xO1xuICAgIHJldHVybiBpc0ZpdmVIdW5kcmVkQ29kZSB8fCBpc0V4dHJhUmV0cnlDb2RlIHx8IGlzQWRkaXRpb25hbFJldHJ5Q29kZTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogSGFuZGxlcyBuZXR3b3JrIGxvZ2ljIGZvciBhbGwgU3RvcmFnZSBSZXF1ZXN0cywgaW5jbHVkaW5nIGVycm9yIHJlcG9ydGluZyBhbmRcbiAqIHJldHJpZXMgd2l0aCBiYWNrb2ZmLlxuICpcbiAqIEBwYXJhbSBJIC0gdGhlIHR5cGUgb2YgdGhlIGJhY2tlbmQncyBuZXR3b3JrIHJlc3BvbnNlLlxuICogQHBhcmFtIC0gTyB0aGUgb3V0cHV0IHR5cGUgdXNlZCBieSB0aGUgcmVzdCBvZiB0aGUgU0RLLiBUaGUgY29udmVyc2lvblxuICogaGFwcGVucyBpbiB0aGUgc3BlY2lmaWVkIGBjYWxsYmFja19gLlxuICovXG5jbGFzcyBOZXR3b3JrUmVxdWVzdCB7XG4gICAgY29uc3RydWN0b3IodXJsXywgbWV0aG9kXywgaGVhZGVyc18sIGJvZHlfLCBzdWNjZXNzQ29kZXNfLCBhZGRpdGlvbmFsUmV0cnlDb2Rlc18sIGNhbGxiYWNrXywgZXJyb3JDYWxsYmFja18sIHRpbWVvdXRfLCBwcm9ncmVzc0NhbGxiYWNrXywgY29ubmVjdGlvbkZhY3RvcnlfLCByZXRyeSA9IHRydWUsIGlzVXNpbmdFbXVsYXRvciA9IGZhbHNlKSB7XG4gICAgICAgIHRoaXMudXJsXyA9IHVybF87XG4gICAgICAgIHRoaXMubWV0aG9kXyA9IG1ldGhvZF87XG4gICAgICAgIHRoaXMuaGVhZGVyc18gPSBoZWFkZXJzXztcbiAgICAgICAgdGhpcy5ib2R5XyA9IGJvZHlfO1xuICAgICAgICB0aGlzLnN1Y2Nlc3NDb2Rlc18gPSBzdWNjZXNzQ29kZXNfO1xuICAgICAgICB0aGlzLmFkZGl0aW9uYWxSZXRyeUNvZGVzXyA9IGFkZGl0aW9uYWxSZXRyeUNvZGVzXztcbiAgICAgICAgdGhpcy5jYWxsYmFja18gPSBjYWxsYmFja187XG4gICAgICAgIHRoaXMuZXJyb3JDYWxsYmFja18gPSBlcnJvckNhbGxiYWNrXztcbiAgICAgICAgdGhpcy50aW1lb3V0XyA9IHRpbWVvdXRfO1xuICAgICAgICB0aGlzLnByb2dyZXNzQ2FsbGJhY2tfID0gcHJvZ3Jlc3NDYWxsYmFja187XG4gICAgICAgIHRoaXMuY29ubmVjdGlvbkZhY3RvcnlfID0gY29ubmVjdGlvbkZhY3RvcnlfO1xuICAgICAgICB0aGlzLnJldHJ5ID0gcmV0cnk7XG4gICAgICAgIHRoaXMuaXNVc2luZ0VtdWxhdG9yID0gaXNVc2luZ0VtdWxhdG9yO1xuICAgICAgICB0aGlzLnBlbmRpbmdDb25uZWN0aW9uXyA9IG51bGw7XG4gICAgICAgIHRoaXMuYmFja29mZklkXyA9IG51bGw7XG4gICAgICAgIHRoaXMuY2FuY2VsZWRfID0gZmFsc2U7XG4gICAgICAgIHRoaXMuYXBwRGVsZXRlXyA9IGZhbHNlO1xuICAgICAgICB0aGlzLnByb21pc2VfID0gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5yZXNvbHZlXyA9IHJlc29sdmU7XG4gICAgICAgICAgICB0aGlzLnJlamVjdF8gPSByZWplY3Q7XG4gICAgICAgICAgICB0aGlzLnN0YXJ0XygpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogQWN0dWFsbHkgc3RhcnRzIHRoZSByZXRyeSBsb29wLlxuICAgICAqL1xuICAgIHN0YXJ0XygpIHtcbiAgICAgICAgY29uc3QgZG9UaGVSZXF1ZXN0ID0gKGJhY2tvZmZDYWxsYmFjaywgY2FuY2VsZWQpID0+IHtcbiAgICAgICAgICAgIGlmIChjYW5jZWxlZCkge1xuICAgICAgICAgICAgICAgIGJhY2tvZmZDYWxsYmFjayhmYWxzZSwgbmV3IFJlcXVlc3RFbmRTdGF0dXMoZmFsc2UsIG51bGwsIHRydWUpKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCBjb25uZWN0aW9uID0gdGhpcy5jb25uZWN0aW9uRmFjdG9yeV8oKTtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0Nvbm5lY3Rpb25fID0gY29ubmVjdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IHByb2dyZXNzTGlzdGVuZXIgPSBwcm9ncmVzc0V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICBjb25zdCBsb2FkZWQgPSBwcm9ncmVzc0V2ZW50LmxvYWRlZDtcbiAgICAgICAgICAgICAgICBjb25zdCB0b3RhbCA9IHByb2dyZXNzRXZlbnQubGVuZ3RoQ29tcHV0YWJsZSA/IHByb2dyZXNzRXZlbnQudG90YWwgOiAtMTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9ncmVzc0NhbGxiYWNrXyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnByb2dyZXNzQ2FsbGJhY2tfKGxvYWRlZCwgdG90YWwpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAodGhpcy5wcm9ncmVzc0NhbGxiYWNrXyAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIGNvbm5lY3Rpb24uYWRkVXBsb2FkUHJvZ3Jlc3NMaXN0ZW5lcihwcm9ncmVzc0xpc3RlbmVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC8vIGNvbm5lY3Rpb24uc2VuZCgpIG5ldmVyIHJlamVjdHMsIHNvIHdlIGRvbid0IG5lZWQgdG8gaGF2ZSBhIGVycm9yIGhhbmRsZXIgb3IgdXNlIGNhdGNoIG9uIHRoZSByZXR1cm5lZCBwcm9taXNlLlxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICAgICAgY29ubmVjdGlvblxuICAgICAgICAgICAgICAgIC5zZW5kKHRoaXMudXJsXywgdGhpcy5tZXRob2RfLCB0aGlzLmlzVXNpbmdFbXVsYXRvciwgdGhpcy5ib2R5XywgdGhpcy5oZWFkZXJzXylcbiAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMucHJvZ3Jlc3NDYWxsYmFja18gIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgY29ubmVjdGlvbi5yZW1vdmVVcGxvYWRQcm9ncmVzc0xpc3RlbmVyKHByb2dyZXNzTGlzdGVuZXIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdDb25uZWN0aW9uXyA9IG51bGw7XG4gICAgICAgICAgICAgICAgY29uc3QgaGl0U2VydmVyID0gY29ubmVjdGlvbi5nZXRFcnJvckNvZGUoKSA9PT0gRXJyb3JDb2RlLk5PX0VSUk9SO1xuICAgICAgICAgICAgICAgIGNvbnN0IHN0YXR1cyA9IGNvbm5lY3Rpb24uZ2V0U3RhdHVzKCk7XG4gICAgICAgICAgICAgICAgaWYgKCFoaXRTZXJ2ZXIgfHxcbiAgICAgICAgICAgICAgICAgICAgKGlzUmV0cnlTdGF0dXNDb2RlKHN0YXR1cywgdGhpcy5hZGRpdGlvbmFsUmV0cnlDb2Rlc18pICYmXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJldHJ5KSkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCB3YXNDYW5jZWxlZCA9IGNvbm5lY3Rpb24uZ2V0RXJyb3JDb2RlKCkgPT09IEVycm9yQ29kZS5BQk9SVDtcbiAgICAgICAgICAgICAgICAgICAgYmFja29mZkNhbGxiYWNrKGZhbHNlLCBuZXcgUmVxdWVzdEVuZFN0YXR1cyhmYWxzZSwgbnVsbCwgd2FzQ2FuY2VsZWQpKTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb25zdCBzdWNjZXNzQ29kZSA9IHRoaXMuc3VjY2Vzc0NvZGVzXy5pbmRleE9mKHN0YXR1cykgIT09IC0xO1xuICAgICAgICAgICAgICAgIGJhY2tvZmZDYWxsYmFjayh0cnVlLCBuZXcgUmVxdWVzdEVuZFN0YXR1cyhzdWNjZXNzQ29kZSwgY29ubmVjdGlvbikpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBAcGFyYW0gcmVxdWVzdFdlbnRUaHJvdWdoIC0gVHJ1ZSBpZiB0aGUgcmVxdWVzdCBldmVudHVhbGx5IHdlbnRcbiAgICAgICAgICogICAgIHRocm91Z2gsIGZhbHNlIGlmIGl0IGhpdCB0aGUgcmV0cnkgbGltaXQgb3Igd2FzIGNhbmNlbGVkLlxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgYmFja29mZkRvbmUgPSAocmVxdWVzdFdlbnRUaHJvdWdoLCBzdGF0dXMpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlc29sdmUgPSB0aGlzLnJlc29sdmVfO1xuICAgICAgICAgICAgY29uc3QgcmVqZWN0ID0gdGhpcy5yZWplY3RfO1xuICAgICAgICAgICAgY29uc3QgY29ubmVjdGlvbiA9IHN0YXR1cy5jb25uZWN0aW9uO1xuICAgICAgICAgICAgaWYgKHN0YXR1cy53YXNTdWNjZXNzQ29kZSkge1xuICAgICAgICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IHRoaXMuY2FsbGJhY2tfKGNvbm5lY3Rpb24sIGNvbm5lY3Rpb24uZ2V0UmVzcG9uc2UoKSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0p1c3REZWYocmVzdWx0KSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShyZXN1bHQpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJlamVjdChlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoY29ubmVjdGlvbiAhPT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSB1bmtub3duKCk7XG4gICAgICAgICAgICAgICAgICAgIGVyci5zZXJ2ZXJSZXNwb25zZSA9IGNvbm5lY3Rpb24uZ2V0RXJyb3JUZXh0KCk7XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmVycm9yQ2FsbGJhY2tfKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZWplY3QodGhpcy5lcnJvckNhbGxiYWNrXyhjb25uZWN0aW9uLCBlcnIpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBpZiAoc3RhdHVzLmNhbmNlbGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSB0aGlzLmFwcERlbGV0ZV8gPyBhcHBEZWxldGVkKCkgOiBjYW5jZWxlZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KGVycik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBlcnIgPSByZXRyeUxpbWl0RXhjZWVkZWQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlamVjdChlcnIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAodGhpcy5jYW5jZWxlZF8pIHtcbiAgICAgICAgICAgIGJhY2tvZmZEb25lKGZhbHNlLCBuZXcgUmVxdWVzdEVuZFN0YXR1cyhmYWxzZSwgbnVsbCwgdHJ1ZSkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5iYWNrb2ZmSWRfID0gc3RhcnQoZG9UaGVSZXF1ZXN0LCBiYWNrb2ZmRG9uZSwgdGhpcy50aW1lb3V0Xyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqIEBpbmhlcml0RG9jICovXG4gICAgZ2V0UHJvbWlzZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvbWlzZV87XG4gICAgfVxuICAgIC8qKiBAaW5oZXJpdERvYyAqL1xuICAgIGNhbmNlbChhcHBEZWxldGUpIHtcbiAgICAgICAgdGhpcy5jYW5jZWxlZF8gPSB0cnVlO1xuICAgICAgICB0aGlzLmFwcERlbGV0ZV8gPSBhcHBEZWxldGUgfHwgZmFsc2U7XG4gICAgICAgIGlmICh0aGlzLmJhY2tvZmZJZF8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHN0b3AodGhpcy5iYWNrb2ZmSWRfKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5wZW5kaW5nQ29ubmVjdGlvbl8gIT09IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMucGVuZGluZ0Nvbm5lY3Rpb25fLmFib3J0KCk7XG4gICAgICAgIH1cbiAgICB9XG59XG4vKipcbiAqIEEgY29sbGVjdGlvbiBvZiBpbmZvcm1hdGlvbiBhYm91dCB0aGUgcmVzdWx0IG9mIGEgbmV0d29yayByZXF1ZXN0LlxuICogQHBhcmFtIG9wdF9jYW5jZWxlZCAtIERlZmF1bHRzIHRvIGZhbHNlLlxuICovXG5jbGFzcyBSZXF1ZXN0RW5kU3RhdHVzIHtcbiAgICBjb25zdHJ1Y3Rvcih3YXNTdWNjZXNzQ29kZSwgY29ubmVjdGlvbiwgY2FuY2VsZWQpIHtcbiAgICAgICAgdGhpcy53YXNTdWNjZXNzQ29kZSA9IHdhc1N1Y2Nlc3NDb2RlO1xuICAgICAgICB0aGlzLmNvbm5lY3Rpb24gPSBjb25uZWN0aW9uO1xuICAgICAgICB0aGlzLmNhbmNlbGVkID0gISFjYW5jZWxlZDtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRBdXRoSGVhZGVyXyhoZWFkZXJzLCBhdXRoVG9rZW4pIHtcbiAgICBpZiAoYXV0aFRva2VuICE9PSBudWxsICYmIGF1dGhUb2tlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGhlYWRlcnNbJ0F1dGhvcml6YXRpb24nXSA9ICdGaXJlYmFzZSAnICsgYXV0aFRva2VuO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGFkZFZlcnNpb25IZWFkZXJfKGhlYWRlcnMsIGZpcmViYXNlVmVyc2lvbikge1xuICAgIGhlYWRlcnNbJ1gtRmlyZWJhc2UtU3RvcmFnZS1WZXJzaW9uJ10gPVxuICAgICAgICAnd2VianMvJyArIChmaXJlYmFzZVZlcnNpb24gPz8gJ0FwcE1hbmFnZXInKTtcbn1cbmZ1bmN0aW9uIGFkZEdtcGlkSGVhZGVyXyhoZWFkZXJzLCBhcHBJZCkge1xuICAgIGlmIChhcHBJZCkge1xuICAgICAgICBoZWFkZXJzWydYLUZpcmViYXNlLUdNUElEJ10gPSBhcHBJZDtcbiAgICB9XG59XG5mdW5jdGlvbiBhZGRBcHBDaGVja0hlYWRlcl8oaGVhZGVycywgYXBwQ2hlY2tUb2tlbikge1xuICAgIGlmIChhcHBDaGVja1Rva2VuICE9PSBudWxsKSB7XG4gICAgICAgIGhlYWRlcnNbJ1gtRmlyZWJhc2UtQXBwQ2hlY2snXSA9IGFwcENoZWNrVG9rZW47XG4gICAgfVxufVxuZnVuY3Rpb24gbWFrZVJlcXVlc3QocmVxdWVzdEluZm8sIGFwcElkLCBhdXRoVG9rZW4sIGFwcENoZWNrVG9rZW4sIHJlcXVlc3RGYWN0b3J5LCBmaXJlYmFzZVZlcnNpb24sIHJldHJ5ID0gdHJ1ZSwgaXNVc2luZ0VtdWxhdG9yID0gZmFsc2UpIHtcbiAgICBjb25zdCBxdWVyeVBhcnQgPSBtYWtlUXVlcnlTdHJpbmcocmVxdWVzdEluZm8udXJsUGFyYW1zKTtcbiAgICBjb25zdCB1cmwgPSByZXF1ZXN0SW5mby51cmwgKyBxdWVyeVBhcnQ7XG4gICAgY29uc3QgaGVhZGVycyA9IE9iamVjdC5hc3NpZ24oe30sIHJlcXVlc3RJbmZvLmhlYWRlcnMpO1xuICAgIGFkZEdtcGlkSGVhZGVyXyhoZWFkZXJzLCBhcHBJZCk7XG4gICAgYWRkQXV0aEhlYWRlcl8oaGVhZGVycywgYXV0aFRva2VuKTtcbiAgICBhZGRWZXJzaW9uSGVhZGVyXyhoZWFkZXJzLCBmaXJlYmFzZVZlcnNpb24pO1xuICAgIGFkZEFwcENoZWNrSGVhZGVyXyhoZWFkZXJzLCBhcHBDaGVja1Rva2VuKTtcbiAgICByZXR1cm4gbmV3IE5ldHdvcmtSZXF1ZXN0KHVybCwgcmVxdWVzdEluZm8ubWV0aG9kLCBoZWFkZXJzLCByZXF1ZXN0SW5mby5ib2R5LCByZXF1ZXN0SW5mby5zdWNjZXNzQ29kZXMsIHJlcXVlc3RJbmZvLmFkZGl0aW9uYWxSZXRyeUNvZGVzLCByZXF1ZXN0SW5mby5oYW5kbGVyLCByZXF1ZXN0SW5mby5lcnJvckhhbmRsZXIsIHJlcXVlc3RJbmZvLnRpbWVvdXQsIHJlcXVlc3RJbmZvLnByb2dyZXNzQ2FsbGJhY2ssIHJlcXVlc3RGYWN0b3J5LCByZXRyeSwgaXNVc2luZ0VtdWxhdG9yKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmZ1bmN0aW9uIGdldEJsb2JCdWlsZGVyKCkge1xuICAgIGlmICh0eXBlb2YgQmxvYkJ1aWxkZXIgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgICAgIHJldHVybiBCbG9iQnVpbGRlcjtcbiAgICB9XG4gICAgZWxzZSBpZiAodHlwZW9mIFdlYktpdEJsb2JCdWlsZGVyICE9PSAndW5kZWZpbmVkJykge1xuICAgICAgICByZXR1cm4gV2ViS2l0QmxvYkJ1aWxkZXI7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gdW5kZWZpbmVkO1xuICAgIH1cbn1cbi8qKlxuICogQ29uY2F0ZW5hdGVzIG9uZSBvciBtb3JlIHZhbHVlcyB0b2dldGhlciBhbmQgY29udmVydHMgdGhlbSB0byBhIEJsb2IuXG4gKlxuICogQHBhcmFtIGFyZ3MgVGhlIHZhbHVlcyB0aGF0IHdpbGwgbWFrZSB1cCB0aGUgcmVzdWx0aW5nIGJsb2IuXG4gKiBAcmV0dXJuIFRoZSBibG9iLlxuICovXG5mdW5jdGlvbiBnZXRCbG9iJDEoLi4uYXJncykge1xuICAgIGNvbnN0IEJsb2JCdWlsZGVyID0gZ2V0QmxvYkJ1aWxkZXIoKTtcbiAgICBpZiAoQmxvYkJ1aWxkZXIgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICBjb25zdCBiYiA9IG5ldyBCbG9iQnVpbGRlcigpO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFyZ3MubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGJiLmFwcGVuZChhcmdzW2ldKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYmIuZ2V0QmxvYigpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgaWYgKGlzTmF0aXZlQmxvYkRlZmluZWQoKSkge1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBCbG9iKGFyZ3MpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IFN0b3JhZ2VFcnJvcihTdG9yYWdlRXJyb3JDb2RlLlVOU1VQUE9SVEVEX0VOVklST05NRU5ULCBcIlRoaXMgYnJvd3NlciBkb2Vzbid0IHNlZW0gdG8gc3VwcG9ydCBjcmVhdGluZyBCbG9ic1wiKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogU2xpY2VzIHRoZSBibG9iLiBUaGUgcmV0dXJuZWQgYmxvYiBjb250YWlucyBkYXRhIGZyb20gdGhlIHN0YXJ0IGJ5dGVcbiAqIChpbmNsdXNpdmUpIHRpbGwgdGhlIGVuZCBieXRlIChleGNsdXNpdmUpLiBOZWdhdGl2ZSBpbmRpY2VzIGNhbm5vdCBiZSB1c2VkLlxuICpcbiAqIEBwYXJhbSBibG9iIFRoZSBibG9iIHRvIGJlIHNsaWNlZC5cbiAqIEBwYXJhbSBzdGFydCBJbmRleCBvZiB0aGUgc3RhcnRpbmcgYnl0ZS5cbiAqIEBwYXJhbSBlbmQgSW5kZXggb2YgdGhlIGVuZGluZyBieXRlLlxuICogQHJldHVybiBUaGUgYmxvYiBzbGljZSBvciBudWxsIGlmIG5vdCBzdXBwb3J0ZWQuXG4gKi9cbmZ1bmN0aW9uIHNsaWNlQmxvYihibG9iLCBzdGFydCwgZW5kKSB7XG4gICAgaWYgKGJsb2Iud2Via2l0U2xpY2UpIHtcbiAgICAgICAgcmV0dXJuIGJsb2Iud2Via2l0U2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJsb2IubW96U2xpY2UpIHtcbiAgICAgICAgcmV0dXJuIGJsb2IubW96U2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJsb2Iuc2xpY2UpIHtcbiAgICAgICAgcmV0dXJuIGJsb2Iuc2xpY2Uoc3RhcnQsIGVuZCk7XG4gICAgfVxuICAgIHJldHVybiBudWxsO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqIENvbnZlcnRzIGEgQmFzZTY0IGVuY29kZWQgc3RyaW5nIHRvIGEgYmluYXJ5IHN0cmluZy4gKi9cbmZ1bmN0aW9uIGRlY29kZUJhc2U2NChlbmNvZGVkKSB7XG4gICAgaWYgKHR5cGVvZiBhdG9iID09PSAndW5kZWZpbmVkJykge1xuICAgICAgICB0aHJvdyBtaXNzaW5nUG9seUZpbGwoJ2Jhc2UtNjQnKTtcbiAgICB9XG4gICAgcmV0dXJuIGF0b2IoZW5jb2RlZCk7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEFuIGVudW1lcmF0aW9uIG9mIHRoZSBwb3NzaWJsZSBzdHJpbmcgZm9ybWF0cyBmb3IgdXBsb2FkLlxuICogQHB1YmxpY1xuICovXG5jb25zdCBTdHJpbmdGb3JtYXQgPSB7XG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoZSBzdHJpbmcgc2hvdWxkIGJlIGludGVycHJldGVkIFwicmF3XCIsIHRoYXQgaXMsIGFzIG5vcm1hbCB0ZXh0LlxuICAgICAqIFRoZSBzdHJpbmcgd2lsbCBiZSBpbnRlcnByZXRlZCBhcyBVVEYtMTYsIHRoZW4gdXBsb2FkZWQgYXMgYSBVVEYtOCBieXRlXG4gICAgICogc2VxdWVuY2UuXG4gICAgICogRXhhbXBsZTogVGhlIHN0cmluZyAnSGVsbG8hIFxcXFx1ZDgzZFxcXFx1ZGUwYScgYmVjb21lcyB0aGUgYnl0ZSBzZXF1ZW5jZVxuICAgICAqIDQ4IDY1IDZjIDZjIDZmIDIxIDIwIGYwIDlmIDk4IDhhXG4gICAgICovXG4gICAgUkFXOiAncmF3JyxcbiAgICAvKipcbiAgICAgKiBJbmRpY2F0ZXMgdGhlIHN0cmluZyBzaG91bGQgYmUgaW50ZXJwcmV0ZWQgYXMgYmFzZTY0LWVuY29kZWQgZGF0YS5cbiAgICAgKiBQYWRkaW5nIGNoYXJhY3RlcnMgKHRyYWlsaW5nICc9J3MpIGFyZSBvcHRpb25hbC5cbiAgICAgKiBFeGFtcGxlOiBUaGUgc3RyaW5nICdyV21PKytFNnQ3L3Jsdz09JyBiZWNvbWVzIHRoZSBieXRlIHNlcXVlbmNlXG4gICAgICogYWQgNjkgOGUgZmIgZTEgM2EgYjcgYmYgZWIgOTdcbiAgICAgKi9cbiAgICBCQVNFNjQ6ICdiYXNlNjQnLFxuICAgIC8qKlxuICAgICAqIEluZGljYXRlcyB0aGUgc3RyaW5nIHNob3VsZCBiZSBpbnRlcnByZXRlZCBhcyBiYXNlNjR1cmwtZW5jb2RlZCBkYXRhLlxuICAgICAqIFBhZGRpbmcgY2hhcmFjdGVycyAodHJhaWxpbmcgJz0ncykgYXJlIG9wdGlvbmFsLlxuICAgICAqIEV4YW1wbGU6IFRoZSBzdHJpbmcgJ3JXbU8tLUU2dDdfcmx3PT0nIGJlY29tZXMgdGhlIGJ5dGUgc2VxdWVuY2VcbiAgICAgKiBhZCA2OSA4ZSBmYiBlMSAzYSBiNyBiZiBlYiA5N1xuICAgICAqL1xuICAgIEJBU0U2NFVSTDogJ2Jhc2U2NHVybCcsXG4gICAgLyoqXG4gICAgICogSW5kaWNhdGVzIHRoZSBzdHJpbmcgaXMgYSBkYXRhIFVSTCwgc3VjaCBhcyBvbmUgb2J0YWluZWQgZnJvbVxuICAgICAqIGNhbnZhcy50b0RhdGFVUkwoKS5cbiAgICAgKiBFeGFtcGxlOiB0aGUgc3RyaW5nICdkYXRhOmFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbTtiYXNlNjQsYWFhYSdcbiAgICAgKiBiZWNvbWVzIHRoZSBieXRlIHNlcXVlbmNlXG4gICAgICogNjkgYTYgOWFcbiAgICAgKiAodGhlIGNvbnRlbnQtdHlwZSBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiIGlzIGFsc28gYXBwbGllZCwgYnV0IGNhblxuICAgICAqIGJlIG92ZXJyaWRkZW4gaW4gdGhlIG1ldGFkYXRhIG9iamVjdCkuXG4gICAgICovXG4gICAgREFUQV9VUkw6ICdkYXRhX3VybCdcbn07XG5jbGFzcyBTdHJpbmdEYXRhIHtcbiAgICBjb25zdHJ1Y3RvcihkYXRhLCBjb250ZW50VHlwZSkge1xuICAgICAgICB0aGlzLmRhdGEgPSBkYXRhO1xuICAgICAgICB0aGlzLmNvbnRlbnRUeXBlID0gY29udGVudFR5cGUgfHwgbnVsbDtcbiAgICB9XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBkYXRhRnJvbVN0cmluZyhmb3JtYXQsIHN0cmluZ0RhdGEpIHtcbiAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgICBjYXNlIFN0cmluZ0Zvcm1hdC5SQVc6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0cmluZ0RhdGEodXRmOEJ5dGVzXyhzdHJpbmdEYXRhKSk7XG4gICAgICAgIGNhc2UgU3RyaW5nRm9ybWF0LkJBU0U2NDpcbiAgICAgICAgY2FzZSBTdHJpbmdGb3JtYXQuQkFTRTY0VVJMOlxuICAgICAgICAgICAgcmV0dXJuIG5ldyBTdHJpbmdEYXRhKGJhc2U2NEJ5dGVzXyhmb3JtYXQsIHN0cmluZ0RhdGEpKTtcbiAgICAgICAgY2FzZSBTdHJpbmdGb3JtYXQuREFUQV9VUkw6XG4gICAgICAgICAgICByZXR1cm4gbmV3IFN0cmluZ0RhdGEoZGF0YVVSTEJ5dGVzXyhzdHJpbmdEYXRhKSwgZGF0YVVSTENvbnRlbnRUeXBlXyhzdHJpbmdEYXRhKSk7XG4gICAgICAgIC8vIGRvIG5vdGhpbmdcbiAgICB9XG4gICAgLy8gYXNzZXJ0KGZhbHNlKTtcbiAgICB0aHJvdyB1bmtub3duKCk7XG59XG5mdW5jdGlvbiB1dGY4Qnl0ZXNfKHZhbHVlKSB7XG4gICAgY29uc3QgYiA9IFtdO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdmFsdWUubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgbGV0IGMgPSB2YWx1ZS5jaGFyQ29kZUF0KGkpO1xuICAgICAgICBpZiAoYyA8PSAxMjcpIHtcbiAgICAgICAgICAgIGIucHVzaChjKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmIChjIDw9IDIwNDcpIHtcbiAgICAgICAgICAgICAgICBiLnB1c2goMTkyIHwgKGMgPj4gNiksIDEyOCB8IChjICYgNjMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICgoYyAmIDY0NTEyKSA9PT0gNTUyOTYpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHN0YXJ0IG9mIGEgc3Vycm9nYXRlIHBhaXIuXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbGlkID0gaSA8IHZhbHVlLmxlbmd0aCAtIDEgJiYgKHZhbHVlLmNoYXJDb2RlQXQoaSArIDEpICYgNjQ1MTIpID09PSA1NjMyMDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWxpZCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gVGhlIHNlY29uZCBzdXJyb2dhdGUgd2Fzbid0IHRoZXJlLlxuICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDIzOSwgMTkxLCAxODkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgaGkgPSBjO1xuICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgbG8gPSB2YWx1ZS5jaGFyQ29kZUF0KCsraSk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjID0gNjU1MzYgfCAoKGhpICYgMTAyMykgPDwgMTApIHwgKGxvICYgMTAyMyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBiLnB1c2goMjQwIHwgKGMgPj4gMTgpLCAxMjggfCAoKGMgPj4gMTIpICYgNjMpLCAxMjggfCAoKGMgPj4gNikgJiA2MyksIDEyOCB8IChjICYgNjMpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChjICYgNjQ1MTIpID09PSA1NjMyMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSW52YWxpZCBsb3cgc3Vycm9nYXRlLlxuICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDIzOSwgMTkxLCAxODkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYi5wdXNoKDIyNCB8IChjID4+IDEyKSwgMTI4IHwgKChjID4+IDYpICYgNjMpLCAxMjggfCAoYyAmIDYzKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5ldyBVaW50OEFycmF5KGIpO1xufVxuZnVuY3Rpb24gcGVyY2VudEVuY29kZWRCeXRlc18odmFsdWUpIHtcbiAgICBsZXQgZGVjb2RlZDtcbiAgICB0cnkge1xuICAgICAgICBkZWNvZGVkID0gZGVjb2RlVVJJQ29tcG9uZW50KHZhbHVlKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgdGhyb3cgaW52YWxpZEZvcm1hdChTdHJpbmdGb3JtYXQuREFUQV9VUkwsICdNYWxmb3JtZWQgZGF0YSBVUkwuJyk7XG4gICAgfVxuICAgIHJldHVybiB1dGY4Qnl0ZXNfKGRlY29kZWQpO1xufVxuZnVuY3Rpb24gYmFzZTY0Qnl0ZXNfKGZvcm1hdCwgdmFsdWUpIHtcbiAgICBzd2l0Y2ggKGZvcm1hdCkge1xuICAgICAgICBjYXNlIFN0cmluZ0Zvcm1hdC5CQVNFNjQ6IHtcbiAgICAgICAgICAgIGNvbnN0IGhhc01pbnVzID0gdmFsdWUuaW5kZXhPZignLScpICE9PSAtMTtcbiAgICAgICAgICAgIGNvbnN0IGhhc1VuZGVyID0gdmFsdWUuaW5kZXhPZignXycpICE9PSAtMTtcbiAgICAgICAgICAgIGlmIChoYXNNaW51cyB8fCBoYXNVbmRlcikge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludmFsaWRDaGFyID0gaGFzTWludXMgPyAnLScgOiAnXyc7XG4gICAgICAgICAgICAgICAgdGhyb3cgaW52YWxpZEZvcm1hdChmb3JtYXQsIFwiSW52YWxpZCBjaGFyYWN0ZXIgJ1wiICtcbiAgICAgICAgICAgICAgICAgICAgaW52YWxpZENoYXIgK1xuICAgICAgICAgICAgICAgICAgICBcIicgZm91bmQ6IGlzIGl0IGJhc2U2NHVybCBlbmNvZGVkP1wiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGNhc2UgU3RyaW5nRm9ybWF0LkJBU0U2NFVSTDoge1xuICAgICAgICAgICAgY29uc3QgaGFzUGx1cyA9IHZhbHVlLmluZGV4T2YoJysnKSAhPT0gLTE7XG4gICAgICAgICAgICBjb25zdCBoYXNTbGFzaCA9IHZhbHVlLmluZGV4T2YoJy8nKSAhPT0gLTE7XG4gICAgICAgICAgICBpZiAoaGFzUGx1cyB8fCBoYXNTbGFzaCkge1xuICAgICAgICAgICAgICAgIGNvbnN0IGludmFsaWRDaGFyID0gaGFzUGx1cyA/ICcrJyA6ICcvJztcbiAgICAgICAgICAgICAgICB0aHJvdyBpbnZhbGlkRm9ybWF0KGZvcm1hdCwgXCJJbnZhbGlkIGNoYXJhY3RlciAnXCIgKyBpbnZhbGlkQ2hhciArIFwiJyBmb3VuZDogaXMgaXQgYmFzZTY0IGVuY29kZWQ/XCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZS5yZXBsYWNlKC8tL2csICcrJykucmVwbGFjZSgvXy9nLCAnLycpO1xuICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgLy8gZG8gbm90aGluZ1xuICAgIH1cbiAgICBsZXQgYnl0ZXM7XG4gICAgdHJ5IHtcbiAgICAgICAgYnl0ZXMgPSBkZWNvZGVCYXNlNjQodmFsdWUpO1xuICAgIH1cbiAgICBjYXRjaCAoZSkge1xuICAgICAgICBpZiAoZS5tZXNzYWdlLmluY2x1ZGVzKCdwb2x5ZmlsbCcpKSB7XG4gICAgICAgICAgICB0aHJvdyBlO1xuICAgICAgICB9XG4gICAgICAgIHRocm93IGludmFsaWRGb3JtYXQoZm9ybWF0LCAnSW52YWxpZCBjaGFyYWN0ZXIgZm91bmQnKTtcbiAgICB9XG4gICAgY29uc3QgYXJyYXkgPSBuZXcgVWludDhBcnJheShieXRlcy5sZW5ndGgpO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYnl0ZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgYXJyYXlbaV0gPSBieXRlcy5jaGFyQ29kZUF0KGkpO1xuICAgIH1cbiAgICByZXR1cm4gYXJyYXk7XG59XG5jbGFzcyBEYXRhVVJMUGFydHMge1xuICAgIGNvbnN0cnVjdG9yKGRhdGFVUkwpIHtcbiAgICAgICAgdGhpcy5iYXNlNjQgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5jb250ZW50VHlwZSA9IG51bGw7XG4gICAgICAgIGNvbnN0IG1hdGNoZXMgPSBkYXRhVVJMLm1hdGNoKC9eZGF0YTooW14sXSspPywvKTtcbiAgICAgICAgaWYgKG1hdGNoZXMgPT09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IGludmFsaWRGb3JtYXQoU3RyaW5nRm9ybWF0LkRBVEFfVVJMLCBcIk11c3QgYmUgZm9ybWF0dGVkICdkYXRhOls8bWVkaWF0eXBlPl1bO2Jhc2U2NF0sPGRhdGE+XCIpO1xuICAgICAgICB9XG4gICAgICAgIGNvbnN0IG1pZGRsZSA9IG1hdGNoZXNbMV0gfHwgbnVsbDtcbiAgICAgICAgaWYgKG1pZGRsZSAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLmJhc2U2NCA9IGVuZHNXaXRoKG1pZGRsZSwgJztiYXNlNjQnKTtcbiAgICAgICAgICAgIHRoaXMuY29udGVudFR5cGUgPSB0aGlzLmJhc2U2NFxuICAgICAgICAgICAgICAgID8gbWlkZGxlLnN1YnN0cmluZygwLCBtaWRkbGUubGVuZ3RoIC0gJztiYXNlNjQnLmxlbmd0aClcbiAgICAgICAgICAgICAgICA6IG1pZGRsZTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnJlc3QgPSBkYXRhVVJMLnN1YnN0cmluZyhkYXRhVVJMLmluZGV4T2YoJywnKSArIDEpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGRhdGFVUkxCeXRlc18oZGF0YVVybCkge1xuICAgIGNvbnN0IHBhcnRzID0gbmV3IERhdGFVUkxQYXJ0cyhkYXRhVXJsKTtcbiAgICBpZiAocGFydHMuYmFzZTY0KSB7XG4gICAgICAgIHJldHVybiBiYXNlNjRCeXRlc18oU3RyaW5nRm9ybWF0LkJBU0U2NCwgcGFydHMucmVzdCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcGVyY2VudEVuY29kZWRCeXRlc18ocGFydHMucmVzdCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZGF0YVVSTENvbnRlbnRUeXBlXyhkYXRhVXJsKSB7XG4gICAgY29uc3QgcGFydHMgPSBuZXcgRGF0YVVSTFBhcnRzKGRhdGFVcmwpO1xuICAgIHJldHVybiBwYXJ0cy5jb250ZW50VHlwZTtcbn1cbmZ1bmN0aW9uIGVuZHNXaXRoKHMsIGVuZCkge1xuICAgIGNvbnN0IGxvbmdFbm91Z2ggPSBzLmxlbmd0aCA+PSBlbmQubGVuZ3RoO1xuICAgIGlmICghbG9uZ0Vub3VnaCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiBzLnN1YnN0cmluZyhzLmxlbmd0aCAtIGVuZC5sZW5ndGgpID09PSBlbmQ7XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBwYXJhbSBvcHRfZWxpZGVDb3B5IC0gSWYgdHJ1ZSwgZG9lc24ndCBjb3B5IG11dGFibGUgaW5wdXQgZGF0YVxuICogICAgIChlLmcuIFVpbnQ4QXJyYXlzKS4gUGFzcyB0cnVlIG9ubHkgaWYgeW91IGtub3cgdGhlIG9iamVjdHMgd2lsbCBub3QgYmVcbiAqICAgICBtb2RpZmllZCBhZnRlciB0aGlzIGJsb2IncyBjb25zdHJ1Y3Rpb24uXG4gKlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIEZic0Jsb2Ige1xuICAgIGNvbnN0cnVjdG9yKGRhdGEsIGVsaWRlQ29weSkge1xuICAgICAgICBsZXQgc2l6ZSA9IDA7XG4gICAgICAgIGxldCBibG9iVHlwZSA9ICcnO1xuICAgICAgICBpZiAoaXNOYXRpdmVCbG9iKGRhdGEpKSB7XG4gICAgICAgICAgICB0aGlzLmRhdGFfID0gZGF0YTtcbiAgICAgICAgICAgIHNpemUgPSBkYXRhLnNpemU7XG4gICAgICAgICAgICBibG9iVHlwZSA9IGRhdGEudHlwZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmIChkYXRhIGluc3RhbmNlb2YgQXJyYXlCdWZmZXIpIHtcbiAgICAgICAgICAgIGlmIChlbGlkZUNvcHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFfID0gbmV3IFVpbnQ4QXJyYXkoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFfID0gbmV3IFVpbnQ4QXJyYXkoZGF0YS5ieXRlTGVuZ3RoKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFfLnNldChuZXcgVWludDhBcnJheShkYXRhKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaXplID0gdGhpcy5kYXRhXy5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSBpZiAoZGF0YSBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkpIHtcbiAgICAgICAgICAgIGlmIChlbGlkZUNvcHkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmRhdGFfID0gZGF0YTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIHRoaXMuZGF0YV8gPSBuZXcgVWludDhBcnJheShkYXRhLmxlbmd0aCk7XG4gICAgICAgICAgICAgICAgdGhpcy5kYXRhXy5zZXQoZGF0YSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzaXplID0gZGF0YS5sZW5ndGg7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zaXplXyA9IHNpemU7XG4gICAgICAgIHRoaXMudHlwZV8gPSBibG9iVHlwZTtcbiAgICB9XG4gICAgc2l6ZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2l6ZV87XG4gICAgfVxuICAgIHR5cGUoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLnR5cGVfO1xuICAgIH1cbiAgICBzbGljZShzdGFydEJ5dGUsIGVuZEJ5dGUpIHtcbiAgICAgICAgaWYgKGlzTmF0aXZlQmxvYih0aGlzLmRhdGFfKSkge1xuICAgICAgICAgICAgY29uc3QgcmVhbEJsb2IgPSB0aGlzLmRhdGFfO1xuICAgICAgICAgICAgY29uc3Qgc2xpY2VkID0gc2xpY2VCbG9iKHJlYWxCbG9iLCBzdGFydEJ5dGUsIGVuZEJ5dGUpO1xuICAgICAgICAgICAgaWYgKHNsaWNlZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG5ldyBGYnNCbG9iKHNsaWNlZCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBzbGljZSA9IG5ldyBVaW50OEFycmF5KHRoaXMuZGF0YV8uYnVmZmVyLCBzdGFydEJ5dGUsIGVuZEJ5dGUgLSBzdGFydEJ5dGUpO1xuICAgICAgICAgICAgcmV0dXJuIG5ldyBGYnNCbG9iKHNsaWNlLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBzdGF0aWMgZ2V0QmxvYiguLi5hcmdzKSB7XG4gICAgICAgIGlmIChpc05hdGl2ZUJsb2JEZWZpbmVkKCkpIHtcbiAgICAgICAgICAgIGNvbnN0IGJsb2JieSA9IGFyZ3MubWFwKCh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAodmFsIGluc3RhbmNlb2YgRmJzQmxvYikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdmFsLmRhdGFfO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmJzQmxvYihnZXRCbG9iJDEuYXBwbHkobnVsbCwgYmxvYmJ5KSk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCB1aW50OEFycmF5cyA9IGFyZ3MubWFwKCh2YWwpID0+IHtcbiAgICAgICAgICAgICAgICBpZiAoaXNTdHJpbmcodmFsKSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZGF0YUZyb21TdHJpbmcoU3RyaW5nRm9ybWF0LlJBVywgdmFsKS5kYXRhO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gQmxvYnMgZG9uJ3QgZXhpc3QsIHNvIHRoaXMgaGFzIHRvIGJlIGEgVWludDhBcnJheS5cbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbC5kYXRhXztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGxldCBmaW5hbExlbmd0aCA9IDA7XG4gICAgICAgICAgICB1aW50OEFycmF5cy5mb3JFYWNoKChhcnJheSkgPT4ge1xuICAgICAgICAgICAgICAgIGZpbmFsTGVuZ3RoICs9IGFycmF5LmJ5dGVMZW5ndGg7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGNvbnN0IG1lcmdlZCA9IG5ldyBVaW50OEFycmF5KGZpbmFsTGVuZ3RoKTtcbiAgICAgICAgICAgIGxldCBpbmRleCA9IDA7XG4gICAgICAgICAgICB1aW50OEFycmF5cy5mb3JFYWNoKChhcnJheSkgPT4ge1xuICAgICAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgbWVyZ2VkW2luZGV4KytdID0gYXJyYXlbaV07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXR1cm4gbmV3IEZic0Jsb2IobWVyZ2VkLCB0cnVlKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB1cGxvYWREYXRhKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5kYXRhXztcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFJldHVybnMgdGhlIE9iamVjdCByZXN1bHRpbmcgZnJvbSBwYXJzaW5nIHRoZSBnaXZlbiBKU09OLCBvciBudWxsIGlmIHRoZVxuICogZ2l2ZW4gc3RyaW5nIGRvZXMgbm90IHJlcHJlc2VudCBhIEpTT04gb2JqZWN0LlxuICovXG5mdW5jdGlvbiBqc29uT2JqZWN0T3JOdWxsKHMpIHtcbiAgICBsZXQgb2JqO1xuICAgIHRyeSB7XG4gICAgICAgIG9iaiA9IEpTT04ucGFyc2Uocyk7XG4gICAgfVxuICAgIGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBpZiAoaXNOb25BcnJheU9iamVjdChvYmopKSB7XG4gICAgICAgIHJldHVybiBvYmo7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIEBmaWxlb3ZlcnZpZXcgQ29udGFpbnMgaGVscGVyIG1ldGhvZHMgZm9yIG1hbmlwdWxhdGluZyBwYXRocy5cbiAqL1xuLyoqXG4gKiBAcmV0dXJuIE51bGwgaWYgdGhlIHBhdGggaXMgYWxyZWFkeSBhdCB0aGUgcm9vdC5cbiAqL1xuZnVuY3Rpb24gcGFyZW50KHBhdGgpIHtcbiAgICBpZiAocGF0aC5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGluZGV4ID0gcGF0aC5sYXN0SW5kZXhPZignLycpO1xuICAgIGlmIChpbmRleCA9PT0gLTEpIHtcbiAgICAgICAgcmV0dXJuICcnO1xuICAgIH1cbiAgICBjb25zdCBuZXdQYXRoID0gcGF0aC5zbGljZSgwLCBpbmRleCk7XG4gICAgcmV0dXJuIG5ld1BhdGg7XG59XG5mdW5jdGlvbiBjaGlsZChwYXRoLCBjaGlsZFBhdGgpIHtcbiAgICBjb25zdCBjYW5vbmljYWxDaGlsZFBhdGggPSBjaGlsZFBhdGhcbiAgICAgICAgLnNwbGl0KCcvJylcbiAgICAgICAgLmZpbHRlcihjb21wb25lbnQgPT4gY29tcG9uZW50Lmxlbmd0aCA+IDApXG4gICAgICAgIC5qb2luKCcvJyk7XG4gICAgaWYgKHBhdGgubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBjYW5vbmljYWxDaGlsZFBhdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcGF0aCArICcvJyArIGNhbm9uaWNhbENoaWxkUGF0aDtcbiAgICB9XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGxhc3QgY29tcG9uZW50IG9mIGEgcGF0aC5cbiAqICcvZm9vL2JhcicgLT4gJ2JhcidcbiAqICcvZm9vL2Jhci9iYXovJyAtPiAnYmF6LydcbiAqICcvYScgLT4gJ2EnXG4gKi9cbmZ1bmN0aW9uIGxhc3RDb21wb25lbnQocGF0aCkge1xuICAgIGNvbnN0IGluZGV4ID0gcGF0aC5sYXN0SW5kZXhPZignLycsIHBhdGgubGVuZ3RoIC0gMik7XG4gICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICByZXR1cm4gcGF0aDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHJldHVybiBwYXRoLnNsaWNlKGluZGV4ICsgMSk7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuZnVuY3Rpb24gbm9YZm9ybV8obWV0YWRhdGEsIHZhbHVlKSB7XG4gICAgcmV0dXJuIHZhbHVlO1xufVxuY2xhc3MgTWFwcGluZyB7XG4gICAgY29uc3RydWN0b3Ioc2VydmVyLCBsb2NhbCwgd3JpdGFibGUsIHhmb3JtKSB7XG4gICAgICAgIHRoaXMuc2VydmVyID0gc2VydmVyO1xuICAgICAgICB0aGlzLmxvY2FsID0gbG9jYWwgfHwgc2VydmVyO1xuICAgICAgICB0aGlzLndyaXRhYmxlID0gISF3cml0YWJsZTtcbiAgICAgICAgdGhpcy54Zm9ybSA9IHhmb3JtIHx8IG5vWGZvcm1fO1xuICAgIH1cbn1cbmxldCBtYXBwaW5nc18gPSBudWxsO1xuZnVuY3Rpb24geGZvcm1QYXRoKGZ1bGxQYXRoKSB7XG4gICAgaWYgKCFpc1N0cmluZyhmdWxsUGF0aCkgfHwgZnVsbFBhdGgubGVuZ3RoIDwgMikge1xuICAgICAgICByZXR1cm4gZnVsbFBhdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gbGFzdENvbXBvbmVudChmdWxsUGF0aCk7XG4gICAgfVxufVxuZnVuY3Rpb24gZ2V0TWFwcGluZ3MoKSB7XG4gICAgaWYgKG1hcHBpbmdzXykge1xuICAgICAgICByZXR1cm4gbWFwcGluZ3NfO1xuICAgIH1cbiAgICBjb25zdCBtYXBwaW5ncyA9IFtdO1xuICAgIG1hcHBpbmdzLnB1c2gobmV3IE1hcHBpbmcoJ2J1Y2tldCcpKTtcbiAgICBtYXBwaW5ncy5wdXNoKG5ldyBNYXBwaW5nKCdnZW5lcmF0aW9uJykpO1xuICAgIG1hcHBpbmdzLnB1c2gobmV3IE1hcHBpbmcoJ21ldGFnZW5lcmF0aW9uJykpO1xuICAgIG1hcHBpbmdzLnB1c2gobmV3IE1hcHBpbmcoJ25hbWUnLCAnZnVsbFBhdGgnLCB0cnVlKSk7XG4gICAgZnVuY3Rpb24gbWFwcGluZ3NYZm9ybVBhdGgoX21ldGFkYXRhLCBmdWxsUGF0aCkge1xuICAgICAgICByZXR1cm4geGZvcm1QYXRoKGZ1bGxQYXRoKTtcbiAgICB9XG4gICAgY29uc3QgbmFtZU1hcHBpbmcgPSBuZXcgTWFwcGluZygnbmFtZScpO1xuICAgIG5hbWVNYXBwaW5nLnhmb3JtID0gbWFwcGluZ3NYZm9ybVBhdGg7XG4gICAgbWFwcGluZ3MucHVzaChuYW1lTWFwcGluZyk7XG4gICAgLyoqXG4gICAgICogQ29lcmNlcyB0aGUgc2Vjb25kIHBhcmFtIHRvIGEgbnVtYmVyLCBpZiBpdCBpcyBkZWZpbmVkLlxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHhmb3JtU2l6ZShfbWV0YWRhdGEsIHNpemUpIHtcbiAgICAgICAgaWYgKHNpemUgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgcmV0dXJuIE51bWJlcihzaXplKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBzaXplO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbnN0IHNpemVNYXBwaW5nID0gbmV3IE1hcHBpbmcoJ3NpemUnKTtcbiAgICBzaXplTWFwcGluZy54Zm9ybSA9IHhmb3JtU2l6ZTtcbiAgICBtYXBwaW5ncy5wdXNoKHNpemVNYXBwaW5nKTtcbiAgICBtYXBwaW5ncy5wdXNoKG5ldyBNYXBwaW5nKCd0aW1lQ3JlYXRlZCcpKTtcbiAgICBtYXBwaW5ncy5wdXNoKG5ldyBNYXBwaW5nKCd1cGRhdGVkJykpO1xuICAgIG1hcHBpbmdzLnB1c2gobmV3IE1hcHBpbmcoJ21kNUhhc2gnLCBudWxsLCB0cnVlKSk7XG4gICAgbWFwcGluZ3MucHVzaChuZXcgTWFwcGluZygnY2FjaGVDb250cm9sJywgbnVsbCwgdHJ1ZSkpO1xuICAgIG1hcHBpbmdzLnB1c2gobmV3IE1hcHBpbmcoJ2NvbnRlbnREaXNwb3NpdGlvbicsIG51bGwsIHRydWUpKTtcbiAgICBtYXBwaW5ncy5wdXNoKG5ldyBNYXBwaW5nKCdjb250ZW50RW5jb2RpbmcnLCBudWxsLCB0cnVlKSk7XG4gICAgbWFwcGluZ3MucHVzaChuZXcgTWFwcGluZygnY29udGVudExhbmd1YWdlJywgbnVsbCwgdHJ1ZSkpO1xuICAgIG1hcHBpbmdzLnB1c2gobmV3IE1hcHBpbmcoJ2NvbnRlbnRUeXBlJywgbnVsbCwgdHJ1ZSkpO1xuICAgIG1hcHBpbmdzLnB1c2gobmV3IE1hcHBpbmcoJ21ldGFkYXRhJywgJ2N1c3RvbU1ldGFkYXRhJywgdHJ1ZSkpO1xuICAgIG1hcHBpbmdzXyA9IG1hcHBpbmdzO1xuICAgIHJldHVybiBtYXBwaW5nc187XG59XG5mdW5jdGlvbiBhZGRSZWYobWV0YWRhdGEsIHNlcnZpY2UpIHtcbiAgICBmdW5jdGlvbiBnZW5lcmF0ZVJlZigpIHtcbiAgICAgICAgY29uc3QgYnVja2V0ID0gbWV0YWRhdGFbJ2J1Y2tldCddO1xuICAgICAgICBjb25zdCBwYXRoID0gbWV0YWRhdGFbJ2Z1bGxQYXRoJ107XG4gICAgICAgIGNvbnN0IGxvYyA9IG5ldyBMb2NhdGlvbihidWNrZXQsIHBhdGgpO1xuICAgICAgICByZXR1cm4gc2VydmljZS5fbWFrZVN0b3JhZ2VSZWZlcmVuY2UobG9jKTtcbiAgICB9XG4gICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KG1ldGFkYXRhLCAncmVmJywgeyBnZXQ6IGdlbmVyYXRlUmVmIH0pO1xufVxuZnVuY3Rpb24gZnJvbVJlc291cmNlKHNlcnZpY2UsIHJlc291cmNlLCBtYXBwaW5ncykge1xuICAgIGNvbnN0IG1ldGFkYXRhID0ge307XG4gICAgbWV0YWRhdGFbJ3R5cGUnXSA9ICdmaWxlJztcbiAgICBjb25zdCBsZW4gPSBtYXBwaW5ncy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBtYXBwaW5nID0gbWFwcGluZ3NbaV07XG4gICAgICAgIG1ldGFkYXRhW21hcHBpbmcubG9jYWxdID0gbWFwcGluZy54Zm9ybShtZXRhZGF0YSwgcmVzb3VyY2VbbWFwcGluZy5zZXJ2ZXJdKTtcbiAgICB9XG4gICAgYWRkUmVmKG1ldGFkYXRhLCBzZXJ2aWNlKTtcbiAgICByZXR1cm4gbWV0YWRhdGE7XG59XG5mdW5jdGlvbiBmcm9tUmVzb3VyY2VTdHJpbmcoc2VydmljZSwgcmVzb3VyY2VTdHJpbmcsIG1hcHBpbmdzKSB7XG4gICAgY29uc3Qgb2JqID0ganNvbk9iamVjdE9yTnVsbChyZXNvdXJjZVN0cmluZyk7XG4gICAgaWYgKG9iaiA9PT0gbnVsbCkge1xuICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gICAgY29uc3QgcmVzb3VyY2UgPSBvYmo7XG4gICAgcmV0dXJuIGZyb21SZXNvdXJjZShzZXJ2aWNlLCByZXNvdXJjZSwgbWFwcGluZ3MpO1xufVxuZnVuY3Rpb24gZG93bmxvYWRVcmxGcm9tUmVzb3VyY2VTdHJpbmcobWV0YWRhdGEsIHJlc291cmNlU3RyaW5nLCBob3N0LCBwcm90b2NvbCkge1xuICAgIGNvbnN0IG9iaiA9IGpzb25PYmplY3RPck51bGwocmVzb3VyY2VTdHJpbmcpO1xuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGlmICghaXNTdHJpbmcob2JqWydkb3dubG9hZFRva2VucyddKSkge1xuICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgb2JqZWN0cyBhcmUgdXBsb2FkZWQgdGhyb3VnaCBHQ1MgYW5kIHJldHJpZXZlZFxuICAgICAgICAvLyB0aHJvdWdoIGxpc3QsIHNvIHdlIGRvbid0IHdhbnQgdG8gdGhyb3cgYW4gRXJyb3IuXG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBjb25zdCB0b2tlbnMgPSBvYmpbJ2Rvd25sb2FkVG9rZW5zJ107XG4gICAgaWYgKHRva2Vucy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IGVuY29kZSA9IGVuY29kZVVSSUNvbXBvbmVudDtcbiAgICBjb25zdCB0b2tlbnNMaXN0ID0gdG9rZW5zLnNwbGl0KCcsJyk7XG4gICAgY29uc3QgdXJscyA9IHRva2Vuc0xpc3QubWFwKCh0b2tlbikgPT4ge1xuICAgICAgICBjb25zdCBidWNrZXQgPSBtZXRhZGF0YVsnYnVja2V0J107XG4gICAgICAgIGNvbnN0IHBhdGggPSBtZXRhZGF0YVsnZnVsbFBhdGgnXTtcbiAgICAgICAgY29uc3QgdXJsUGFydCA9ICcvYi8nICsgZW5jb2RlKGJ1Y2tldCkgKyAnL28vJyArIGVuY29kZShwYXRoKTtcbiAgICAgICAgY29uc3QgYmFzZSA9IG1ha2VVcmwodXJsUGFydCwgaG9zdCwgcHJvdG9jb2wpO1xuICAgICAgICBjb25zdCBxdWVyeVN0cmluZyA9IG1ha2VRdWVyeVN0cmluZyh7XG4gICAgICAgICAgICBhbHQ6ICdtZWRpYScsXG4gICAgICAgICAgICB0b2tlblxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIGJhc2UgKyBxdWVyeVN0cmluZztcbiAgICB9KTtcbiAgICByZXR1cm4gdXJsc1swXTtcbn1cbmZ1bmN0aW9uIHRvUmVzb3VyY2VTdHJpbmcobWV0YWRhdGEsIG1hcHBpbmdzKSB7XG4gICAgY29uc3QgcmVzb3VyY2UgPSB7fTtcbiAgICBjb25zdCBsZW4gPSBtYXBwaW5ncy5sZW5ndGg7XG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsZW47IGkrKykge1xuICAgICAgICBjb25zdCBtYXBwaW5nID0gbWFwcGluZ3NbaV07XG4gICAgICAgIGlmIChtYXBwaW5nLndyaXRhYmxlKSB7XG4gICAgICAgICAgICByZXNvdXJjZVttYXBwaW5nLnNlcnZlcl0gPSBtZXRhZGF0YVttYXBwaW5nLmxvY2FsXTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkocmVzb3VyY2UpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxOSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY29uc3QgUFJFRklYRVNfS0VZID0gJ3ByZWZpeGVzJztcbmNvbnN0IElURU1TX0tFWSA9ICdpdGVtcyc7XG5mdW5jdGlvbiBmcm9tQmFja2VuZFJlc3BvbnNlKHNlcnZpY2UsIGJ1Y2tldCwgcmVzb3VyY2UpIHtcbiAgICBjb25zdCBsaXN0UmVzdWx0ID0ge1xuICAgICAgICBwcmVmaXhlczogW10sXG4gICAgICAgIGl0ZW1zOiBbXSxcbiAgICAgICAgbmV4dFBhZ2VUb2tlbjogcmVzb3VyY2VbJ25leHRQYWdlVG9rZW4nXVxuICAgIH07XG4gICAgaWYgKHJlc291cmNlW1BSRUZJWEVTX0tFWV0pIHtcbiAgICAgICAgZm9yIChjb25zdCBwYXRoIG9mIHJlc291cmNlW1BSRUZJWEVTX0tFWV0pIHtcbiAgICAgICAgICAgIGNvbnN0IHBhdGhXaXRob3V0VHJhaWxpbmdTbGFzaCA9IHBhdGgucmVwbGFjZSgvXFwvJC8sICcnKTtcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHNlcnZpY2UuX21ha2VTdG9yYWdlUmVmZXJlbmNlKG5ldyBMb2NhdGlvbihidWNrZXQsIHBhdGhXaXRob3V0VHJhaWxpbmdTbGFzaCkpO1xuICAgICAgICAgICAgbGlzdFJlc3VsdC5wcmVmaXhlcy5wdXNoKHJlZmVyZW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKHJlc291cmNlW0lURU1TX0tFWV0pIHtcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIG9mIHJlc291cmNlW0lURU1TX0tFWV0pIHtcbiAgICAgICAgICAgIGNvbnN0IHJlZmVyZW5jZSA9IHNlcnZpY2UuX21ha2VTdG9yYWdlUmVmZXJlbmNlKG5ldyBMb2NhdGlvbihidWNrZXQsIGl0ZW1bJ25hbWUnXSkpO1xuICAgICAgICAgICAgbGlzdFJlc3VsdC5pdGVtcy5wdXNoKHJlZmVyZW5jZSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGxpc3RSZXN1bHQ7XG59XG5mdW5jdGlvbiBmcm9tUmVzcG9uc2VTdHJpbmcoc2VydmljZSwgYnVja2V0LCByZXNvdXJjZVN0cmluZykge1xuICAgIGNvbnN0IG9iaiA9IGpzb25PYmplY3RPck51bGwocmVzb3VyY2VTdHJpbmcpO1xuICAgIGlmIChvYmogPT09IG51bGwpIHtcbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICAgIGNvbnN0IHJlc291cmNlID0gb2JqO1xuICAgIHJldHVybiBmcm9tQmFja2VuZFJlc3BvbnNlKHNlcnZpY2UsIGJ1Y2tldCwgcmVzb3VyY2UpO1xufVxuXG4vKipcbiAqIENvbnRhaW5zIGEgZnVsbHkgc3BlY2lmaWVkIHJlcXVlc3QuXG4gKlxuICogQHBhcmFtIEkgLSB0aGUgdHlwZSBvZiB0aGUgYmFja2VuZCdzIG5ldHdvcmsgcmVzcG9uc2UuXG4gKiBAcGFyYW0gTyAtIHRoZSBvdXRwdXQgcmVzcG9uc2UgdHlwZSB1c2VkIGJ5IHRoZSByZXN0IG9mIHRoZSBTREsuXG4gKi9cbmNsYXNzIFJlcXVlc3RJbmZvIHtcbiAgICBjb25zdHJ1Y3Rvcih1cmwsIG1ldGhvZCwgXG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgdmFsdWUgd2l0aCB3aGljaCB0byByZXNvbHZlIHRoZSByZXF1ZXN0J3MgcHJvbWlzZS4gT25seSBjYWxsZWRcbiAgICAgKiBpZiB0aGUgcmVxdWVzdCBpcyBzdWNjZXNzZnVsLiBUaHJvdyBmcm9tIHRoaXMgZnVuY3Rpb24gdG8gcmVqZWN0IHRoZVxuICAgICAqIHJldHVybmVkIFJlcXVlc3QncyBwcm9taXNlIHdpdGggdGhlIHRocm93biBlcnJvci5cbiAgICAgKiBOb3RlOiBUaGUgWGhySW8gcGFzc2VkIHRvIHRoaXMgZnVuY3Rpb24gbWF5IGJlIHJldXNlZCBhZnRlciB0aGlzIGNhbGxiYWNrXG4gICAgICogcmV0dXJucy4gRG8gbm90IGtlZXAgYSByZWZlcmVuY2UgdG8gaXQgaW4gYW55IHdheS5cbiAgICAgKi9cbiAgICBoYW5kbGVyLCB0aW1lb3V0KSB7XG4gICAgICAgIHRoaXMudXJsID0gdXJsO1xuICAgICAgICB0aGlzLm1ldGhvZCA9IG1ldGhvZDtcbiAgICAgICAgdGhpcy5oYW5kbGVyID0gaGFuZGxlcjtcbiAgICAgICAgdGhpcy50aW1lb3V0ID0gdGltZW91dDtcbiAgICAgICAgdGhpcy51cmxQYXJhbXMgPSB7fTtcbiAgICAgICAgdGhpcy5oZWFkZXJzID0ge307XG4gICAgICAgIHRoaXMuYm9keSA9IG51bGw7XG4gICAgICAgIHRoaXMuZXJyb3JIYW5kbGVyID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIENhbGxlZCB3aXRoIHRoZSBjdXJyZW50IG51bWJlciBvZiBieXRlcyB1cGxvYWRlZCBhbmQgdG90YWwgc2l6ZSAoLTEgaWYgbm90XG4gICAgICAgICAqIGNvbXB1dGFibGUpIG9mIHRoZSByZXF1ZXN0IGJvZHkgKGkuZS4gdXNlZCB0byByZXBvcnQgdXBsb2FkIHByb2dyZXNzKS5cbiAgICAgICAgICovXG4gICAgICAgIHRoaXMucHJvZ3Jlc3NDYWxsYmFjayA9IG51bGw7XG4gICAgICAgIHRoaXMuc3VjY2Vzc0NvZGVzID0gWzIwMF07XG4gICAgICAgIHRoaXMuYWRkaXRpb25hbFJldHJ5Q29kZXMgPSBbXTtcbiAgICB9XG59XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDE3IEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIFRocm93cyB0aGUgVU5LTk9XTiBTdG9yYWdlRXJyb3IgaWYgY25kbiBpcyBmYWxzZS5cbiAqL1xuZnVuY3Rpb24gaGFuZGxlckNoZWNrKGNuZG4pIHtcbiAgICBpZiAoIWNuZG4pIHtcbiAgICAgICAgdGhyb3cgdW5rbm93bigpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG1ldGFkYXRhSGFuZGxlcihzZXJ2aWNlLCBtYXBwaW5ncykge1xuICAgIGZ1bmN0aW9uIGhhbmRsZXIoeGhyLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IG1ldGFkYXRhID0gZnJvbVJlc291cmNlU3RyaW5nKHNlcnZpY2UsIHRleHQsIG1hcHBpbmdzKTtcbiAgICAgICAgaGFuZGxlckNoZWNrKG1ldGFkYXRhICE9PSBudWxsKTtcbiAgICAgICAgcmV0dXJuIG1ldGFkYXRhO1xuICAgIH1cbiAgICByZXR1cm4gaGFuZGxlcjtcbn1cbmZ1bmN0aW9uIGxpc3RIYW5kbGVyKHNlcnZpY2UsIGJ1Y2tldCkge1xuICAgIGZ1bmN0aW9uIGhhbmRsZXIoeGhyLCB0ZXh0KSB7XG4gICAgICAgIGNvbnN0IGxpc3RSZXN1bHQgPSBmcm9tUmVzcG9uc2VTdHJpbmcoc2VydmljZSwgYnVja2V0LCB0ZXh0KTtcbiAgICAgICAgaGFuZGxlckNoZWNrKGxpc3RSZXN1bHQgIT09IG51bGwpO1xuICAgICAgICByZXR1cm4gbGlzdFJlc3VsdDtcbiAgICB9XG4gICAgcmV0dXJuIGhhbmRsZXI7XG59XG5mdW5jdGlvbiBkb3dubG9hZFVybEhhbmRsZXIoc2VydmljZSwgbWFwcGluZ3MpIHtcbiAgICBmdW5jdGlvbiBoYW5kbGVyKHhociwgdGV4dCkge1xuICAgICAgICBjb25zdCBtZXRhZGF0YSA9IGZyb21SZXNvdXJjZVN0cmluZyhzZXJ2aWNlLCB0ZXh0LCBtYXBwaW5ncyk7XG4gICAgICAgIGhhbmRsZXJDaGVjayhtZXRhZGF0YSAhPT0gbnVsbCk7XG4gICAgICAgIHJldHVybiBkb3dubG9hZFVybEZyb21SZXNvdXJjZVN0cmluZyhtZXRhZGF0YSwgdGV4dCwgc2VydmljZS5ob3N0LCBzZXJ2aWNlLl9wcm90b2NvbCk7XG4gICAgfVxuICAgIHJldHVybiBoYW5kbGVyO1xufVxuZnVuY3Rpb24gc2hhcmVkRXJyb3JIYW5kbGVyKGxvY2F0aW9uKSB7XG4gICAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKHhociwgZXJyKSB7XG4gICAgICAgIGxldCBuZXdFcnI7XG4gICAgICAgIGlmICh4aHIuZ2V0U3RhdHVzKCkgPT09IDQwMSkge1xuICAgICAgICAgICAgaWYgKFxuICAgICAgICAgICAgLy8gVGhpcyBleGFjdCBtZXNzYWdlIHN0cmluZyBpcyB0aGUgb25seSBjb25zaXN0ZW50IHBhcnQgb2YgdGhlXG4gICAgICAgICAgICAvLyBzZXJ2ZXIncyBlcnJvciByZXNwb25zZSB0aGF0IGlkZW50aWZpZXMgaXQgYXMgYW4gQXBwIENoZWNrIGVycm9yLlxuICAgICAgICAgICAgeGhyLmdldEVycm9yVGV4dCgpLmluY2x1ZGVzKCdGaXJlYmFzZSBBcHAgQ2hlY2sgdG9rZW4gaXMgaW52YWxpZCcpKSB7XG4gICAgICAgICAgICAgICAgbmV3RXJyID0gdW5hdXRob3JpemVkQXBwKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICBuZXdFcnIgPSB1bmF1dGhlbnRpY2F0ZWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGlmICh4aHIuZ2V0U3RhdHVzKCkgPT09IDQwMikge1xuICAgICAgICAgICAgICAgIG5ld0VyciA9IHF1b3RhRXhjZWVkZWQobG9jYXRpb24uYnVja2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh4aHIuZ2V0U3RhdHVzKCkgPT09IDQwMykge1xuICAgICAgICAgICAgICAgICAgICBuZXdFcnIgPSB1bmF1dGhvcml6ZWQobG9jYXRpb24ucGF0aCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBuZXdFcnIgPSBlcnI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIG5ld0Vyci5zdGF0dXMgPSB4aHIuZ2V0U3RhdHVzKCk7XG4gICAgICAgIG5ld0Vyci5zZXJ2ZXJSZXNwb25zZSA9IGVyci5zZXJ2ZXJSZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIG5ld0VycjtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ySGFuZGxlcjtcbn1cbmZ1bmN0aW9uIG9iamVjdEVycm9ySGFuZGxlcihsb2NhdGlvbikge1xuICAgIGNvbnN0IHNoYXJlZCA9IHNoYXJlZEVycm9ySGFuZGxlcihsb2NhdGlvbik7XG4gICAgZnVuY3Rpb24gZXJyb3JIYW5kbGVyKHhociwgZXJyKSB7XG4gICAgICAgIGxldCBuZXdFcnIgPSBzaGFyZWQoeGhyLCBlcnIpO1xuICAgICAgICBpZiAoeGhyLmdldFN0YXR1cygpID09PSA0MDQpIHtcbiAgICAgICAgICAgIG5ld0VyciA9IG9iamVjdE5vdEZvdW5kKGxvY2F0aW9uLnBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIG5ld0Vyci5zZXJ2ZXJSZXNwb25zZSA9IGVyci5zZXJ2ZXJSZXNwb25zZTtcbiAgICAgICAgcmV0dXJuIG5ld0VycjtcbiAgICB9XG4gICAgcmV0dXJuIGVycm9ySGFuZGxlcjtcbn1cbmZ1bmN0aW9uIGdldE1ldGFkYXRhJDIoc2VydmljZSwgbG9jYXRpb24sIG1hcHBpbmdzKSB7XG4gICAgY29uc3QgdXJsUGFydCA9IGxvY2F0aW9uLmZ1bGxTZXJ2ZXJVcmwoKTtcbiAgICBjb25zdCB1cmwgPSBtYWtlVXJsKHVybFBhcnQsIHNlcnZpY2UuaG9zdCwgc2VydmljZS5fcHJvdG9jb2wpO1xuICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXJ2aWNlLm1heE9wZXJhdGlvblJldHJ5VGltZTtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IG5ldyBSZXF1ZXN0SW5mbyh1cmwsIG1ldGhvZCwgbWV0YWRhdGFIYW5kbGVyKHNlcnZpY2UsIG1hcHBpbmdzKSwgdGltZW91dCk7XG4gICAgcmVxdWVzdEluZm8uZXJyb3JIYW5kbGVyID0gb2JqZWN0RXJyb3JIYW5kbGVyKGxvY2F0aW9uKTtcbiAgICByZXR1cm4gcmVxdWVzdEluZm87XG59XG5mdW5jdGlvbiBsaXN0JDIoc2VydmljZSwgbG9jYXRpb24sIGRlbGltaXRlciwgcGFnZVRva2VuLCBtYXhSZXN1bHRzKSB7XG4gICAgY29uc3QgdXJsUGFyYW1zID0ge307XG4gICAgaWYgKGxvY2F0aW9uLmlzUm9vdCkge1xuICAgICAgICB1cmxQYXJhbXNbJ3ByZWZpeCddID0gJyc7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICB1cmxQYXJhbXNbJ3ByZWZpeCddID0gbG9jYXRpb24ucGF0aCArICcvJztcbiAgICB9XG4gICAgaWYgKGRlbGltaXRlciAmJiBkZWxpbWl0ZXIubGVuZ3RoID4gMCkge1xuICAgICAgICB1cmxQYXJhbXNbJ2RlbGltaXRlciddID0gZGVsaW1pdGVyO1xuICAgIH1cbiAgICBpZiAocGFnZVRva2VuKSB7XG4gICAgICAgIHVybFBhcmFtc1sncGFnZVRva2VuJ10gPSBwYWdlVG9rZW47XG4gICAgfVxuICAgIGlmIChtYXhSZXN1bHRzKSB7XG4gICAgICAgIHVybFBhcmFtc1snbWF4UmVzdWx0cyddID0gbWF4UmVzdWx0cztcbiAgICB9XG4gICAgY29uc3QgdXJsUGFydCA9IGxvY2F0aW9uLmJ1Y2tldE9ubHlTZXJ2ZXJVcmwoKTtcbiAgICBjb25zdCB1cmwgPSBtYWtlVXJsKHVybFBhcnQsIHNlcnZpY2UuaG9zdCwgc2VydmljZS5fcHJvdG9jb2wpO1xuICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXJ2aWNlLm1heE9wZXJhdGlvblJldHJ5VGltZTtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IG5ldyBSZXF1ZXN0SW5mbyh1cmwsIG1ldGhvZCwgbGlzdEhhbmRsZXIoc2VydmljZSwgbG9jYXRpb24uYnVja2V0KSwgdGltZW91dCk7XG4gICAgcmVxdWVzdEluZm8udXJsUGFyYW1zID0gdXJsUGFyYW1zO1xuICAgIHJlcXVlc3RJbmZvLmVycm9ySGFuZGxlciA9IHNoYXJlZEVycm9ySGFuZGxlcihsb2NhdGlvbik7XG4gICAgcmV0dXJuIHJlcXVlc3RJbmZvO1xufVxuZnVuY3Rpb24gZ2V0Qnl0ZXMkMShzZXJ2aWNlLCBsb2NhdGlvbiwgbWF4RG93bmxvYWRTaXplQnl0ZXMpIHtcbiAgICBjb25zdCB1cmxQYXJ0ID0gbG9jYXRpb24uZnVsbFNlcnZlclVybCgpO1xuICAgIGNvbnN0IHVybCA9IG1ha2VVcmwodXJsUGFydCwgc2VydmljZS5ob3N0LCBzZXJ2aWNlLl9wcm90b2NvbCkgKyAnP2FsdD1tZWRpYSc7XG4gICAgY29uc3QgbWV0aG9kID0gJ0dFVCc7XG4gICAgY29uc3QgdGltZW91dCA9IHNlcnZpY2UubWF4T3BlcmF0aW9uUmV0cnlUaW1lO1xuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gbmV3IFJlcXVlc3RJbmZvKHVybCwgbWV0aG9kLCAoXywgZGF0YSkgPT4gZGF0YSwgdGltZW91dCk7XG4gICAgcmVxdWVzdEluZm8uZXJyb3JIYW5kbGVyID0gb2JqZWN0RXJyb3JIYW5kbGVyKGxvY2F0aW9uKTtcbiAgICBpZiAobWF4RG93bmxvYWRTaXplQnl0ZXMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICByZXF1ZXN0SW5mby5oZWFkZXJzWydSYW5nZSddID0gYGJ5dGVzPTAtJHttYXhEb3dubG9hZFNpemVCeXRlc31gO1xuICAgICAgICByZXF1ZXN0SW5mby5zdWNjZXNzQ29kZXMgPSBbMjAwIC8qIE9LICovLCAyMDYgLyogUGFydGlhbCBDb250ZW50ICovXTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcXVlc3RJbmZvO1xufVxuZnVuY3Rpb24gZ2V0RG93bmxvYWRVcmwoc2VydmljZSwgbG9jYXRpb24sIG1hcHBpbmdzKSB7XG4gICAgY29uc3QgdXJsUGFydCA9IGxvY2F0aW9uLmZ1bGxTZXJ2ZXJVcmwoKTtcbiAgICBjb25zdCB1cmwgPSBtYWtlVXJsKHVybFBhcnQsIHNlcnZpY2UuaG9zdCwgc2VydmljZS5fcHJvdG9jb2wpO1xuICAgIGNvbnN0IG1ldGhvZCA9ICdHRVQnO1xuICAgIGNvbnN0IHRpbWVvdXQgPSBzZXJ2aWNlLm1heE9wZXJhdGlvblJldHJ5VGltZTtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IG5ldyBSZXF1ZXN0SW5mbyh1cmwsIG1ldGhvZCwgZG93bmxvYWRVcmxIYW5kbGVyKHNlcnZpY2UsIG1hcHBpbmdzKSwgdGltZW91dCk7XG4gICAgcmVxdWVzdEluZm8uZXJyb3JIYW5kbGVyID0gb2JqZWN0RXJyb3JIYW5kbGVyKGxvY2F0aW9uKTtcbiAgICByZXR1cm4gcmVxdWVzdEluZm87XG59XG5mdW5jdGlvbiB1cGRhdGVNZXRhZGF0YSQyKHNlcnZpY2UsIGxvY2F0aW9uLCBtZXRhZGF0YSwgbWFwcGluZ3MpIHtcbiAgICBjb25zdCB1cmxQYXJ0ID0gbG9jYXRpb24uZnVsbFNlcnZlclVybCgpO1xuICAgIGNvbnN0IHVybCA9IG1ha2VVcmwodXJsUGFydCwgc2VydmljZS5ob3N0LCBzZXJ2aWNlLl9wcm90b2NvbCk7XG4gICAgY29uc3QgbWV0aG9kID0gJ1BBVENIJztcbiAgICBjb25zdCBib2R5ID0gdG9SZXNvdXJjZVN0cmluZyhtZXRhZGF0YSwgbWFwcGluZ3MpO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7ICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCcgfTtcbiAgICBjb25zdCB0aW1lb3V0ID0gc2VydmljZS5tYXhPcGVyYXRpb25SZXRyeVRpbWU7XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBuZXcgUmVxdWVzdEluZm8odXJsLCBtZXRob2QsIG1ldGFkYXRhSGFuZGxlcihzZXJ2aWNlLCBtYXBwaW5ncyksIHRpbWVvdXQpO1xuICAgIHJlcXVlc3RJbmZvLmhlYWRlcnMgPSBoZWFkZXJzO1xuICAgIHJlcXVlc3RJbmZvLmJvZHkgPSBib2R5O1xuICAgIHJlcXVlc3RJbmZvLmVycm9ySGFuZGxlciA9IG9iamVjdEVycm9ySGFuZGxlcihsb2NhdGlvbik7XG4gICAgcmV0dXJuIHJlcXVlc3RJbmZvO1xufVxuZnVuY3Rpb24gZGVsZXRlT2JqZWN0JDIoc2VydmljZSwgbG9jYXRpb24pIHtcbiAgICBjb25zdCB1cmxQYXJ0ID0gbG9jYXRpb24uZnVsbFNlcnZlclVybCgpO1xuICAgIGNvbnN0IHVybCA9IG1ha2VVcmwodXJsUGFydCwgc2VydmljZS5ob3N0LCBzZXJ2aWNlLl9wcm90b2NvbCk7XG4gICAgY29uc3QgbWV0aG9kID0gJ0RFTEVURSc7XG4gICAgY29uc3QgdGltZW91dCA9IHNlcnZpY2UubWF4T3BlcmF0aW9uUmV0cnlUaW1lO1xuICAgIGZ1bmN0aW9uIGhhbmRsZXIoX3hociwgX3RleHQpIHsgfVxuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gbmV3IFJlcXVlc3RJbmZvKHVybCwgbWV0aG9kLCBoYW5kbGVyLCB0aW1lb3V0KTtcbiAgICByZXF1ZXN0SW5mby5zdWNjZXNzQ29kZXMgPSBbMjAwLCAyMDRdO1xuICAgIHJlcXVlc3RJbmZvLmVycm9ySGFuZGxlciA9IG9iamVjdEVycm9ySGFuZGxlcihsb2NhdGlvbik7XG4gICAgcmV0dXJuIHJlcXVlc3RJbmZvO1xufVxuZnVuY3Rpb24gZGV0ZXJtaW5lQ29udGVudFR5cGVfKG1ldGFkYXRhLCBibG9iKSB7XG4gICAgcmV0dXJuICgobWV0YWRhdGEgJiYgbWV0YWRhdGFbJ2NvbnRlbnRUeXBlJ10pIHx8XG4gICAgICAgIChibG9iICYmIGJsb2IudHlwZSgpKSB8fFxuICAgICAgICAnYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtJyk7XG59XG5mdW5jdGlvbiBtZXRhZGF0YUZvclVwbG9hZF8obG9jYXRpb24sIGJsb2IsIG1ldGFkYXRhKSB7XG4gICAgY29uc3QgbWV0YWRhdGFDbG9uZSA9IE9iamVjdC5hc3NpZ24oe30sIG1ldGFkYXRhKTtcbiAgICBtZXRhZGF0YUNsb25lWydmdWxsUGF0aCddID0gbG9jYXRpb24ucGF0aDtcbiAgICBtZXRhZGF0YUNsb25lWydzaXplJ10gPSBibG9iLnNpemUoKTtcbiAgICBpZiAoIW1ldGFkYXRhQ2xvbmVbJ2NvbnRlbnRUeXBlJ10pIHtcbiAgICAgICAgbWV0YWRhdGFDbG9uZVsnY29udGVudFR5cGUnXSA9IGRldGVybWluZUNvbnRlbnRUeXBlXyhudWxsLCBibG9iKTtcbiAgICB9XG4gICAgcmV0dXJuIG1ldGFkYXRhQ2xvbmU7XG59XG4vKipcbiAqIFByZXBhcmUgUmVxdWVzdEluZm8gZm9yIHVwbG9hZHMgYXMgQ29udGVudC1UeXBlOiBtdWx0aXBhcnQuXG4gKi9cbmZ1bmN0aW9uIG11bHRpcGFydFVwbG9hZChzZXJ2aWNlLCBsb2NhdGlvbiwgbWFwcGluZ3MsIGJsb2IsIG1ldGFkYXRhKSB7XG4gICAgY29uc3QgdXJsUGFydCA9IGxvY2F0aW9uLmJ1Y2tldE9ubHlTZXJ2ZXJVcmwoKTtcbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAnWC1Hb29nLVVwbG9hZC1Qcm90b2NvbCc6ICdtdWx0aXBhcnQnXG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZW5Cb3VuZGFyeSgpIHtcbiAgICAgICAgbGV0IHN0ciA9ICcnO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDI7IGkrKykge1xuICAgICAgICAgICAgc3RyID0gc3RyICsgTWF0aC5yYW5kb20oKS50b1N0cmluZygpLnNsaWNlKDIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGNvbnN0IGJvdW5kYXJ5ID0gZ2VuQm91bmRhcnkoKTtcbiAgICBoZWFkZXJzWydDb250ZW50LVR5cGUnXSA9ICdtdWx0aXBhcnQvcmVsYXRlZDsgYm91bmRhcnk9JyArIGJvdW5kYXJ5O1xuICAgIGNvbnN0IG1ldGFkYXRhXyA9IG1ldGFkYXRhRm9yVXBsb2FkXyhsb2NhdGlvbiwgYmxvYiwgbWV0YWRhdGEpO1xuICAgIGNvbnN0IG1ldGFkYXRhU3RyaW5nID0gdG9SZXNvdXJjZVN0cmluZyhtZXRhZGF0YV8sIG1hcHBpbmdzKTtcbiAgICBjb25zdCBwcmVCbG9iUGFydCA9ICctLScgK1xuICAgICAgICBib3VuZGFyeSArXG4gICAgICAgICdcXHJcXG4nICtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOFxcclxcblxcclxcbicgK1xuICAgICAgICBtZXRhZGF0YVN0cmluZyArXG4gICAgICAgICdcXHJcXG4tLScgK1xuICAgICAgICBib3VuZGFyeSArXG4gICAgICAgICdcXHJcXG4nICtcbiAgICAgICAgJ0NvbnRlbnQtVHlwZTogJyArXG4gICAgICAgIG1ldGFkYXRhX1snY29udGVudFR5cGUnXSArXG4gICAgICAgICdcXHJcXG5cXHJcXG4nO1xuICAgIGNvbnN0IHBvc3RCbG9iUGFydCA9ICdcXHJcXG4tLScgKyBib3VuZGFyeSArICctLSc7XG4gICAgY29uc3QgYm9keSA9IEZic0Jsb2IuZ2V0QmxvYihwcmVCbG9iUGFydCwgYmxvYiwgcG9zdEJsb2JQYXJ0KTtcbiAgICBpZiAoYm9keSA9PT0gbnVsbCkge1xuICAgICAgICB0aHJvdyBjYW5ub3RTbGljZUJsb2IoKTtcbiAgICB9XG4gICAgY29uc3QgdXJsUGFyYW1zID0geyBuYW1lOiBtZXRhZGF0YV9bJ2Z1bGxQYXRoJ10gfTtcbiAgICBjb25zdCB1cmwgPSBtYWtlVXJsKHVybFBhcnQsIHNlcnZpY2UuaG9zdCwgc2VydmljZS5fcHJvdG9jb2wpO1xuICAgIGNvbnN0IG1ldGhvZCA9ICdQT1NUJztcbiAgICBjb25zdCB0aW1lb3V0ID0gc2VydmljZS5tYXhVcGxvYWRSZXRyeVRpbWU7XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBuZXcgUmVxdWVzdEluZm8odXJsLCBtZXRob2QsIG1ldGFkYXRhSGFuZGxlcihzZXJ2aWNlLCBtYXBwaW5ncyksIHRpbWVvdXQpO1xuICAgIHJlcXVlc3RJbmZvLnVybFBhcmFtcyA9IHVybFBhcmFtcztcbiAgICByZXF1ZXN0SW5mby5oZWFkZXJzID0gaGVhZGVycztcbiAgICByZXF1ZXN0SW5mby5ib2R5ID0gYm9keS51cGxvYWREYXRhKCk7XG4gICAgcmVxdWVzdEluZm8uZXJyb3JIYW5kbGVyID0gc2hhcmVkRXJyb3JIYW5kbGVyKGxvY2F0aW9uKTtcbiAgICByZXR1cm4gcmVxdWVzdEluZm87XG59XG4vKipcbiAqIEBwYXJhbSBjdXJyZW50IFRoZSBudW1iZXIgb2YgYnl0ZXMgdGhhdCBoYXZlIGJlZW4gdXBsb2FkZWQgc28gZmFyLlxuICogQHBhcmFtIHRvdGFsIFRoZSB0b3RhbCBudW1iZXIgb2YgYnl0ZXMgaW4gdGhlIHVwbG9hZC5cbiAqIEBwYXJhbSBvcHRfZmluYWxpemVkIFRydWUgaWYgdGhlIHNlcnZlciBoYXMgZmluaXNoZWQgdGhlIHVwbG9hZC5cbiAqIEBwYXJhbSBvcHRfbWV0YWRhdGEgVGhlIHVwbG9hZCBtZXRhZGF0YSwgc2hvdWxkXG4gKiAgICAgb25seSBiZSBwYXNzZWQgaWYgb3B0X2ZpbmFsaXplZCBpcyB0cnVlLlxuICovXG5jbGFzcyBSZXN1bWFibGVVcGxvYWRTdGF0dXMge1xuICAgIGNvbnN0cnVjdG9yKGN1cnJlbnQsIHRvdGFsLCBmaW5hbGl6ZWQsIG1ldGFkYXRhKSB7XG4gICAgICAgIHRoaXMuY3VycmVudCA9IGN1cnJlbnQ7XG4gICAgICAgIHRoaXMudG90YWwgPSB0b3RhbDtcbiAgICAgICAgdGhpcy5maW5hbGl6ZWQgPSAhIWZpbmFsaXplZDtcbiAgICAgICAgdGhpcy5tZXRhZGF0YSA9IG1ldGFkYXRhIHx8IG51bGw7XG4gICAgfVxufVxuZnVuY3Rpb24gY2hlY2tSZXN1bWVIZWFkZXJfKHhociwgYWxsb3dlZCkge1xuICAgIGxldCBzdGF0dXMgPSBudWxsO1xuICAgIHRyeSB7XG4gICAgICAgIHN0YXR1cyA9IHhoci5nZXRSZXNwb25zZUhlYWRlcignWC1Hb29nLVVwbG9hZC1TdGF0dXMnKTtcbiAgICB9XG4gICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgaGFuZGxlckNoZWNrKGZhbHNlKTtcbiAgICB9XG4gICAgY29uc3QgYWxsb3dlZFN0YXR1cyA9IGFsbG93ZWQgfHwgWydhY3RpdmUnXTtcbiAgICBoYW5kbGVyQ2hlY2soISFzdGF0dXMgJiYgYWxsb3dlZFN0YXR1cy5pbmRleE9mKHN0YXR1cykgIT09IC0xKTtcbiAgICByZXR1cm4gc3RhdHVzO1xufVxuZnVuY3Rpb24gY3JlYXRlUmVzdW1hYmxlVXBsb2FkKHNlcnZpY2UsIGxvY2F0aW9uLCBtYXBwaW5ncywgYmxvYiwgbWV0YWRhdGEpIHtcbiAgICBjb25zdCB1cmxQYXJ0ID0gbG9jYXRpb24uYnVja2V0T25seVNlcnZlclVybCgpO1xuICAgIGNvbnN0IG1ldGFkYXRhRm9yVXBsb2FkID0gbWV0YWRhdGFGb3JVcGxvYWRfKGxvY2F0aW9uLCBibG9iLCBtZXRhZGF0YSk7XG4gICAgY29uc3QgdXJsUGFyYW1zID0geyBuYW1lOiBtZXRhZGF0YUZvclVwbG9hZFsnZnVsbFBhdGgnXSB9O1xuICAgIGNvbnN0IHVybCA9IG1ha2VVcmwodXJsUGFydCwgc2VydmljZS5ob3N0LCBzZXJ2aWNlLl9wcm90b2NvbCk7XG4gICAgY29uc3QgbWV0aG9kID0gJ1BPU1QnO1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7XG4gICAgICAgICdYLUdvb2ctVXBsb2FkLVByb3RvY29sJzogJ3Jlc3VtYWJsZScsXG4gICAgICAgICdYLUdvb2ctVXBsb2FkLUNvbW1hbmQnOiAnc3RhcnQnLFxuICAgICAgICAnWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1MZW5ndGgnOiBgJHtibG9iLnNpemUoKX1gLFxuICAgICAgICAnWC1Hb29nLVVwbG9hZC1IZWFkZXItQ29udGVudC1UeXBlJzogbWV0YWRhdGFGb3JVcGxvYWRbJ2NvbnRlbnRUeXBlJ10sXG4gICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbjsgY2hhcnNldD11dGYtOCdcbiAgICB9O1xuICAgIGNvbnN0IGJvZHkgPSB0b1Jlc291cmNlU3RyaW5nKG1ldGFkYXRhRm9yVXBsb2FkLCBtYXBwaW5ncyk7XG4gICAgY29uc3QgdGltZW91dCA9IHNlcnZpY2UubWF4VXBsb2FkUmV0cnlUaW1lO1xuICAgIGZ1bmN0aW9uIGhhbmRsZXIoeGhyKSB7XG4gICAgICAgIGNoZWNrUmVzdW1lSGVhZGVyXyh4aHIpO1xuICAgICAgICBsZXQgdXJsO1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgdXJsID0geGhyLmdldFJlc3BvbnNlSGVhZGVyKCdYLUdvb2ctVXBsb2FkLVVSTCcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBoYW5kbGVyQ2hlY2soZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGhhbmRsZXJDaGVjayhpc1N0cmluZyh1cmwpKTtcbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBuZXcgUmVxdWVzdEluZm8odXJsLCBtZXRob2QsIGhhbmRsZXIsIHRpbWVvdXQpO1xuICAgIHJlcXVlc3RJbmZvLnVybFBhcmFtcyA9IHVybFBhcmFtcztcbiAgICByZXF1ZXN0SW5mby5oZWFkZXJzID0gaGVhZGVycztcbiAgICByZXF1ZXN0SW5mby5ib2R5ID0gYm9keTtcbiAgICByZXF1ZXN0SW5mby5lcnJvckhhbmRsZXIgPSBzaGFyZWRFcnJvckhhbmRsZXIobG9jYXRpb24pO1xuICAgIHJldHVybiByZXF1ZXN0SW5mbztcbn1cbi8qKlxuICogQHBhcmFtIHVybCBGcm9tIGEgY2FsbCB0byBmYnMucmVxdWVzdHMuY3JlYXRlUmVzdW1hYmxlVXBsb2FkLlxuICovXG5mdW5jdGlvbiBnZXRSZXN1bWFibGVVcGxvYWRTdGF0dXMoc2VydmljZSwgbG9jYXRpb24sIHVybCwgYmxvYikge1xuICAgIGNvbnN0IGhlYWRlcnMgPSB7ICdYLUdvb2ctVXBsb2FkLUNvbW1hbmQnOiAncXVlcnknIH07XG4gICAgZnVuY3Rpb24gaGFuZGxlcih4aHIpIHtcbiAgICAgICAgY29uc3Qgc3RhdHVzID0gY2hlY2tSZXN1bWVIZWFkZXJfKHhociwgWydhY3RpdmUnLCAnZmluYWwnXSk7XG4gICAgICAgIGxldCBzaXplU3RyaW5nID0gbnVsbDtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHNpemVTdHJpbmcgPSB4aHIuZ2V0UmVzcG9uc2VIZWFkZXIoJ1gtR29vZy1VcGxvYWQtU2l6ZS1SZWNlaXZlZCcpO1xuICAgICAgICB9XG4gICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICBoYW5kbGVyQ2hlY2soZmFsc2UpO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc2l6ZVN0cmluZykge1xuICAgICAgICAgICAgLy8gbnVsbCBvciBlbXB0eSBzdHJpbmdcbiAgICAgICAgICAgIGhhbmRsZXJDaGVjayhmYWxzZSk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3Qgc2l6ZSA9IE51bWJlcihzaXplU3RyaW5nKTtcbiAgICAgICAgaGFuZGxlckNoZWNrKCFpc05hTihzaXplKSk7XG4gICAgICAgIHJldHVybiBuZXcgUmVzdW1hYmxlVXBsb2FkU3RhdHVzKHNpemUsIGJsb2Iuc2l6ZSgpLCBzdGF0dXMgPT09ICdmaW5hbCcpO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSAnUE9TVCc7XG4gICAgY29uc3QgdGltZW91dCA9IHNlcnZpY2UubWF4VXBsb2FkUmV0cnlUaW1lO1xuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gbmV3IFJlcXVlc3RJbmZvKHVybCwgbWV0aG9kLCBoYW5kbGVyLCB0aW1lb3V0KTtcbiAgICByZXF1ZXN0SW5mby5oZWFkZXJzID0gaGVhZGVycztcbiAgICByZXF1ZXN0SW5mby5lcnJvckhhbmRsZXIgPSBzaGFyZWRFcnJvckhhbmRsZXIobG9jYXRpb24pO1xuICAgIHJldHVybiByZXF1ZXN0SW5mbztcbn1cbi8qKlxuICogQW55IHVwbG9hZHMgdmlhIHRoZSByZXN1bWFibGUgdXBsb2FkIEFQSSBtdXN0IHRyYW5zZmVyIGEgbnVtYmVyIG9mIGJ5dGVzXG4gKiB0aGF0IGlzIGEgbXVsdGlwbGUgb2YgdGhpcyBudW1iZXIuXG4gKi9cbmNvbnN0IFJFU1VNQUJMRV9VUExPQURfQ0hVTktfU0laRSA9IDI1NiAqIDEwMjQ7XG4vKipcbiAqIEBwYXJhbSB1cmwgRnJvbSBhIGNhbGwgdG8gZmJzLnJlcXVlc3RzLmNyZWF0ZVJlc3VtYWJsZVVwbG9hZC5cbiAqIEBwYXJhbSBjaHVua1NpemUgTnVtYmVyIG9mIGJ5dGVzIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSBzdGF0dXMgVGhlIHByZXZpb3VzIHN0YXR1cy5cbiAqICAgICBJZiBub3QgcGFzc2VkIG9yIG51bGwsIHdlIHN0YXJ0IGZyb20gdGhlIGJlZ2lubmluZy5cbiAqIEB0aHJvd3MgZmJzLkVycm9yIElmIHRoZSB1cGxvYWQgaXMgYWxyZWFkeSBjb21wbGV0ZSwgdGhlIHBhc3NlZCBpbiBzdGF0dXNcbiAqICAgICBoYXMgYSBmaW5hbCBzaXplIGluY29uc2lzdGVudCB3aXRoIHRoZSBibG9iLCBvciB0aGUgYmxvYiBjYW5ub3QgYmUgc2xpY2VkXG4gKiAgICAgZm9yIHVwbG9hZC5cbiAqL1xuZnVuY3Rpb24gY29udGludWVSZXN1bWFibGVVcGxvYWQobG9jYXRpb24sIHNlcnZpY2UsIHVybCwgYmxvYiwgY2h1bmtTaXplLCBtYXBwaW5ncywgc3RhdHVzLCBwcm9ncmVzc0NhbGxiYWNrKSB7XG4gICAgLy8gVE9ETyhhbmR5c290byk6IHN0YW5kYXJkaXplIG9uIGludGVybmFsIGFzc2VydHNcbiAgICAvLyBhc3NlcnQoIShvcHRfc3RhdHVzICYmIG9wdF9zdGF0dXMuZmluYWxpemVkKSk7XG4gICAgY29uc3Qgc3RhdHVzXyA9IG5ldyBSZXN1bWFibGVVcGxvYWRTdGF0dXMoMCwgMCk7XG4gICAgaWYgKHN0YXR1cykge1xuICAgICAgICBzdGF0dXNfLmN1cnJlbnQgPSBzdGF0dXMuY3VycmVudDtcbiAgICAgICAgc3RhdHVzXy50b3RhbCA9IHN0YXR1cy50b3RhbDtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICAgIHN0YXR1c18uY3VycmVudCA9IDA7XG4gICAgICAgIHN0YXR1c18udG90YWwgPSBibG9iLnNpemUoKTtcbiAgICB9XG4gICAgaWYgKGJsb2Iuc2l6ZSgpICE9PSBzdGF0dXNfLnRvdGFsKSB7XG4gICAgICAgIHRocm93IHNlcnZlckZpbGVXcm9uZ1NpemUoKTtcbiAgICB9XG4gICAgY29uc3QgYnl0ZXNMZWZ0ID0gc3RhdHVzXy50b3RhbCAtIHN0YXR1c18uY3VycmVudDtcbiAgICBsZXQgYnl0ZXNUb1VwbG9hZCA9IGJ5dGVzTGVmdDtcbiAgICBpZiAoY2h1bmtTaXplID4gMCkge1xuICAgICAgICBieXRlc1RvVXBsb2FkID0gTWF0aC5taW4oYnl0ZXNUb1VwbG9hZCwgY2h1bmtTaXplKTtcbiAgICB9XG4gICAgY29uc3Qgc3RhcnRCeXRlID0gc3RhdHVzXy5jdXJyZW50O1xuICAgIGNvbnN0IGVuZEJ5dGUgPSBzdGFydEJ5dGUgKyBieXRlc1RvVXBsb2FkO1xuICAgIGxldCB1cGxvYWRDb21tYW5kID0gJyc7XG4gICAgaWYgKGJ5dGVzVG9VcGxvYWQgPT09IDApIHtcbiAgICAgICAgdXBsb2FkQ29tbWFuZCA9ICdmaW5hbGl6ZSc7XG4gICAgfVxuICAgIGVsc2UgaWYgKGJ5dGVzTGVmdCA9PT0gYnl0ZXNUb1VwbG9hZCkge1xuICAgICAgICB1cGxvYWRDb21tYW5kID0gJ3VwbG9hZCwgZmluYWxpemUnO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgdXBsb2FkQ29tbWFuZCA9ICd1cGxvYWQnO1xuICAgIH1cbiAgICBjb25zdCBoZWFkZXJzID0ge1xuICAgICAgICAnWC1Hb29nLVVwbG9hZC1Db21tYW5kJzogdXBsb2FkQ29tbWFuZCxcbiAgICAgICAgJ1gtR29vZy1VcGxvYWQtT2Zmc2V0JzogYCR7c3RhdHVzXy5jdXJyZW50fWBcbiAgICB9O1xuICAgIGNvbnN0IGJvZHkgPSBibG9iLnNsaWNlKHN0YXJ0Qnl0ZSwgZW5kQnl0ZSk7XG4gICAgaWYgKGJvZHkgPT09IG51bGwpIHtcbiAgICAgICAgdGhyb3cgY2Fubm90U2xpY2VCbG9iKCk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGhhbmRsZXIoeGhyLCB0ZXh0KSB7XG4gICAgICAgIC8vIFRPRE8oYW5keXNvdG8pOiBWZXJpZnkgdGhlIE1ENSBvZiBlYWNoIHVwbG9hZGVkIHJhbmdlOlxuICAgICAgICAvLyB0aGUgJ3gtcmFuZ2UtbWQ1JyBoZWFkZXIgY29tZXMgYmFjayB3aXRoIHN0YXR1cyBjb2RlIDMwOCByZXNwb25zZXMuXG4gICAgICAgIC8vIFdlJ2xsIG9ubHkgYmUgYWJsZSB0byBiYWlsIG91dCB0aG91Z2gsIGJlY2F1c2UgeW91IGNhbid0IHJlLXVwbG9hZCBhXG4gICAgICAgIC8vIHJhbmdlIHRoYXQgeW91IHByZXZpb3VzbHkgdXBsb2FkZWQuXG4gICAgICAgIGNvbnN0IHVwbG9hZFN0YXR1cyA9IGNoZWNrUmVzdW1lSGVhZGVyXyh4aHIsIFsnYWN0aXZlJywgJ2ZpbmFsJ10pO1xuICAgICAgICBjb25zdCBuZXdDdXJyZW50ID0gc3RhdHVzXy5jdXJyZW50ICsgYnl0ZXNUb1VwbG9hZDtcbiAgICAgICAgY29uc3Qgc2l6ZSA9IGJsb2Iuc2l6ZSgpO1xuICAgICAgICBsZXQgbWV0YWRhdGE7XG4gICAgICAgIGlmICh1cGxvYWRTdGF0dXMgPT09ICdmaW5hbCcpIHtcbiAgICAgICAgICAgIG1ldGFkYXRhID0gbWV0YWRhdGFIYW5kbGVyKHNlcnZpY2UsIG1hcHBpbmdzKSh4aHIsIHRleHQpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgbWV0YWRhdGEgPSBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuZXcgUmVzdW1hYmxlVXBsb2FkU3RhdHVzKG5ld0N1cnJlbnQsIHNpemUsIHVwbG9hZFN0YXR1cyA9PT0gJ2ZpbmFsJywgbWV0YWRhdGEpO1xuICAgIH1cbiAgICBjb25zdCBtZXRob2QgPSAnUE9TVCc7XG4gICAgY29uc3QgdGltZW91dCA9IHNlcnZpY2UubWF4VXBsb2FkUmV0cnlUaW1lO1xuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gbmV3IFJlcXVlc3RJbmZvKHVybCwgbWV0aG9kLCBoYW5kbGVyLCB0aW1lb3V0KTtcbiAgICByZXF1ZXN0SW5mby5oZWFkZXJzID0gaGVhZGVycztcbiAgICByZXF1ZXN0SW5mby5ib2R5ID0gYm9keS51cGxvYWREYXRhKCk7XG4gICAgcmVxdWVzdEluZm8ucHJvZ3Jlc3NDYWxsYmFjayA9IHByb2dyZXNzQ2FsbGJhY2sgfHwgbnVsbDtcbiAgICByZXF1ZXN0SW5mby5lcnJvckhhbmRsZXIgPSBzaGFyZWRFcnJvckhhbmRsZXIobG9jYXRpb24pO1xuICAgIHJldHVybiByZXF1ZXN0SW5mbztcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogQW4gZXZlbnQgdGhhdCBpcyB0cmlnZ2VyZWQgb24gYSB0YXNrLlxuICogQGludGVybmFsXG4gKi9cbmNvbnN0IFRhc2tFdmVudCA9IHtcbiAgICAvKipcbiAgICAgKiBGb3IgdGhpcyBldmVudCxcbiAgICAgKiA8dWw+XG4gICAgICogICA8bGk+VGhlIGBuZXh0YCBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQgb24gcHJvZ3Jlc3MgdXBkYXRlcyBhbmQgd2hlbiB0aGVcbiAgICAgKiAgICAgICB0YXNrIGlzIHBhdXNlZC9yZXN1bWVkIHdpdGggYW4gYFVwbG9hZFRhc2tTbmFwc2hvdGAgYXMgdGhlIGZpcnN0XG4gICAgICogICAgICAgYXJndW1lbnQuPC9saT5cbiAgICAgKiAgIDxsaT5UaGUgYGVycm9yYCBmdW5jdGlvbiBpcyB0cmlnZ2VyZWQgaWYgdGhlIHVwbG9hZCBpcyBjYW5jZWxlZCBvciBmYWlsc1xuICAgICAqICAgICAgIGZvciBhbm90aGVyIHJlYXNvbi48L2xpPlxuICAgICAqICAgPGxpPlRoZSBgY29tcGxldGVgIGZ1bmN0aW9uIGlzIHRyaWdnZXJlZCBpZiB0aGUgdXBsb2FkIGNvbXBsZXRlc1xuICAgICAqICAgICAgIHN1Y2Nlc3NmdWxseS48L2xpPlxuICAgICAqIDwvdWw+XG4gICAgICovXG4gICAgU1RBVEVfQ0hBTkdFRDogJ3N0YXRlX2NoYW5nZWQnXG59O1xuLy8gdHlwZSBrZXlzID0ga2V5b2YgVGFza1N0YXRlXG4vKipcbiAqIFJlcHJlc2VudHMgdGhlIGN1cnJlbnQgc3RhdGUgb2YgYSBydW5uaW5nIHVwbG9hZC5cbiAqIEBpbnRlcm5hbFxuICovXG5jb25zdCBUYXNrU3RhdGUgPSB7XG4gICAgLyoqIFRoZSB0YXNrIGlzIGN1cnJlbnRseSB0cmFuc2ZlcnJpbmcgZGF0YS4gKi9cbiAgICBSVU5OSU5HOiAncnVubmluZycsXG4gICAgLyoqIFRoZSB0YXNrIHdhcyBwYXVzZWQgYnkgdGhlIHVzZXIuICovXG4gICAgUEFVU0VEOiAncGF1c2VkJyxcbiAgICAvKiogVGhlIHRhc2sgY29tcGxldGVkIHN1Y2Nlc3NmdWxseS4gKi9cbiAgICBTVUNDRVNTOiAnc3VjY2VzcycsXG4gICAgLyoqIFRoZSB0YXNrIHdhcyBjYW5jZWxlZC4gKi9cbiAgICBDQU5DRUxFRDogJ2NhbmNlbGVkJyxcbiAgICAvKiogVGhlIHRhc2sgZmFpbGVkIHdpdGggYW4gZXJyb3IuICovXG4gICAgRVJST1I6ICdlcnJvcidcbn07XG5mdW5jdGlvbiB0YXNrU3RhdGVGcm9tSW50ZXJuYWxUYXNrU3RhdGUoc3RhdGUpIHtcbiAgICBzd2l0Y2ggKHN0YXRlKSB7XG4gICAgICAgIGNhc2UgXCJydW5uaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUlVOTklORyAqLzpcbiAgICAgICAgY2FzZSBcInBhdXNpbmdcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5QQVVTSU5HICovOlxuICAgICAgICBjYXNlIFwiY2FuY2VsaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuQ0FOQ0VMSU5HICovOlxuICAgICAgICAgICAgcmV0dXJuIFRhc2tTdGF0ZS5SVU5OSU5HO1xuICAgICAgICBjYXNlIFwicGF1c2VkXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUEFVU0VEICovOlxuICAgICAgICAgICAgcmV0dXJuIFRhc2tTdGF0ZS5QQVVTRUQ7XG4gICAgICAgIGNhc2UgXCJzdWNjZXNzXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuU1VDQ0VTUyAqLzpcbiAgICAgICAgICAgIHJldHVybiBUYXNrU3RhdGUuU1VDQ0VTUztcbiAgICAgICAgY2FzZSBcImNhbmNlbGVkXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuQ0FOQ0VMRUQgKi86XG4gICAgICAgICAgICByZXR1cm4gVGFza1N0YXRlLkNBTkNFTEVEO1xuICAgICAgICBjYXNlIFwiZXJyb3JcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5FUlJPUiAqLzpcbiAgICAgICAgICAgIHJldHVybiBUYXNrU3RhdGUuRVJST1I7XG4gICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAvLyBUT0RPKGFuZHlzb3RvKTogYXNzZXJ0KGZhbHNlKTtcbiAgICAgICAgICAgIHJldHVybiBUYXNrU3RhdGUuRVJST1I7XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuY2xhc3MgT2JzZXJ2ZXIge1xuICAgIGNvbnN0cnVjdG9yKG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGUpIHtcbiAgICAgICAgY29uc3QgYXNGdW5jdGlvbnMgPSBpc0Z1bmN0aW9uKG5leHRPck9ic2VydmVyKSB8fCBlcnJvciAhPSBudWxsIHx8IGNvbXBsZXRlICE9IG51bGw7XG4gICAgICAgIGlmIChhc0Z1bmN0aW9ucykge1xuICAgICAgICAgICAgdGhpcy5uZXh0ID0gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgICAgICB0aGlzLmVycm9yID0gZXJyb3IgPz8gdW5kZWZpbmVkO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSA9IGNvbXBsZXRlID8/IHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV4dE9yT2JzZXJ2ZXI7XG4gICAgICAgICAgICB0aGlzLm5leHQgPSBvYnNlcnZlci5uZXh0O1xuICAgICAgICAgICAgdGhpcy5lcnJvciA9IG9ic2VydmVyLmVycm9yO1xuICAgICAgICAgICAgdGhpcy5jb21wbGV0ZSA9IG9ic2VydmVyLmNvbXBsZXRlO1xuICAgICAgICB9XG4gICAgfVxufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAxNyBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCBpbnZva2VzIGYgd2l0aCBpdHMgYXJndW1lbnRzIGFzeW5jaHJvbm91c2x5IGFzIGFcbiAqIG1pY3JvdGFzaywgaS5lLiBhcyBzb29uIGFzIHBvc3NpYmxlIGFmdGVyIHRoZSBjdXJyZW50IHNjcmlwdCByZXR1cm5zIGJhY2tcbiAqIGludG8gYnJvd3NlciBjb2RlLlxuICovXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L2Jhbi10eXBlc1xuZnVuY3Rpb24gYXN5bmMoZikge1xuICAgIHJldHVybiAoLi4uYXJnc1RvRm9yd2FyZCkgPT4ge1xuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgQHR5cGVzY3JpcHQtZXNsaW50L25vLWZsb2F0aW5nLXByb21pc2VzXG4gICAgICAgIFByb21pc2UucmVzb2x2ZSgpLnRoZW4oKCkgPT4gZiguLi5hcmdzVG9Gb3J3YXJkKSk7XG4gICAgfTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKiBBbiBvdmVycmlkZSBmb3IgdGhlIHRleHQtYmFzZWQgQ29ubmVjdGlvbi4gVXNlZCBpbiB0ZXN0cy4gKi9cbmxldCB0ZXh0RmFjdG9yeU92ZXJyaWRlID0gbnVsbDtcbi8qKlxuICogTmV0d29yayBsYXllciBmb3IgYnJvd3NlcnMuIFdlIHVzZSB0aGlzIGluc3RlYWQgb2YgZ29vZy5uZXQuWGhySW8gYmVjYXVzZVxuICogZ29vZy5uZXQuWGhySW8gaXMgaHl1dXV1Z2UgYW5kIGRvZXNuJ3Qgd29yayBpbiBSZWFjdCBOYXRpdmUgb24gQW5kcm9pZC5cbiAqL1xuY2xhc3MgWGhyQ29ubmVjdGlvbiB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHRoaXMuc2VudF8gPSBmYWxzZTtcbiAgICAgICAgdGhpcy54aHJfID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XG4gICAgICAgIHRoaXMuaW5pdFhocigpO1xuICAgICAgICB0aGlzLmVycm9yQ29kZV8gPSBFcnJvckNvZGUuTk9fRVJST1I7XG4gICAgICAgIHRoaXMuc2VuZFByb21pc2VfID0gbmV3IFByb21pc2UocmVzb2x2ZSA9PiB7XG4gICAgICAgICAgICB0aGlzLnhocl8uYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5lcnJvckNvZGVfID0gRXJyb3JDb2RlLkFCT1JUO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy54aHJfLmFkZEV2ZW50TGlzdGVuZXIoJ2Vycm9yJywgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuZXJyb3JDb2RlXyA9IEVycm9yQ29kZS5ORVRXT1JLX0VSUk9SO1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdGhpcy54aHJfLmFkZEV2ZW50TGlzdGVuZXIoJ2xvYWQnLCAoKSA9PiB7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBzZW5kKHVybCwgbWV0aG9kLCBpc1VzaW5nRW11bGF0b3IsIGJvZHksIGhlYWRlcnMpIHtcbiAgICAgICAgaWYgKHRoaXMuc2VudF8pIHtcbiAgICAgICAgICAgIHRocm93IGludGVybmFsRXJyb3IoJ2Nhbm5vdCAuc2VuZCgpIG1vcmUgdGhhbiBvbmNlJyk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGlzQ2xvdWRXb3Jrc3RhdGlvbih1cmwpICYmIGlzVXNpbmdFbXVsYXRvcikge1xuICAgICAgICAgICAgdGhpcy54aHJfLndpdGhDcmVkZW50aWFscyA9IHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zZW50XyA9IHRydWU7XG4gICAgICAgIHRoaXMueGhyXy5vcGVuKG1ldGhvZCwgdXJsLCB0cnVlKTtcbiAgICAgICAgaWYgKGhlYWRlcnMgIT09IHVuZGVmaW5lZCkge1xuICAgICAgICAgICAgZm9yIChjb25zdCBrZXkgaW4gaGVhZGVycykge1xuICAgICAgICAgICAgICAgIGlmIChoZWFkZXJzLmhhc093blByb3BlcnR5KGtleSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy54aHJfLnNldFJlcXVlc3RIZWFkZXIoa2V5LCBoZWFkZXJzW2tleV0udG9TdHJpbmcoKSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGlmIChib2R5ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHRoaXMueGhyXy5zZW5kKGJvZHkpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy54aHJfLnNlbmQoKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5zZW5kUHJvbWlzZV87XG4gICAgfVxuICAgIGdldEVycm9yQ29kZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbnRfKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnRlcm5hbEVycm9yKCdjYW5ub3QgLmdldEVycm9yQ29kZSgpIGJlZm9yZSBzZW5kaW5nJyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuZXJyb3JDb2RlXztcbiAgICB9XG4gICAgZ2V0U3RhdHVzKCkge1xuICAgICAgICBpZiAoIXRoaXMuc2VudF8pIHtcbiAgICAgICAgICAgIHRocm93IGludGVybmFsRXJyb3IoJ2Nhbm5vdCAuZ2V0U3RhdHVzKCkgYmVmb3JlIHNlbmRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICB0cnkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMueGhyXy5zdGF0dXM7XG4gICAgICAgIH1cbiAgICAgICAgY2F0Y2ggKGUpIHtcbiAgICAgICAgICAgIHJldHVybiAtMTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBnZXRSZXNwb25zZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLnNlbnRfKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnRlcm5hbEVycm9yKCdjYW5ub3QgLmdldFJlc3BvbnNlKCkgYmVmb3JlIHNlbmRpbmcnKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy54aHJfLnJlc3BvbnNlO1xuICAgIH1cbiAgICBnZXRFcnJvclRleHQoKSB7XG4gICAgICAgIGlmICghdGhpcy5zZW50Xykge1xuICAgICAgICAgICAgdGhyb3cgaW50ZXJuYWxFcnJvcignY2Fubm90IC5nZXRFcnJvclRleHQoKSBiZWZvcmUgc2VuZGluZycpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnhocl8uc3RhdHVzVGV4dDtcbiAgICB9XG4gICAgLyoqIEFib3J0cyB0aGUgcmVxdWVzdC4gKi9cbiAgICBhYm9ydCgpIHtcbiAgICAgICAgdGhpcy54aHJfLmFib3J0KCk7XG4gICAgfVxuICAgIGdldFJlc3BvbnNlSGVhZGVyKGhlYWRlcikge1xuICAgICAgICByZXR1cm4gdGhpcy54aHJfLmdldFJlc3BvbnNlSGVhZGVyKGhlYWRlcik7XG4gICAgfVxuICAgIGFkZFVwbG9hZFByb2dyZXNzTGlzdGVuZXIobGlzdGVuZXIpIHtcbiAgICAgICAgaWYgKHRoaXMueGhyXy51cGxvYWQgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy54aHJfLnVwbG9hZC5hZGRFdmVudExpc3RlbmVyKCdwcm9ncmVzcycsIGxpc3RlbmVyKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICByZW1vdmVVcGxvYWRQcm9ncmVzc0xpc3RlbmVyKGxpc3RlbmVyKSB7XG4gICAgICAgIGlmICh0aGlzLnhocl8udXBsb2FkICE9IG51bGwpIHtcbiAgICAgICAgICAgIHRoaXMueGhyXy51cGxvYWQucmVtb3ZlRXZlbnRMaXN0ZW5lcigncHJvZ3Jlc3MnLCBsaXN0ZW5lcik7XG4gICAgICAgIH1cbiAgICB9XG59XG5jbGFzcyBYaHJUZXh0Q29ubmVjdGlvbiBleHRlbmRzIFhockNvbm5lY3Rpb24ge1xuICAgIGluaXRYaHIoKSB7XG4gICAgICAgIHRoaXMueGhyXy5yZXNwb25zZVR5cGUgPSAndGV4dCc7XG4gICAgfVxufVxuZnVuY3Rpb24gbmV3VGV4dENvbm5lY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRleHRGYWN0b3J5T3ZlcnJpZGUgPyB0ZXh0RmFjdG9yeU92ZXJyaWRlKCkgOiBuZXcgWGhyVGV4dENvbm5lY3Rpb24oKTtcbn1cbmNsYXNzIFhockJ5dGVzQ29ubmVjdGlvbiBleHRlbmRzIFhockNvbm5lY3Rpb24ge1xuICAgIGluaXRYaHIoKSB7XG4gICAgICAgIHRoaXMueGhyXy5yZXNwb25zZVR5cGUgPSAnYXJyYXlidWZmZXInO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5ld0J5dGVzQ29ubmVjdGlvbigpIHtcbiAgICByZXR1cm4gbmV3IFhockJ5dGVzQ29ubmVjdGlvbigpO1xufVxuY2xhc3MgWGhyQmxvYkNvbm5lY3Rpb24gZXh0ZW5kcyBYaHJDb25uZWN0aW9uIHtcbiAgICBpbml0WGhyKCkge1xuICAgICAgICB0aGlzLnhocl8ucmVzcG9uc2VUeXBlID0gJ2Jsb2InO1xuICAgIH1cbn1cbmZ1bmN0aW9uIG5ld0Jsb2JDb25uZWN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgWGhyQmxvYkNvbm5lY3Rpb24oKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUmVwcmVzZW50cyBhIGJsb2IgYmVpbmcgdXBsb2FkZWQuIENhbiBiZSB1c2VkIHRvIHBhdXNlL3Jlc3VtZS9jYW5jZWwgdGhlXG4gKiB1cGxvYWQgYW5kIG1hbmFnZSBjYWxsYmFja3MgZm9yIHZhcmlvdXMgZXZlbnRzLlxuICogQGludGVybmFsXG4gKi9cbmNsYXNzIFVwbG9hZFRhc2sge1xuICAgIGlzRXhwb25lbnRpYWxCYWNrb2ZmRXhwaXJlZCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuc2xlZXBUaW1lID4gdGhpcy5tYXhTbGVlcFRpbWU7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEBwYXJhbSByZWYgLSBUaGUgZmlyZWJhc2VTdG9yYWdlLlJlZmVyZW5jZSBvYmplY3QgdGhpcyB0YXNrIGNhbWVcbiAgICAgKiAgICAgZnJvbSwgdW50eXBlZCB0byBhdm9pZCBjeWNsaWMgZGVwZW5kZW5jaWVzLlxuICAgICAqIEBwYXJhbSBibG9iIC0gVGhlIGJsb2IgdG8gdXBsb2FkLlxuICAgICAqL1xuICAgIGNvbnN0cnVjdG9yKHJlZiwgYmxvYiwgbWV0YWRhdGEgPSBudWxsKSB7XG4gICAgICAgIC8qKlxuICAgICAgICAgKiBOdW1iZXIgb2YgYnl0ZXMgdHJhbnNmZXJyZWQgc28gZmFyLlxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5fdHJhbnNmZXJyZWQgPSAwO1xuICAgICAgICB0aGlzLl9uZWVkVG9GZXRjaFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9uZWVkVG9GZXRjaE1ldGFkYXRhID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX29ic2VydmVycyA9IFtdO1xuICAgICAgICB0aGlzLl9lcnJvciA9IHVuZGVmaW5lZDtcbiAgICAgICAgdGhpcy5fdXBsb2FkVXJsID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9jaHVua011bHRpcGxpZXIgPSAxO1xuICAgICAgICB0aGlzLl9yZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgICB0aGlzLl9yZWplY3QgPSB1bmRlZmluZWQ7XG4gICAgICAgIHRoaXMuX3JlZiA9IHJlZjtcbiAgICAgICAgdGhpcy5fYmxvYiA9IGJsb2I7XG4gICAgICAgIHRoaXMuX21ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgIHRoaXMuX21hcHBpbmdzID0gZ2V0TWFwcGluZ3MoKTtcbiAgICAgICAgdGhpcy5fcmVzdW1hYmxlID0gdGhpcy5fc2hvdWxkRG9SZXN1bWFibGUodGhpcy5fYmxvYik7XG4gICAgICAgIHRoaXMuX3N0YXRlID0gXCJydW5uaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUlVOTklORyAqLztcbiAgICAgICAgdGhpcy5fZXJyb3JIYW5kbGVyID0gZXJyb3IgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIHRoaXMuX2NodW5rTXVsdGlwbGllciA9IDE7XG4gICAgICAgICAgICBpZiAoZXJyb3IuX2NvZGVFcXVhbHMoU3RvcmFnZUVycm9yQ29kZS5DQU5DRUxFRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWVkVG9GZXRjaFN0YXR1cyA9IHRydWU7XG4gICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVRyYW5zaXRpb25zXygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgY29uc3QgYmFja29mZkV4cGlyZWQgPSB0aGlzLmlzRXhwb25lbnRpYWxCYWNrb2ZmRXhwaXJlZCgpO1xuICAgICAgICAgICAgICAgIGlmIChpc1JldHJ5U3RhdHVzQ29kZShlcnJvci5zdGF0dXMsIFtdKSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYmFja29mZkV4cGlyZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGVycm9yID0gcmV0cnlMaW1pdEV4Y2VlZGVkKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNsZWVwVGltZSA9IE1hdGgubWF4KHRoaXMuc2xlZXBUaW1lICogMiwgREVGQVVMVF9NSU5fU0xFRVBfVElNRV9NSUxMSVMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fbmVlZFRvRmV0Y2hTdGF0dXMgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jb21wbGV0ZVRyYW5zaXRpb25zXygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuX2Vycm9yID0gZXJyb3I7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbihcImVycm9yXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuRVJST1IgKi8pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB0aGlzLl9tZXRhZGF0YUVycm9ySGFuZGxlciA9IGVycm9yID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICBpZiAoZXJyb3IuX2NvZGVFcXVhbHMoU3RvcmFnZUVycm9yQ29kZS5DQU5DRUxFRCkpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVHJhbnNpdGlvbnNfKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGVycm9yO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb24oXCJlcnJvclwiIC8qIEludGVybmFsVGFza1N0YXRlLkVSUk9SICovKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgdGhpcy5zbGVlcFRpbWUgPSAwO1xuICAgICAgICB0aGlzLm1heFNsZWVwVGltZSA9IHRoaXMuX3JlZi5zdG9yYWdlLm1heFVwbG9hZFJldHJ5VGltZTtcbiAgICAgICAgdGhpcy5fcHJvbWlzZSA9IG5ldyBQcm9taXNlKChyZXNvbHZlLCByZWplY3QpID0+IHtcbiAgICAgICAgICAgIHRoaXMuX3Jlc29sdmUgPSByZXNvbHZlO1xuICAgICAgICAgICAgdGhpcy5fcmVqZWN0ID0gcmVqZWN0O1xuICAgICAgICAgICAgdGhpcy5fc3RhcnQoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIC8vIFByZXZlbnQgdW5jYXVnaHQgcmVqZWN0aW9ucyBvbiB0aGUgaW50ZXJuYWwgcHJvbWlzZSBmcm9tIGJ1YmJsaW5nIG91dFxuICAgICAgICAvLyB0byB0aGUgdG9wIGxldmVsIHdpdGggYSBkdW1teSBoYW5kbGVyLlxuICAgICAgICB0aGlzLl9wcm9taXNlLnRoZW4obnVsbCwgKCkgPT4geyB9KTtcbiAgICB9XG4gICAgX21ha2VQcm9ncmVzc0NhbGxiYWNrKCkge1xuICAgICAgICBjb25zdCBzaXplQmVmb3JlID0gdGhpcy5fdHJhbnNmZXJyZWQ7XG4gICAgICAgIHJldHVybiBsb2FkZWQgPT4gdGhpcy5fdXBkYXRlUHJvZ3Jlc3Moc2l6ZUJlZm9yZSArIGxvYWRlZCk7XG4gICAgfVxuICAgIF9zaG91bGREb1Jlc3VtYWJsZShibG9iKSB7XG4gICAgICAgIHJldHVybiBibG9iLnNpemUoKSA+IDI1NiAqIDEwMjQ7XG4gICAgfVxuICAgIF9zdGFydCgpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlICE9PSBcInJ1bm5pbmdcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5SVU5OSU5HICovKSB7XG4gICAgICAgICAgICAvLyBUaGlzIGNhbiBoYXBwZW4gaWYgc29tZW9uZSBwYXVzZXMgdXMgaW4gYSByZXN1bWUgY2FsbGJhY2ssIGZvciBleGFtcGxlLlxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5fcmVzdW1hYmxlKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5fdXBsb2FkVXJsID09PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9jcmVhdGVSZXN1bWFibGUoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9uZWVkVG9GZXRjaFN0YXR1cykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9mZXRjaFN0YXR1cygpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuX25lZWRUb0ZldGNoTWV0YWRhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIEhhcHBlbnMgaWYgd2UgbWlzcyB0aGUgbWV0YWRhdGEgb24gdXBsb2FkIGNvbXBsZXRpb24uXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9mZXRjaE1ldGFkYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnBlbmRpbmdUaW1lb3V0ID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wZW5kaW5nVGltZW91dCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb250aW51ZVVwbG9hZCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zbGVlcFRpbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fb25lU2hvdFVwbG9hZCgpO1xuICAgICAgICB9XG4gICAgfVxuICAgIF9yZXNvbHZlVG9rZW4oY2FsbGJhY2spIHtcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIEB0eXBlc2NyaXB0LWVzbGludC9uby1mbG9hdGluZy1wcm9taXNlc1xuICAgICAgICBQcm9taXNlLmFsbChbXG4gICAgICAgICAgICB0aGlzLl9yZWYuc3RvcmFnZS5fZ2V0QXV0aFRva2VuKCksXG4gICAgICAgICAgICB0aGlzLl9yZWYuc3RvcmFnZS5fZ2V0QXBwQ2hlY2tUb2tlbigpXG4gICAgICAgIF0pLnRoZW4oKFthdXRoVG9rZW4sIGFwcENoZWNrVG9rZW5dKSA9PiB7XG4gICAgICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBcInJ1bm5pbmdcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5SVU5OSU5HICovOlxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhhdXRoVG9rZW4sIGFwcENoZWNrVG9rZW4pO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFwiY2FuY2VsaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuQ0FOQ0VMSU5HICovOlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uKFwiY2FuY2VsZWRcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5DQU5DRUxFRCAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGNhc2UgXCJwYXVzaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUEFVU0lORyAqLzpcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbihcInBhdXNlZFwiIC8qIEludGVybmFsVGFza1N0YXRlLlBBVVNFRCAqLyk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gVE9ETyhhbmR5c290byk6IGFzc2VydCBmYWxzZVxuICAgIF9jcmVhdGVSZXN1bWFibGUoKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVUb2tlbigoYXV0aFRva2VuLCBhcHBDaGVja1Rva2VuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0SW5mbyA9IGNyZWF0ZVJlc3VtYWJsZVVwbG9hZCh0aGlzLl9yZWYuc3RvcmFnZSwgdGhpcy5fcmVmLl9sb2NhdGlvbiwgdGhpcy5fbWFwcGluZ3MsIHRoaXMuX2Jsb2IsIHRoaXMuX21ldGFkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IGNyZWF0ZVJlcXVlc3QgPSB0aGlzLl9yZWYuc3RvcmFnZS5fbWFrZVJlcXVlc3QocmVxdWVzdEluZm8sIG5ld1RleHRDb25uZWN0aW9uLCBhdXRoVG9rZW4sIGFwcENoZWNrVG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IGNyZWF0ZVJlcXVlc3Q7XG4gICAgICAgICAgICBjcmVhdGVSZXF1ZXN0LmdldFByb21pc2UoKS50aGVuKCh1cmwpID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwbG9hZFVybCA9IHVybDtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWVkVG9GZXRjaFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVUcmFuc2l0aW9uc18oKTtcbiAgICAgICAgICAgIH0sIHRoaXMuX2Vycm9ySGFuZGxlcik7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBfZmV0Y2hTdGF0dXMoKSB7XG4gICAgICAgIC8vIFRPRE8oYW5keXNvdG8pOiBhc3NlcnQodGhpcy51cGxvYWRVcmxfICE9PSBudWxsKTtcbiAgICAgICAgY29uc3QgdXJsID0gdGhpcy5fdXBsb2FkVXJsO1xuICAgICAgICB0aGlzLl9yZXNvbHZlVG9rZW4oKGF1dGhUb2tlbiwgYXBwQ2hlY2tUb2tlbikgPT4ge1xuICAgICAgICAgICAgY29uc3QgcmVxdWVzdEluZm8gPSBnZXRSZXN1bWFibGVVcGxvYWRTdGF0dXModGhpcy5fcmVmLnN0b3JhZ2UsIHRoaXMuX3JlZi5fbG9jYXRpb24sIHVybCwgdGhpcy5fYmxvYik7XG4gICAgICAgICAgICBjb25zdCBzdGF0dXNSZXF1ZXN0ID0gdGhpcy5fcmVmLnN0b3JhZ2UuX21ha2VSZXF1ZXN0KHJlcXVlc3RJbmZvLCBuZXdUZXh0Q29ubmVjdGlvbiwgYXV0aFRva2VuLCBhcHBDaGVja1Rva2VuKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSBzdGF0dXNSZXF1ZXN0O1xuICAgICAgICAgICAgc3RhdHVzUmVxdWVzdC5nZXRQcm9taXNlKCkudGhlbihzdGF0dXMgPT4ge1xuICAgICAgICAgICAgICAgIHN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVByb2dyZXNzKHN0YXR1cy5jdXJyZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLl9uZWVkVG9GZXRjaFN0YXR1cyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGlmIChzdGF0dXMuZmluYWxpemVkKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX25lZWRUb0ZldGNoTWV0YWRhdGEgPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVHJhbnNpdGlvbnNfKCk7XG4gICAgICAgICAgICB9LCB0aGlzLl9lcnJvckhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2NvbnRpbnVlVXBsb2FkKCkge1xuICAgICAgICBjb25zdCBjaHVua1NpemUgPSBSRVNVTUFCTEVfVVBMT0FEX0NIVU5LX1NJWkUgKiB0aGlzLl9jaHVua011bHRpcGxpZXI7XG4gICAgICAgIGNvbnN0IHN0YXR1cyA9IG5ldyBSZXN1bWFibGVVcGxvYWRTdGF0dXModGhpcy5fdHJhbnNmZXJyZWQsIHRoaXMuX2Jsb2Iuc2l6ZSgpKTtcbiAgICAgICAgLy8gVE9ETyhhbmR5c290byk6IGFzc2VydCh0aGlzLnVwbG9hZFVybF8gIT09IG51bGwpO1xuICAgICAgICBjb25zdCB1cmwgPSB0aGlzLl91cGxvYWRVcmw7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVUb2tlbigoYXV0aFRva2VuLCBhcHBDaGVja1Rva2VuKSA9PiB7XG4gICAgICAgICAgICBsZXQgcmVxdWVzdEluZm87XG4gICAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgICAgIHJlcXVlc3RJbmZvID0gY29udGludWVSZXN1bWFibGVVcGxvYWQodGhpcy5fcmVmLl9sb2NhdGlvbiwgdGhpcy5fcmVmLnN0b3JhZ2UsIHVybCwgdGhpcy5fYmxvYiwgY2h1bmtTaXplLCB0aGlzLl9tYXBwaW5ncywgc3RhdHVzLCB0aGlzLl9tYWtlUHJvZ3Jlc3NDYWxsYmFjaygpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNhdGNoIChlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fZXJyb3IgPSBlO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb24oXCJlcnJvclwiIC8qIEludGVybmFsVGFza1N0YXRlLkVSUk9SICovKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb25zdCB1cGxvYWRSZXF1ZXN0ID0gdGhpcy5fcmVmLnN0b3JhZ2UuX21ha2VSZXF1ZXN0KHJlcXVlc3RJbmZvLCBuZXdUZXh0Q29ubmVjdGlvbiwgYXV0aFRva2VuLCBhcHBDaGVja1Rva2VuLCBcbiAgICAgICAgICAgIC8qcmV0cnk9Ki8gZmFsc2UgLy8gVXBsb2FkIHJlcXVlc3RzIHNob3VsZCBub3QgYmUgcmV0cmllZCBhcyBlYWNoIHJldHJ5IHNob3VsZCBiZSBwcmVjZWRlZCBieSBhbm90aGVyIHF1ZXJ5IHJlcXVlc3QuIFdoaWNoIGlzIGhhbmRsZWQgaW4gdGhpcyBmaWxlLlxuICAgICAgICAgICAgKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSB1cGxvYWRSZXF1ZXN0O1xuICAgICAgICAgICAgdXBsb2FkUmVxdWVzdC5nZXRQcm9taXNlKCkudGhlbigobmV3U3RhdHVzKSA9PiB7XG4gICAgICAgICAgICAgICAgdGhpcy5faW5jcmVhc2VNdWx0aXBsaWVyKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVQcm9ncmVzcyhuZXdTdGF0dXMuY3VycmVudCk7XG4gICAgICAgICAgICAgICAgaWYgKG5ld1N0YXR1cy5maW5hbGl6ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSBuZXdTdGF0dXMubWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb24oXCJzdWNjZXNzXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuU1VDQ0VTUyAqLyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvbXBsZXRlVHJhbnNpdGlvbnNfKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwgdGhpcy5fZXJyb3JIYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIF9pbmNyZWFzZU11bHRpcGxpZXIoKSB7XG4gICAgICAgIGNvbnN0IGN1cnJlbnRTaXplID0gUkVTVU1BQkxFX1VQTE9BRF9DSFVOS19TSVpFICogdGhpcy5fY2h1bmtNdWx0aXBsaWVyO1xuICAgICAgICAvLyBNYXggY2h1bmsgc2l6ZSBpcyAzMk0uXG4gICAgICAgIGlmIChjdXJyZW50U2l6ZSAqIDIgPCAzMiAqIDEwMjQgKiAxMDI0KSB7XG4gICAgICAgICAgICB0aGlzLl9jaHVua011bHRpcGxpZXIgKj0gMjtcbiAgICAgICAgfVxuICAgIH1cbiAgICBfZmV0Y2hNZXRhZGF0YSgpIHtcbiAgICAgICAgdGhpcy5fcmVzb2x2ZVRva2VuKChhdXRoVG9rZW4sIGFwcENoZWNrVG9rZW4pID0+IHtcbiAgICAgICAgICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gZ2V0TWV0YWRhdGEkMih0aGlzLl9yZWYuc3RvcmFnZSwgdGhpcy5fcmVmLl9sb2NhdGlvbiwgdGhpcy5fbWFwcGluZ3MpO1xuICAgICAgICAgICAgY29uc3QgbWV0YWRhdGFSZXF1ZXN0ID0gdGhpcy5fcmVmLnN0b3JhZ2UuX21ha2VSZXF1ZXN0KHJlcXVlc3RJbmZvLCBuZXdUZXh0Q29ubmVjdGlvbiwgYXV0aFRva2VuLCBhcHBDaGVja1Rva2VuKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSBtZXRhZGF0YVJlcXVlc3Q7XG4gICAgICAgICAgICBtZXRhZGF0YVJlcXVlc3QuZ2V0UHJvbWlzZSgpLnRoZW4obWV0YWRhdGEgPT4ge1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlcXVlc3QgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgdGhpcy5fbWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uKFwic3VjY2Vzc1wiIC8qIEludGVybmFsVGFza1N0YXRlLlNVQ0NFU1MgKi8pO1xuICAgICAgICAgICAgfSwgdGhpcy5fbWV0YWRhdGFFcnJvckhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX29uZVNob3RVcGxvYWQoKSB7XG4gICAgICAgIHRoaXMuX3Jlc29sdmVUb2tlbigoYXV0aFRva2VuLCBhcHBDaGVja1Rva2VuKSA9PiB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0SW5mbyA9IG11bHRpcGFydFVwbG9hZCh0aGlzLl9yZWYuc3RvcmFnZSwgdGhpcy5fcmVmLl9sb2NhdGlvbiwgdGhpcy5fbWFwcGluZ3MsIHRoaXMuX2Jsb2IsIHRoaXMuX21ldGFkYXRhKTtcbiAgICAgICAgICAgIGNvbnN0IG11bHRpcGFydFJlcXVlc3QgPSB0aGlzLl9yZWYuc3RvcmFnZS5fbWFrZVJlcXVlc3QocmVxdWVzdEluZm8sIG5ld1RleHRDb25uZWN0aW9uLCBhdXRoVG9rZW4sIGFwcENoZWNrVG9rZW4pO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdCA9IG11bHRpcGFydFJlcXVlc3Q7XG4gICAgICAgICAgICBtdWx0aXBhcnRSZXF1ZXN0LmdldFByb21pc2UoKS50aGVuKG1ldGFkYXRhID0+IHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXF1ZXN0ID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX21ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlUHJvZ3Jlc3ModGhpcy5fYmxvYi5zaXplKCkpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb24oXCJzdWNjZXNzXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuU1VDQ0VTUyAqLyk7XG4gICAgICAgICAgICB9LCB0aGlzLl9lcnJvckhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX3VwZGF0ZVByb2dyZXNzKHRyYW5zZmVycmVkKSB7XG4gICAgICAgIGNvbnN0IG9sZCA9IHRoaXMuX3RyYW5zZmVycmVkO1xuICAgICAgICB0aGlzLl90cmFuc2ZlcnJlZCA9IHRyYW5zZmVycmVkO1xuICAgICAgICAvLyBBIHByb2dyZXNzIHVwZGF0ZSBjYW4gbWFrZSB0aGUgXCJ0cmFuc2ZlcnJlZFwiIHZhbHVlIHNtYWxsZXIgKGUuZy4gYVxuICAgICAgICAvLyBwYXJ0aWFsIHVwbG9hZCBub3QgY29tcGxldGVkIGJ5IHNlcnZlciwgYWZ0ZXIgd2hpY2ggdGhlIFwidHJhbnNmZXJyZWRcIlxuICAgICAgICAvLyB2YWx1ZSBtYXkgcmVzZXQgdG8gdGhlIHZhbHVlIGF0IHRoZSBiZWdpbm5pbmcgb2YgdGhlIHJlcXVlc3QpLlxuICAgICAgICBpZiAodGhpcy5fdHJhbnNmZXJyZWQgIT09IG9sZCkge1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5T2JzZXJ2ZXJzKCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX3RyYW5zaXRpb24oc3RhdGUpIHtcbiAgICAgICAgaWYgKHRoaXMuX3N0YXRlID09PSBzdGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHN3aXRjaCAoc3RhdGUpIHtcbiAgICAgICAgICAgIGNhc2UgXCJjYW5jZWxpbmdcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5DQU5DRUxJTkcgKi86XG4gICAgICAgICAgICBjYXNlIFwicGF1c2luZ1wiIC8qIEludGVybmFsVGFza1N0YXRlLlBBVVNJTkcgKi86XG4gICAgICAgICAgICAgICAgLy8gVE9ETyhhbmR5c290byk6XG4gICAgICAgICAgICAgICAgLy8gYXNzZXJ0KHRoaXMuc3RhdGVfID09PSBJbnRlcm5hbFRhc2tTdGF0ZS5SVU5OSU5HIHx8XG4gICAgICAgICAgICAgICAgLy8gICAgICAgIHRoaXMuc3RhdGVfID09PSBJbnRlcm5hbFRhc2tTdGF0ZS5QQVVTSU5HKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLl9yZXF1ZXN0ICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fcmVxdWVzdC5jYW5jZWwoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgZWxzZSBpZiAodGhpcy5wZW5kaW5nVGltZW91dCkge1xuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQodGhpcy5wZW5kaW5nVGltZW91dCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGVuZGluZ1RpbWVvdXQgPSB1bmRlZmluZWQ7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY29tcGxldGVUcmFuc2l0aW9uc18oKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwicnVubmluZ1wiIC8qIEludGVybmFsVGFza1N0YXRlLlJVTk5JTkcgKi86XG4gICAgICAgICAgICAgICAgLy8gVE9ETyhhbmR5c290byk6XG4gICAgICAgICAgICAgICAgLy8gYXNzZXJ0KHRoaXMuc3RhdGVfID09PSBJbnRlcm5hbFRhc2tTdGF0ZS5QQVVTRUQgfHxcbiAgICAgICAgICAgICAgICAvLyAgICAgICAgdGhpcy5zdGF0ZV8gPT09IEludGVybmFsVGFza1N0YXRlLlBBVVNJTkcpO1xuICAgICAgICAgICAgICAgIGNvbnN0IHdhc1BhdXNlZCA9IHRoaXMuX3N0YXRlID09PSBcInBhdXNlZFwiIC8qIEludGVybmFsVGFza1N0YXRlLlBBVVNFRCAqLztcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIGlmICh3YXNQYXVzZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fbm90aWZ5T2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3N0YXJ0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInBhdXNlZFwiIC8qIEludGVybmFsVGFza1N0YXRlLlBBVVNFRCAqLzpcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGFuZHlzb3RvKTpcbiAgICAgICAgICAgICAgICAvLyBhc3NlcnQodGhpcy5zdGF0ZV8gPT09IEludGVybmFsVGFza1N0YXRlLlBBVVNJTkcpO1xuICAgICAgICAgICAgICAgIHRoaXMuX3N0YXRlID0gc3RhdGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fbm90aWZ5T2JzZXJ2ZXJzKCk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY2FuY2VsZWRcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5DQU5DRUxFRCAqLzpcbiAgICAgICAgICAgICAgICAvLyBUT0RPKGFuZHlzb3RvKTpcbiAgICAgICAgICAgICAgICAvLyBhc3NlcnQodGhpcy5zdGF0ZV8gPT09IEludGVybmFsVGFza1N0YXRlLlBBVVNFRCB8fFxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnN0YXRlXyA9PT0gSW50ZXJuYWxUYXNrU3RhdGUuQ0FOQ0VMSU5HKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9lcnJvciA9IGNhbmNlbGVkKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fc3RhdGUgPSBzdGF0ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9ub3RpZnlPYnNlcnZlcnMoKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJlcnJvclwiIC8qIEludGVybmFsVGFza1N0YXRlLkVSUk9SICovOlxuICAgICAgICAgICAgICAgIC8vIFRPRE8oYW5keXNvdG8pOlxuICAgICAgICAgICAgICAgIC8vIGFzc2VydCh0aGlzLnN0YXRlXyA9PT0gSW50ZXJuYWxUYXNrU3RhdGUuUlVOTklORyB8fFxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnN0YXRlXyA9PT0gSW50ZXJuYWxUYXNrU3RhdGUuUEFVU0lORyB8fFxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnN0YXRlXyA9PT0gSW50ZXJuYWxUYXNrU3RhdGUuQ0FOQ0VMSU5HKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX25vdGlmeU9ic2VydmVycygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcInN1Y2Nlc3NcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5TVUNDRVNTICovOlxuICAgICAgICAgICAgICAgIC8vIFRPRE8oYW5keXNvdG8pOlxuICAgICAgICAgICAgICAgIC8vIGFzc2VydCh0aGlzLnN0YXRlXyA9PT0gSW50ZXJuYWxUYXNrU3RhdGUuUlVOTklORyB8fFxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnN0YXRlXyA9PT0gSW50ZXJuYWxUYXNrU3RhdGUuUEFVU0lORyB8fFxuICAgICAgICAgICAgICAgIC8vICAgICAgICB0aGlzLnN0YXRlXyA9PT0gSW50ZXJuYWxUYXNrU3RhdGUuQ0FOQ0VMSU5HKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGF0ZSA9IHN0YXRlO1xuICAgICAgICAgICAgICAgIHRoaXMuX25vdGlmeU9ic2VydmVycygpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIGNvbXBsZXRlVHJhbnNpdGlvbnNfKCkge1xuICAgICAgICBzd2l0Y2ggKHRoaXMuX3N0YXRlKSB7XG4gICAgICAgICAgICBjYXNlIFwicGF1c2luZ1wiIC8qIEludGVybmFsVGFza1N0YXRlLlBBVVNJTkcgKi86XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbihcInBhdXNlZFwiIC8qIEludGVybmFsVGFza1N0YXRlLlBBVVNFRCAqLyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwiY2FuY2VsaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuQ0FOQ0VMSU5HICovOlxuICAgICAgICAgICAgICAgIHRoaXMuX3RyYW5zaXRpb24oXCJjYW5jZWxlZFwiIC8qIEludGVybmFsVGFza1N0YXRlLkNBTkNFTEVEICovKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCJydW5uaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUlVOTklORyAqLzpcbiAgICAgICAgICAgICAgICB0aGlzLl9zdGFydCgpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgc25hcHNob3Qgb2YgdGhlIGN1cnJlbnQgdGFzayBzdGF0ZS5cbiAgICAgKi9cbiAgICBnZXQgc25hcHNob3QoKSB7XG4gICAgICAgIGNvbnN0IGV4dGVybmFsU3RhdGUgPSB0YXNrU3RhdGVGcm9tSW50ZXJuYWxUYXNrU3RhdGUodGhpcy5fc3RhdGUpO1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgICAgYnl0ZXNUcmFuc2ZlcnJlZDogdGhpcy5fdHJhbnNmZXJyZWQsXG4gICAgICAgICAgICB0b3RhbEJ5dGVzOiB0aGlzLl9ibG9iLnNpemUoKSxcbiAgICAgICAgICAgIHN0YXRlOiBleHRlcm5hbFN0YXRlLFxuICAgICAgICAgICAgbWV0YWRhdGE6IHRoaXMuX21ldGFkYXRhLFxuICAgICAgICAgICAgdGFzazogdGhpcyxcbiAgICAgICAgICAgIHJlZjogdGhpcy5fcmVmXG4gICAgICAgIH07XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEFkZHMgYSBjYWxsYmFjayBmb3IgYW4gZXZlbnQuXG4gICAgICogQHBhcmFtIHR5cGUgLSBUaGUgdHlwZSBvZiBldmVudCB0byBsaXN0ZW4gZm9yLlxuICAgICAqIEBwYXJhbSBuZXh0T3JPYnNlcnZlciAtXG4gICAgICogICAgIFRoZSBgbmV4dGAgZnVuY3Rpb24sIHdoaWNoIGdldHMgY2FsbGVkIGZvciBlYWNoIGl0ZW0gaW5cbiAgICAgKiAgICAgdGhlIGV2ZW50IHN0cmVhbSwgb3IgYW4gb2JzZXJ2ZXIgb2JqZWN0IHdpdGggc29tZSBvciBhbGwgb2YgdGhlc2UgdGhyZWVcbiAgICAgKiAgICAgcHJvcGVydGllcyAoYG5leHRgLCBgZXJyb3JgLCBgY29tcGxldGVgKS5cbiAgICAgKiBAcGFyYW0gZXJyb3IgLSBBIGZ1bmN0aW9uIHRoYXQgZ2V0cyBjYWxsZWQgd2l0aCBhIGBTdG9yYWdlRXJyb3JgXG4gICAgICogICAgIGlmIHRoZSBldmVudCBzdHJlYW0gZW5kcyBkdWUgdG8gYW4gZXJyb3IuXG4gICAgICogQHBhcmFtIGNvbXBsZXRlZCAtIEEgZnVuY3Rpb24gdGhhdCBnZXRzIGNhbGxlZCBpZiB0aGVcbiAgICAgKiAgICAgZXZlbnQgc3RyZWFtIGVuZHMgbm9ybWFsbHkuXG4gICAgICogQHJldHVybnNcbiAgICAgKiAgICAgSWYgb25seSB0aGUgZXZlbnQgYXJndW1lbnQgaXMgcGFzc2VkLCByZXR1cm5zIGEgZnVuY3Rpb24geW91IGNhbiB1c2UgdG9cbiAgICAgKiAgICAgYWRkIGNhbGxiYWNrcyAoc2VlIHRoZSBleGFtcGxlcyBhYm92ZSkuIElmIG1vcmUgdGhhbiBqdXN0IHRoZSBldmVudFxuICAgICAqICAgICBhcmd1bWVudCBpcyBwYXNzZWQsIHJldHVybnMgYSBmdW5jdGlvbiB5b3UgY2FuIGNhbGwgdG8gdW5yZWdpc3RlciB0aGVcbiAgICAgKiAgICAgY2FsbGJhY2tzLlxuICAgICAqL1xuICAgIG9uKHR5cGUsIG5leHRPck9ic2VydmVyLCBlcnJvciwgY29tcGxldGVkKSB7XG4gICAgICAgIC8vIE5vdGU6IGB0eXBlYCBpc24ndCBiZWluZyB1c2VkLiBJdHMgdHlwZSBpcyBhbHNvIGluY29ycmVjdC4gVGFza0V2ZW50IHNob3VsZCBub3QgYmUgYSBzdHJpbmcuXG4gICAgICAgIGNvbnN0IG9ic2VydmVyID0gbmV3IE9ic2VydmVyKG5leHRPck9ic2VydmVyIHx8IHVuZGVmaW5lZCwgZXJyb3IgfHwgdW5kZWZpbmVkLCBjb21wbGV0ZWQgfHwgdW5kZWZpbmVkKTtcbiAgICAgICAgdGhpcy5fYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgICAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5fcmVtb3ZlT2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgICAgICB9O1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGlzIG9iamVjdCBiZWhhdmVzIGxpa2UgYSBQcm9taXNlLCBhbmQgcmVzb2x2ZXMgd2l0aCBpdHMgc25hcHNob3QgZGF0YVxuICAgICAqIHdoZW4gdGhlIHVwbG9hZCBjb21wbGV0ZXMuXG4gICAgICogQHBhcmFtIG9uRnVsZmlsbGVkIC0gVGhlIGZ1bGZpbGxtZW50IGNhbGxiYWNrLiBQcm9taXNlIGNoYWluaW5nIHdvcmtzIGFzIG5vcm1hbC5cbiAgICAgKiBAcGFyYW0gb25SZWplY3RlZCAtIFRoZSByZWplY3Rpb24gY2FsbGJhY2suXG4gICAgICovXG4gICAgdGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCkge1xuICAgICAgICAvLyBUaGVzZSBjYXN0cyBhcmUgbmVlZGVkIHNvIHRoYXQgVHlwZVNjcmlwdCBjYW4gaW5mZXIgdGhlIHR5cGVzIG9mIHRoZVxuICAgICAgICAvLyByZXN1bHRpbmcgUHJvbWlzZS5cbiAgICAgICAgcmV0dXJuIHRoaXMuX3Byb21pc2UudGhlbihvbkZ1bGZpbGxlZCwgb25SZWplY3RlZCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEVxdWl2YWxlbnQgdG8gY2FsbGluZyBgdGhlbihudWxsLCBvblJlamVjdGVkKWAuXG4gICAgICovXG4gICAgY2F0Y2gob25SZWplY3RlZCkge1xuICAgICAgICByZXR1cm4gdGhpcy50aGVuKG51bGwsIG9uUmVqZWN0ZWQpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBZGRzIHRoZSBnaXZlbiBvYnNlcnZlci5cbiAgICAgKi9cbiAgICBfYWRkT2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgdGhpcy5fb2JzZXJ2ZXJzLnB1c2gob2JzZXJ2ZXIpO1xuICAgICAgICB0aGlzLl9ub3RpZnlPYnNlcnZlcihvYnNlcnZlcik7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgdGhlIGdpdmVuIG9ic2VydmVyLlxuICAgICAqL1xuICAgIF9yZW1vdmVPYnNlcnZlcihvYnNlcnZlcikge1xuICAgICAgICBjb25zdCBpID0gdGhpcy5fb2JzZXJ2ZXJzLmluZGV4T2Yob2JzZXJ2ZXIpO1xuICAgICAgICBpZiAoaSAhPT0gLTEpIHtcbiAgICAgICAgICAgIHRoaXMuX29ic2VydmVycy5zcGxpY2UoaSwgMSk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgX25vdGlmeU9ic2VydmVycygpIHtcbiAgICAgICAgdGhpcy5fZmluaXNoUHJvbWlzZSgpO1xuICAgICAgICBjb25zdCBvYnNlcnZlcnMgPSB0aGlzLl9vYnNlcnZlcnMuc2xpY2UoKTtcbiAgICAgICAgb2JzZXJ2ZXJzLmZvckVhY2gob2JzZXJ2ZXIgPT4ge1xuICAgICAgICAgICAgdGhpcy5fbm90aWZ5T2JzZXJ2ZXIob2JzZXJ2ZXIpO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgX2ZpbmlzaFByb21pc2UoKSB7XG4gICAgICAgIGlmICh0aGlzLl9yZXNvbHZlICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIGxldCB0cmlnZ2VyZWQgPSB0cnVlO1xuICAgICAgICAgICAgc3dpdGNoICh0YXNrU3RhdGVGcm9tSW50ZXJuYWxUYXNrU3RhdGUodGhpcy5fc3RhdGUpKSB7XG4gICAgICAgICAgICAgICAgY2FzZSBUYXNrU3RhdGUuU1VDQ0VTUzpcbiAgICAgICAgICAgICAgICAgICAgYXN5bmModGhpcy5fcmVzb2x2ZS5iaW5kKG51bGwsIHRoaXMuc25hcHNob3QpKSgpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICBjYXNlIFRhc2tTdGF0ZS5DQU5DRUxFRDpcbiAgICAgICAgICAgICAgICBjYXNlIFRhc2tTdGF0ZS5FUlJPUjpcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdG9DYWxsID0gdGhpcy5fcmVqZWN0O1xuICAgICAgICAgICAgICAgICAgICBhc3luYyh0b0NhbGwuYmluZChudWxsLCB0aGlzLl9lcnJvcikpKCk7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAgICAgIHRyaWdnZXJlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICh0cmlnZ2VyZWQpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9yZXNvbHZlID0gdW5kZWZpbmVkO1xuICAgICAgICAgICAgICAgIHRoaXMuX3JlamVjdCA9IHVuZGVmaW5lZDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBfbm90aWZ5T2JzZXJ2ZXIob2JzZXJ2ZXIpIHtcbiAgICAgICAgY29uc3QgZXh0ZXJuYWxTdGF0ZSA9IHRhc2tTdGF0ZUZyb21JbnRlcm5hbFRhc2tTdGF0ZSh0aGlzLl9zdGF0ZSk7XG4gICAgICAgIHN3aXRjaCAoZXh0ZXJuYWxTdGF0ZSkge1xuICAgICAgICAgICAgY2FzZSBUYXNrU3RhdGUuUlVOTklORzpcbiAgICAgICAgICAgIGNhc2UgVGFza1N0YXRlLlBBVVNFRDpcbiAgICAgICAgICAgICAgICBpZiAob2JzZXJ2ZXIubmV4dCkge1xuICAgICAgICAgICAgICAgICAgICBhc3luYyhvYnNlcnZlci5uZXh0LmJpbmQob2JzZXJ2ZXIsIHRoaXMuc25hcHNob3QpKSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGFza1N0YXRlLlNVQ0NFU1M6XG4gICAgICAgICAgICAgICAgaWYgKG9ic2VydmVyLmNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jKG9ic2VydmVyLmNvbXBsZXRlLmJpbmQob2JzZXJ2ZXIpKSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgVGFza1N0YXRlLkNBTkNFTEVEOlxuICAgICAgICAgICAgY2FzZSBUYXNrU3RhdGUuRVJST1I6XG4gICAgICAgICAgICAgICAgaWYgKG9ic2VydmVyLmVycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgIGFzeW5jKG9ic2VydmVyLmVycm9yLmJpbmQob2JzZXJ2ZXIsIHRoaXMuX2Vycm9yKSkoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgIC8vIFRPRE8oYW5keXNvdG8pOiBhc3NlcnQoZmFsc2UpO1xuICAgICAgICAgICAgICAgIGlmIChvYnNlcnZlci5lcnJvcikge1xuICAgICAgICAgICAgICAgICAgICBhc3luYyhvYnNlcnZlci5lcnJvci5iaW5kKG9ic2VydmVyLCB0aGlzLl9lcnJvcikpKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFJlc3VtZXMgYSBwYXVzZWQgdGFzay4gSGFzIG5vIGVmZmVjdCBvbiBhIGN1cnJlbnRseSBydW5uaW5nIG9yIGZhaWxlZCB0YXNrLlxuICAgICAqIEByZXR1cm5zIFRydWUgaWYgdGhlIG9wZXJhdGlvbiB0b29rIGVmZmVjdCwgZmFsc2UgaWYgaWdub3JlZC5cbiAgICAgKi9cbiAgICByZXN1bWUoKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gdGhpcy5fc3RhdGUgPT09IFwicGF1c2VkXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUEFVU0VEICovIHx8XG4gICAgICAgICAgICB0aGlzLl9zdGF0ZSA9PT0gXCJwYXVzaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUEFVU0lORyAqLztcbiAgICAgICAgaWYgKHZhbGlkKSB7XG4gICAgICAgICAgICB0aGlzLl90cmFuc2l0aW9uKFwicnVubmluZ1wiIC8qIEludGVybmFsVGFza1N0YXRlLlJVTk5JTkcgKi8pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2YWxpZDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogUGF1c2VzIGEgY3VycmVudGx5IHJ1bm5pbmcgdGFzay4gSGFzIG5vIGVmZmVjdCBvbiBhIHBhdXNlZCBvciBmYWlsZWQgdGFzay5cbiAgICAgKiBAcmV0dXJucyBUcnVlIGlmIHRoZSBvcGVyYXRpb24gdG9vayBlZmZlY3QsIGZhbHNlIGlmIGlnbm9yZWQuXG4gICAgICovXG4gICAgcGF1c2UoKSB7XG4gICAgICAgIGNvbnN0IHZhbGlkID0gdGhpcy5fc3RhdGUgPT09IFwicnVubmluZ1wiIC8qIEludGVybmFsVGFza1N0YXRlLlJVTk5JTkcgKi87XG4gICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbihcInBhdXNpbmdcIiAvKiBJbnRlcm5hbFRhc2tTdGF0ZS5QQVVTSU5HICovKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdmFsaWQ7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIENhbmNlbHMgYSBjdXJyZW50bHkgcnVubmluZyBvciBwYXVzZWQgdGFzay4gSGFzIG5vIGVmZmVjdCBvbiBhIGNvbXBsZXRlIG9yXG4gICAgICogZmFpbGVkIHRhc2suXG4gICAgICogQHJldHVybnMgVHJ1ZSBpZiB0aGUgb3BlcmF0aW9uIHRvb2sgZWZmZWN0LCBmYWxzZSBpZiBpZ25vcmVkLlxuICAgICAqL1xuICAgIGNhbmNlbCgpIHtcbiAgICAgICAgY29uc3QgdmFsaWQgPSB0aGlzLl9zdGF0ZSA9PT0gXCJydW5uaW5nXCIgLyogSW50ZXJuYWxUYXNrU3RhdGUuUlVOTklORyAqLyB8fFxuICAgICAgICAgICAgdGhpcy5fc3RhdGUgPT09IFwicGF1c2luZ1wiIC8qIEludGVybmFsVGFza1N0YXRlLlBBVVNJTkcgKi87XG4gICAgICAgIGlmICh2YWxpZCkge1xuICAgICAgICAgICAgdGhpcy5fdHJhbnNpdGlvbihcImNhbmNlbGluZ1wiIC8qIEludGVybmFsVGFza1N0YXRlLkNBTkNFTElORyAqLyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHZhbGlkO1xuICAgIH1cbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTkgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbi8qKlxuICogUHJvdmlkZXMgbWV0aG9kcyB0byBpbnRlcmFjdCB3aXRoIGEgYnVja2V0IGluIHRoZSBGaXJlYmFzZSBTdG9yYWdlIHNlcnZpY2UuXG4gKiBAaW50ZXJuYWxcbiAqIEBwYXJhbSBfbG9jYXRpb24gLSBBbiBmYnMubG9jYXRpb24sIG9yIHRoZSBVUkwgYXRcbiAqICAgICB3aGljaCB0byBiYXNlIHRoaXMgb2JqZWN0LCBpbiBvbmUgb2YgdGhlIGZvbGxvd2luZyBmb3JtczpcbiAqICAgICAgICAgZ3M6Ly88YnVja2V0Pi88b2JqZWN0LXBhdGg+XG4gKiAgICAgICAgIGh0dHBbc106Ly9maXJlYmFzZXN0b3JhZ2UuZ29vZ2xlYXBpcy5jb20vXG4gKiAgICAgICAgICAgICAgICAgICAgIDxhcGktdmVyc2lvbj4vYi88YnVja2V0Pi9vLzxvYmplY3QtcGF0aD5cbiAqICAgICBBbnkgcXVlcnkgb3IgZnJhZ21lbnQgc3RyaW5ncyB3aWxsIGJlIGlnbm9yZWQgaW4gdGhlIGh0dHBbc11cbiAqICAgICBmb3JtYXQuIElmIG5vIHZhbHVlIGlzIHBhc3NlZCwgdGhlIHN0b3JhZ2Ugb2JqZWN0IHdpbGwgdXNlIGEgVVJMIGJhc2VkIG9uXG4gKiAgICAgdGhlIHByb2plY3QgSUQgb2YgdGhlIGJhc2UgZmlyZWJhc2UuQXBwIGluc3RhbmNlLlxuICovXG5jbGFzcyBSZWZlcmVuY2Uge1xuICAgIGNvbnN0cnVjdG9yKF9zZXJ2aWNlLCBsb2NhdGlvbikge1xuICAgICAgICB0aGlzLl9zZXJ2aWNlID0gX3NlcnZpY2U7XG4gICAgICAgIGlmIChsb2NhdGlvbiBpbnN0YW5jZW9mIExvY2F0aW9uKSB7XG4gICAgICAgICAgICB0aGlzLl9sb2NhdGlvbiA9IGxvY2F0aW9uO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgdGhpcy5fbG9jYXRpb24gPSBMb2NhdGlvbi5tYWtlRnJvbVVybChsb2NhdGlvbiwgX3NlcnZpY2UuaG9zdCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgLyoqXG4gICAgICogUmV0dXJucyB0aGUgVVJMIGZvciB0aGUgYnVja2V0IGFuZCBwYXRoIHRoaXMgb2JqZWN0IHJlZmVyZW5jZXMsXG4gICAgICogICAgIGluIHRoZSBmb3JtIGdzOi8vPGJ1Y2tldD4vPG9iamVjdC1wYXRoPlxuICAgICAqIEBvdmVycmlkZVxuICAgICAqL1xuICAgIHRvU3RyaW5nKCkge1xuICAgICAgICByZXR1cm4gJ2dzOi8vJyArIHRoaXMuX2xvY2F0aW9uLmJ1Y2tldCArICcvJyArIHRoaXMuX2xvY2F0aW9uLnBhdGg7XG4gICAgfVxuICAgIF9uZXdSZWYoc2VydmljZSwgbG9jYXRpb24pIHtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2Uoc2VydmljZSwgbG9jYXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBBIHJlZmVyZW5jZSB0byB0aGUgcm9vdCBvZiB0aGlzIG9iamVjdCdzIGJ1Y2tldC5cbiAgICAgKi9cbiAgICBnZXQgcm9vdCgpIHtcbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBuZXcgTG9jYXRpb24odGhpcy5fbG9jYXRpb24uYnVja2V0LCAnJyk7XG4gICAgICAgIHJldHVybiB0aGlzLl9uZXdSZWYodGhpcy5fc2VydmljZSwgbG9jYXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgbmFtZSBvZiB0aGUgYnVja2V0IGNvbnRhaW5pbmcgdGhpcyByZWZlcmVuY2UncyBvYmplY3QuXG4gICAgICovXG4gICAgZ2V0IGJ1Y2tldCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2xvY2F0aW9uLmJ1Y2tldDtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIGZ1bGwgcGF0aCBvZiB0aGlzIG9iamVjdC5cbiAgICAgKi9cbiAgICBnZXQgZnVsbFBhdGgoKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9sb2NhdGlvbi5wYXRoO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBUaGUgc2hvcnQgbmFtZSBvZiB0aGlzIG9iamVjdCwgd2hpY2ggaXMgdGhlIGxhc3QgY29tcG9uZW50IG9mIHRoZSBmdWxsIHBhdGguXG4gICAgICogRm9yIGV4YW1wbGUsIGlmIGZ1bGxQYXRoIGlzICdmdWxsL3BhdGgvaW1hZ2UucG5nJywgbmFtZSBpcyAnaW1hZ2UucG5nJy5cbiAgICAgKi9cbiAgICBnZXQgbmFtZSgpIHtcbiAgICAgICAgcmV0dXJuIGxhc3RDb21wb25lbnQodGhpcy5fbG9jYXRpb24ucGF0aCk7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBgU3RvcmFnZVNlcnZpY2VgIGluc3RhbmNlIHRoaXMgYFN0b3JhZ2VSZWZlcmVuY2VgIGlzIGFzc29jaWF0ZWQgd2l0aC5cbiAgICAgKi9cbiAgICBnZXQgc3RvcmFnZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3NlcnZpY2U7XG4gICAgfVxuICAgIC8qKlxuICAgICAqIEEgYFN0b3JhZ2VSZWZlcmVuY2VgIHBvaW50aW5nIHRvIHRoZSBwYXJlbnQgbG9jYXRpb24gb2YgdGhpcyBgU3RvcmFnZVJlZmVyZW5jZWAsIG9yIG51bGwgaWZcbiAgICAgKiB0aGlzIHJlZmVyZW5jZSBpcyB0aGUgcm9vdC5cbiAgICAgKi9cbiAgICBnZXQgcGFyZW50KCkge1xuICAgICAgICBjb25zdCBuZXdQYXRoID0gcGFyZW50KHRoaXMuX2xvY2F0aW9uLnBhdGgpO1xuICAgICAgICBpZiAobmV3UGF0aCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbG9jYXRpb24gPSBuZXcgTG9jYXRpb24odGhpcy5fbG9jYXRpb24uYnVja2V0LCBuZXdQYXRoKTtcbiAgICAgICAgcmV0dXJuIG5ldyBSZWZlcmVuY2UodGhpcy5fc2VydmljZSwgbG9jYXRpb24pO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBVdGlsaXR5IGZ1bmN0aW9uIHRvIHRocm93IGFuIGVycm9yIGluIG1ldGhvZHMgdGhhdCBkbyBub3QgYWNjZXB0IGEgcm9vdCByZWZlcmVuY2UuXG4gICAgICovXG4gICAgX3Rocm93SWZSb290KG5hbWUpIHtcbiAgICAgICAgaWYgKHRoaXMuX2xvY2F0aW9uLnBhdGggPT09ICcnKSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkUm9vdE9wZXJhdGlvbihuYW1lKTtcbiAgICAgICAgfVxuICAgIH1cbn1cbi8qKlxuICogRG93bmxvYWQgdGhlIGJ5dGVzIGF0IHRoZSBvYmplY3QncyBsb2NhdGlvbi5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSBjb250YWluaW5nIHRoZSBkb3dubG9hZGVkIGJ5dGVzLlxuICovXG5mdW5jdGlvbiBnZXRCeXRlc0ludGVybmFsKHJlZiwgbWF4RG93bmxvYWRTaXplQnl0ZXMpIHtcbiAgICByZWYuX3Rocm93SWZSb290KCdnZXRCeXRlcycpO1xuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gZ2V0Qnl0ZXMkMShyZWYuc3RvcmFnZSwgcmVmLl9sb2NhdGlvbiwgbWF4RG93bmxvYWRTaXplQnl0ZXMpO1xuICAgIHJldHVybiByZWYuc3RvcmFnZVxuICAgICAgICAubWFrZVJlcXVlc3RXaXRoVG9rZW5zKHJlcXVlc3RJbmZvLCBuZXdCeXRlc0Nvbm5lY3Rpb24pXG4gICAgICAgIC50aGVuKGJ5dGVzID0+IG1heERvd25sb2FkU2l6ZUJ5dGVzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyAvLyBHQ1MgbWF5IG5vdCBob25vciB0aGUgUmFuZ2UgaGVhZGVyIGZvciBzbWFsbCBmaWxlc1xuICAgICAgICAgICAgYnl0ZXMuc2xpY2UoMCwgbWF4RG93bmxvYWRTaXplQnl0ZXMpXG4gICAgICAgIDogYnl0ZXMpO1xufVxuLyoqXG4gKiBEb3dubG9hZCB0aGUgYnl0ZXMgYXQgdGhlIG9iamVjdCdzIGxvY2F0aW9uLlxuICogQHJldHVybnMgQSBQcm9taXNlIGNvbnRhaW5pbmcgdGhlIGRvd25sb2FkZWQgYmxvYi5cbiAqL1xuZnVuY3Rpb24gZ2V0QmxvYkludGVybmFsKHJlZiwgbWF4RG93bmxvYWRTaXplQnl0ZXMpIHtcbiAgICByZWYuX3Rocm93SWZSb290KCdnZXRCbG9iJyk7XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBnZXRCeXRlcyQxKHJlZi5zdG9yYWdlLCByZWYuX2xvY2F0aW9uLCBtYXhEb3dubG9hZFNpemVCeXRlcyk7XG4gICAgcmV0dXJuIHJlZi5zdG9yYWdlXG4gICAgICAgIC5tYWtlUmVxdWVzdFdpdGhUb2tlbnMocmVxdWVzdEluZm8sIG5ld0Jsb2JDb25uZWN0aW9uKVxuICAgICAgICAudGhlbihibG9iID0+IG1heERvd25sb2FkU2l6ZUJ5dGVzICE9PSB1bmRlZmluZWRcbiAgICAgICAgPyAvLyBHQ1MgbWF5IG5vdCBob25vciB0aGUgUmFuZ2UgaGVhZGVyIGZvciBzbWFsbCBmaWxlc1xuICAgICAgICAgICAgYmxvYi5zbGljZSgwLCBtYXhEb3dubG9hZFNpemVCeXRlcylcbiAgICAgICAgOiBibG9iKTtcbn1cbi8qKlxuICogVXBsb2FkcyBkYXRhIHRvIHRoaXMgb2JqZWN0J3MgbG9jYXRpb24uXG4gKiBUaGUgdXBsb2FkIGlzIG5vdCByZXN1bWFibGUuXG4gKlxuICogQHBhcmFtIHJlZiAtIFN0b3JhZ2VSZWZlcmVuY2Ugd2hlcmUgZGF0YSBzaG91bGQgYmUgdXBsb2FkZWQuXG4gKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSBtZXRhZGF0YSAtIE1ldGFkYXRhIGZvciB0aGUgbmV3bHkgdXBsb2FkZWQgZGF0YS5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSBjb250YWluaW5nIGFuIFVwbG9hZFJlc3VsdFxuICovXG5mdW5jdGlvbiB1cGxvYWRCeXRlcyQxKHJlZiwgZGF0YSwgbWV0YWRhdGEpIHtcbiAgICByZWYuX3Rocm93SWZSb290KCd1cGxvYWRCeXRlcycpO1xuICAgIGNvbnN0IHJlcXVlc3RJbmZvID0gbXVsdGlwYXJ0VXBsb2FkKHJlZi5zdG9yYWdlLCByZWYuX2xvY2F0aW9uLCBnZXRNYXBwaW5ncygpLCBuZXcgRmJzQmxvYihkYXRhLCB0cnVlKSwgbWV0YWRhdGEpO1xuICAgIHJldHVybiByZWYuc3RvcmFnZVxuICAgICAgICAubWFrZVJlcXVlc3RXaXRoVG9rZW5zKHJlcXVlc3RJbmZvLCBuZXdUZXh0Q29ubmVjdGlvbilcbiAgICAgICAgLnRoZW4oZmluYWxNZXRhZGF0YSA9PiB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgICBtZXRhZGF0YTogZmluYWxNZXRhZGF0YSxcbiAgICAgICAgICAgIHJlZlxuICAgICAgICB9O1xuICAgIH0pO1xufVxuLyoqXG4gKiBVcGxvYWRzIGRhdGEgdG8gdGhpcyBvYmplY3QncyBsb2NhdGlvbi5cbiAqIFRoZSB1cGxvYWQgY2FuIGJlIHBhdXNlZCBhbmQgcmVzdW1lZCwgYW5kIGV4cG9zZXMgcHJvZ3Jlc3MgdXBkYXRlcy5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSByZWYgLSBTdG9yYWdlUmVmZXJlbmNlIHdoZXJlIGRhdGEgc2hvdWxkIGJlIHVwbG9hZGVkLlxuICogQHBhcmFtIGRhdGEgLSBUaGUgZGF0YSB0byB1cGxvYWQuXG4gKiBAcGFyYW0gbWV0YWRhdGEgLSBNZXRhZGF0YSBmb3IgdGhlIG5ld2x5IHVwbG9hZGVkIGRhdGEuXG4gKiBAcmV0dXJucyBBbiBVcGxvYWRUYXNrXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEJ5dGVzUmVzdW1hYmxlJDEocmVmLCBkYXRhLCBtZXRhZGF0YSkge1xuICAgIHJlZi5fdGhyb3dJZlJvb3QoJ3VwbG9hZEJ5dGVzUmVzdW1hYmxlJyk7XG4gICAgcmV0dXJuIG5ldyBVcGxvYWRUYXNrKHJlZiwgbmV3IEZic0Jsb2IoZGF0YSksIG1ldGFkYXRhKTtcbn1cbi8qKlxuICogVXBsb2FkcyBhIHN0cmluZyB0byB0aGlzIG9iamVjdCdzIGxvY2F0aW9uLlxuICogVGhlIHVwbG9hZCBpcyBub3QgcmVzdW1hYmxlLlxuICogQHB1YmxpY1xuICogQHBhcmFtIHJlZiAtIFN0b3JhZ2VSZWZlcmVuY2Ugd2hlcmUgc3RyaW5nIHNob3VsZCBiZSB1cGxvYWRlZC5cbiAqIEBwYXJhbSB2YWx1ZSAtIFRoZSBzdHJpbmcgdG8gdXBsb2FkLlxuICogQHBhcmFtIGZvcm1hdCAtIFRoZSBmb3JtYXQgb2YgdGhlIHN0cmluZyB0byB1cGxvYWQuXG4gKiBAcGFyYW0gbWV0YWRhdGEgLSBNZXRhZGF0YSBmb3IgdGhlIG5ld2x5IHVwbG9hZGVkIHN0cmluZy5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSBjb250YWluaW5nIGFuIFVwbG9hZFJlc3VsdFxuICovXG5mdW5jdGlvbiB1cGxvYWRTdHJpbmckMShyZWYsIHZhbHVlLCBmb3JtYXQgPSBTdHJpbmdGb3JtYXQuUkFXLCBtZXRhZGF0YSkge1xuICAgIHJlZi5fdGhyb3dJZlJvb3QoJ3VwbG9hZFN0cmluZycpO1xuICAgIGNvbnN0IGRhdGEgPSBkYXRhRnJvbVN0cmluZyhmb3JtYXQsIHZhbHVlKTtcbiAgICBjb25zdCBtZXRhZGF0YUNsb25lID0geyAuLi5tZXRhZGF0YSB9O1xuICAgIGlmIChtZXRhZGF0YUNsb25lWydjb250ZW50VHlwZSddID09IG51bGwgJiYgZGF0YS5jb250ZW50VHlwZSAhPSBudWxsKSB7XG4gICAgICAgIG1ldGFkYXRhQ2xvbmVbJ2NvbnRlbnRUeXBlJ10gPSBkYXRhLmNvbnRlbnRUeXBlO1xuICAgIH1cbiAgICByZXR1cm4gdXBsb2FkQnl0ZXMkMShyZWYsIGRhdGEuZGF0YSwgbWV0YWRhdGFDbG9uZSk7XG59XG4vKipcbiAqIExpc3QgYWxsIGl0ZW1zIChmaWxlcykgYW5kIHByZWZpeGVzIChmb2xkZXJzKSB1bmRlciB0aGlzIHN0b3JhZ2UgcmVmZXJlbmNlLlxuICpcbiAqIFRoaXMgaXMgYSBoZWxwZXIgbWV0aG9kIGZvciBjYWxsaW5nIGxpc3QoKSByZXBlYXRlZGx5IHVudGlsIHRoZXJlIGFyZVxuICogbm8gbW9yZSByZXN1bHRzLiBUaGUgZGVmYXVsdCBwYWdpbmF0aW9uIHNpemUgaXMgMTAwMC5cbiAqXG4gKiBOb3RlOiBUaGUgcmVzdWx0cyBtYXkgbm90IGJlIGNvbnNpc3RlbnQgaWYgb2JqZWN0cyBhcmUgY2hhbmdlZCB3aGlsZSB0aGlzXG4gKiBvcGVyYXRpb24gaXMgcnVubmluZy5cbiAqXG4gKiBXYXJuaW5nOiBsaXN0QWxsIG1heSBwb3RlbnRpYWxseSBjb25zdW1lIHRvbyBtYW55IHJlc291cmNlcyBpZiB0aGVyZSBhcmVcbiAqIHRvbyBtYW55IHJlc3VsdHMuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gcmVmIC0gU3RvcmFnZVJlZmVyZW5jZSB0byBnZXQgbGlzdCBmcm9tLlxuICpcbiAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYWxsIHRoZSBpdGVtcyBhbmQgcHJlZml4ZXMgdW5kZXJcbiAqICAgICAgdGhlIGN1cnJlbnQgc3RvcmFnZSByZWZlcmVuY2UuIGBwcmVmaXhlc2AgY29udGFpbnMgcmVmZXJlbmNlcyB0b1xuICogICAgICBzdWItZGlyZWN0b3JpZXMgYW5kIGBpdGVtc2AgY29udGFpbnMgcmVmZXJlbmNlcyB0byBvYmplY3RzIGluIHRoaXNcbiAqICAgICAgZm9sZGVyLiBgbmV4dFBhZ2VUb2tlbmAgaXMgbmV2ZXIgcmV0dXJuZWQuXG4gKi9cbmZ1bmN0aW9uIGxpc3RBbGwkMShyZWYpIHtcbiAgICBjb25zdCBhY2N1bXVsYXRvciA9IHtcbiAgICAgICAgcHJlZml4ZXM6IFtdLFxuICAgICAgICBpdGVtczogW11cbiAgICB9O1xuICAgIHJldHVybiBsaXN0QWxsSGVscGVyKHJlZiwgYWNjdW11bGF0b3IpLnRoZW4oKCkgPT4gYWNjdW11bGF0b3IpO1xufVxuLyoqXG4gKiBTZXBhcmF0ZWQgZnJvbSBsaXN0QWxsIGJlY2F1c2UgYXN5bmMgZnVuY3Rpb25zIGNhbid0IHVzZSBcImFyZ3VtZW50c1wiLlxuICogQHBhcmFtIHJlZlxuICogQHBhcmFtIGFjY3VtdWxhdG9yXG4gKiBAcGFyYW0gcGFnZVRva2VuXG4gKi9cbmFzeW5jIGZ1bmN0aW9uIGxpc3RBbGxIZWxwZXIocmVmLCBhY2N1bXVsYXRvciwgcGFnZVRva2VuKSB7XG4gICAgY29uc3Qgb3B0ID0ge1xuICAgICAgICAvLyBtYXhSZXN1bHRzIGlzIDEwMDAgYnkgZGVmYXVsdC5cbiAgICAgICAgcGFnZVRva2VuXG4gICAgfTtcbiAgICBjb25zdCBuZXh0UGFnZSA9IGF3YWl0IGxpc3QkMShyZWYsIG9wdCk7XG4gICAgYWNjdW11bGF0b3IucHJlZml4ZXMucHVzaCguLi5uZXh0UGFnZS5wcmVmaXhlcyk7XG4gICAgYWNjdW11bGF0b3IuaXRlbXMucHVzaCguLi5uZXh0UGFnZS5pdGVtcyk7XG4gICAgaWYgKG5leHRQYWdlLm5leHRQYWdlVG9rZW4gIT0gbnVsbCkge1xuICAgICAgICBhd2FpdCBsaXN0QWxsSGVscGVyKHJlZiwgYWNjdW11bGF0b3IsIG5leHRQYWdlLm5leHRQYWdlVG9rZW4pO1xuICAgIH1cbn1cbi8qKlxuICogTGlzdCBpdGVtcyAoZmlsZXMpIGFuZCBwcmVmaXhlcyAoZm9sZGVycykgdW5kZXIgdGhpcyBzdG9yYWdlIHJlZmVyZW5jZS5cbiAqXG4gKiBMaXN0IEFQSSBpcyBvbmx5IGF2YWlsYWJsZSBmb3IgRmlyZWJhc2UgUnVsZXMgVmVyc2lvbiAyLlxuICpcbiAqIEdDUyBpcyBhIGtleS1ibG9iIHN0b3JlLiBGaXJlYmFzZSBTdG9yYWdlIGltcG9zZXMgdGhlIHNlbWFudGljIG9mICcvJ1xuICogZGVsaW1pdGVkIGZvbGRlciBzdHJ1Y3R1cmUuXG4gKiBSZWZlciB0byBHQ1MncyBMaXN0IEFQSSBpZiB5b3Ugd2FudCB0byBsZWFybiBtb3JlLlxuICpcbiAqIFRvIGFkaGVyZSB0byBGaXJlYmFzZSBSdWxlcydzIFNlbWFudGljcywgRmlyZWJhc2UgU3RvcmFnZSBkb2VzIG5vdFxuICogc3VwcG9ydCBvYmplY3RzIHdob3NlIHBhdGhzIGVuZCB3aXRoIFwiL1wiIG9yIGNvbnRhaW4gdHdvIGNvbnNlY3V0aXZlXG4gKiBcIi9cInMuIEZpcmViYXNlIFN0b3JhZ2UgTGlzdCBBUEkgd2lsbCBmaWx0ZXIgdGhlc2UgdW5zdXBwb3J0ZWQgb2JqZWN0cy5cbiAqIGxpc3QoKSBtYXkgZmFpbCBpZiB0aGVyZSBhcmUgdG9vIG1hbnkgdW5zdXBwb3J0ZWQgb2JqZWN0cyBpbiB0aGUgYnVja2V0LlxuICogQHB1YmxpY1xuICpcbiAqIEBwYXJhbSByZWYgLSBTdG9yYWdlUmVmZXJlbmNlIHRvIGdldCBsaXN0IGZyb20uXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFNlZSBMaXN0T3B0aW9ucyBmb3IgZGV0YWlscy5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGl0ZW1zIGFuZCBwcmVmaXhlcy5cbiAqICAgICAgYHByZWZpeGVzYCBjb250YWlucyByZWZlcmVuY2VzIHRvIHN1Yi1mb2xkZXJzIGFuZCBgaXRlbXNgXG4gKiAgICAgIGNvbnRhaW5zIHJlZmVyZW5jZXMgdG8gb2JqZWN0cyBpbiB0aGlzIGZvbGRlci4gYG5leHRQYWdlVG9rZW5gXG4gKiAgICAgIGNhbiBiZSB1c2VkIHRvIGdldCB0aGUgcmVzdCBvZiB0aGUgcmVzdWx0cy5cbiAqL1xuZnVuY3Rpb24gbGlzdCQxKHJlZiwgb3B0aW9ucykge1xuICAgIGlmIChvcHRpb25zICE9IG51bGwpIHtcbiAgICAgICAgaWYgKHR5cGVvZiBvcHRpb25zLm1heFJlc3VsdHMgPT09ICdudW1iZXInKSB7XG4gICAgICAgICAgICB2YWxpZGF0ZU51bWJlcignb3B0aW9ucy5tYXhSZXN1bHRzJywgXG4gICAgICAgICAgICAvKiBtaW5WYWx1ZT0gKi8gMSwgXG4gICAgICAgICAgICAvKiBtYXhWYWx1ZT0gKi8gMTAwMCwgb3B0aW9ucy5tYXhSZXN1bHRzKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBjb25zdCBvcCA9IG9wdGlvbnMgfHwge307XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBsaXN0JDIocmVmLnN0b3JhZ2UsIHJlZi5fbG9jYXRpb24sIFxuICAgIC8qZGVsaW1pdGVyPSAqLyAnLycsIG9wLnBhZ2VUb2tlbiwgb3AubWF4UmVzdWx0cyk7XG4gICAgcmV0dXJuIHJlZi5zdG9yYWdlLm1ha2VSZXF1ZXN0V2l0aFRva2VucyhyZXF1ZXN0SW5mbywgbmV3VGV4dENvbm5lY3Rpb24pO1xufVxuLyoqXG4gKiBBIGBQcm9taXNlYCB0aGF0IHJlc29sdmVzIHdpdGggdGhlIG1ldGFkYXRhIGZvciB0aGlzIG9iamVjdC4gSWYgdGhpc1xuICogb2JqZWN0IGRvZXNuJ3QgZXhpc3Qgb3IgbWV0YWRhdGEgY2Fubm90IGJlIHJldHJpZXZlZCwgdGhlIHByb21pc2UgaXNcbiAqIHJlamVjdGVkLlxuICogQHB1YmxpY1xuICogQHBhcmFtIHJlZiAtIFN0b3JhZ2VSZWZlcmVuY2UgdG8gZ2V0IG1ldGFkYXRhIGZyb20uXG4gKi9cbmZ1bmN0aW9uIGdldE1ldGFkYXRhJDEocmVmKSB7XG4gICAgcmVmLl90aHJvd0lmUm9vdCgnZ2V0TWV0YWRhdGEnKTtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IGdldE1ldGFkYXRhJDIocmVmLnN0b3JhZ2UsIHJlZi5fbG9jYXRpb24sIGdldE1hcHBpbmdzKCkpO1xuICAgIHJldHVybiByZWYuc3RvcmFnZS5tYWtlUmVxdWVzdFdpdGhUb2tlbnMocmVxdWVzdEluZm8sIG5ld1RleHRDb25uZWN0aW9uKTtcbn1cbi8qKlxuICogVXBkYXRlcyB0aGUgbWV0YWRhdGEgZm9yIHRoaXMgb2JqZWN0LlxuICogQHB1YmxpY1xuICogQHBhcmFtIHJlZiAtIFN0b3JhZ2VSZWZlcmVuY2UgdG8gdXBkYXRlIG1ldGFkYXRhIGZvci5cbiAqIEBwYXJhbSBtZXRhZGF0YSAtIFRoZSBuZXcgbWV0YWRhdGEgZm9yIHRoZSBvYmplY3QuXG4gKiAgICAgT25seSB2YWx1ZXMgdGhhdCBoYXZlIGJlZW4gZXhwbGljaXRseSBzZXQgd2lsbCBiZSBjaGFuZ2VkLiBFeHBsaWNpdGx5XG4gKiAgICAgc2V0dGluZyBhIHZhbHVlIHRvIG51bGwgd2lsbCByZW1vdmUgdGhlIG1ldGFkYXRhLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlc1xuICogICAgIHdpdGggdGhlIG5ldyBtZXRhZGF0YSBmb3IgdGhpcyBvYmplY3QuXG4gKiAgICAgU2VlIGBmaXJlYmFzZVN0b3JhZ2UuUmVmZXJlbmNlLnByb3RvdHlwZS5nZXRNZXRhZGF0YWBcbiAqL1xuZnVuY3Rpb24gdXBkYXRlTWV0YWRhdGEkMShyZWYsIG1ldGFkYXRhKSB7XG4gICAgcmVmLl90aHJvd0lmUm9vdCgndXBkYXRlTWV0YWRhdGEnKTtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IHVwZGF0ZU1ldGFkYXRhJDIocmVmLnN0b3JhZ2UsIHJlZi5fbG9jYXRpb24sIG1ldGFkYXRhLCBnZXRNYXBwaW5ncygpKTtcbiAgICByZXR1cm4gcmVmLnN0b3JhZ2UubWFrZVJlcXVlc3RXaXRoVG9rZW5zKHJlcXVlc3RJbmZvLCBuZXdUZXh0Q29ubmVjdGlvbik7XG59XG4vKipcbiAqIFJldHVybnMgdGhlIGRvd25sb2FkIFVSTCBmb3IgdGhlIGdpdmVuIFJlZmVyZW5jZS5cbiAqIEBwdWJsaWNcbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgd2l0aCB0aGUgZG93bmxvYWRcbiAqICAgICBVUkwgZm9yIHRoaXMgb2JqZWN0LlxuICovXG5mdW5jdGlvbiBnZXREb3dubG9hZFVSTCQxKHJlZikge1xuICAgIHJlZi5fdGhyb3dJZlJvb3QoJ2dldERvd25sb2FkVVJMJyk7XG4gICAgY29uc3QgcmVxdWVzdEluZm8gPSBnZXREb3dubG9hZFVybChyZWYuc3RvcmFnZSwgcmVmLl9sb2NhdGlvbiwgZ2V0TWFwcGluZ3MoKSk7XG4gICAgcmV0dXJuIHJlZi5zdG9yYWdlXG4gICAgICAgIC5tYWtlUmVxdWVzdFdpdGhUb2tlbnMocmVxdWVzdEluZm8sIG5ld1RleHRDb25uZWN0aW9uKVxuICAgICAgICAudGhlbih1cmwgPT4ge1xuICAgICAgICBpZiAodXJsID09PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBub0Rvd25sb2FkVVJMKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVybDtcbiAgICB9KTtcbn1cbi8qKlxuICogRGVsZXRlcyB0aGUgb2JqZWN0IGF0IHRoaXMgbG9jYXRpb24uXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gcmVmIC0gU3RvcmFnZVJlZmVyZW5jZSBmb3Igb2JqZWN0IHRvIGRlbGV0ZS5cbiAqIEByZXR1cm5zIEEgYFByb21pc2VgIHRoYXQgcmVzb2x2ZXMgaWYgdGhlIGRlbGV0aW9uIHN1Y2NlZWRzLlxuICovXG5mdW5jdGlvbiBkZWxldGVPYmplY3QkMShyZWYpIHtcbiAgICByZWYuX3Rocm93SWZSb290KCdkZWxldGVPYmplY3QnKTtcbiAgICBjb25zdCByZXF1ZXN0SW5mbyA9IGRlbGV0ZU9iamVjdCQyKHJlZi5zdG9yYWdlLCByZWYuX2xvY2F0aW9uKTtcbiAgICByZXR1cm4gcmVmLnN0b3JhZ2UubWFrZVJlcXVlc3RXaXRoVG9rZW5zKHJlcXVlc3RJbmZvLCBuZXdUZXh0Q29ubmVjdGlvbik7XG59XG4vKipcbiAqIFJldHVybnMgcmVmZXJlbmNlIGZvciBvYmplY3Qgb2J0YWluZWQgYnkgYXBwZW5kaW5nIGBjaGlsZFBhdGhgIHRvIGByZWZgLlxuICpcbiAqIEBwYXJhbSByZWYgLSBTdG9yYWdlUmVmZXJlbmNlIHRvIGdldCBjaGlsZCBvZi5cbiAqIEBwYXJhbSBjaGlsZFBhdGggLSBDaGlsZCBwYXRoIGZyb20gcHJvdmlkZWQgcmVmLlxuICogQHJldHVybnMgQSByZWZlcmVuY2UgdG8gdGhlIG9iamVjdCBvYnRhaW5lZCBieVxuICogYXBwZW5kaW5nIGNoaWxkUGF0aCwgcmVtb3ZpbmcgYW55IGR1cGxpY2F0ZSwgYmVnaW5uaW5nLCBvciB0cmFpbGluZ1xuICogc2xhc2hlcy5cbiAqXG4gKi9cbmZ1bmN0aW9uIF9nZXRDaGlsZCQxKHJlZiwgY2hpbGRQYXRoKSB7XG4gICAgY29uc3QgbmV3UGF0aCA9IGNoaWxkKHJlZi5fbG9jYXRpb24ucGF0aCwgY2hpbGRQYXRoKTtcbiAgICBjb25zdCBsb2NhdGlvbiA9IG5ldyBMb2NhdGlvbihyZWYuX2xvY2F0aW9uLmJ1Y2tldCwgbmV3UGF0aCk7XG4gICAgcmV0dXJuIG5ldyBSZWZlcmVuY2UocmVmLnN0b3JhZ2UsIGxvY2F0aW9uKTtcbn1cblxuLyoqXG4gKiBAbGljZW5zZVxuICogQ29weXJpZ2h0IDIwMTcgR29vZ2xlIExMQ1xuICpcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcbiAqXG4gKiAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxuICpcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXG4gKi9cbmZ1bmN0aW9uIGlzVXJsKHBhdGgpIHtcbiAgICByZXR1cm4gL15bQS1aYS16XSs6XFwvXFwvLy50ZXN0KHBhdGgpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgZmlyZWJhc2VTdG9yYWdlLlJlZmVyZW5jZSBmb3IgdGhlIGdpdmVuIHVybC5cbiAqL1xuZnVuY3Rpb24gcmVmRnJvbVVSTChzZXJ2aWNlLCB1cmwpIHtcbiAgICByZXR1cm4gbmV3IFJlZmVyZW5jZShzZXJ2aWNlLCB1cmwpO1xufVxuLyoqXG4gKiBSZXR1cm5zIGEgZmlyZWJhc2VTdG9yYWdlLlJlZmVyZW5jZSBmb3IgdGhlIGdpdmVuIHBhdGggaW4gdGhlIGRlZmF1bHRcbiAqIGJ1Y2tldC5cbiAqL1xuZnVuY3Rpb24gcmVmRnJvbVBhdGgocmVmLCBwYXRoKSB7XG4gICAgaWYgKHJlZiBpbnN0YW5jZW9mIEZpcmViYXNlU3RvcmFnZUltcGwpIHtcbiAgICAgICAgY29uc3Qgc2VydmljZSA9IHJlZjtcbiAgICAgICAgaWYgKHNlcnZpY2UuX2J1Y2tldCA9PSBudWxsKSB7XG4gICAgICAgICAgICB0aHJvdyBub0RlZmF1bHRCdWNrZXQoKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCByZWZlcmVuY2UgPSBuZXcgUmVmZXJlbmNlKHNlcnZpY2UsIHNlcnZpY2UuX2J1Y2tldCk7XG4gICAgICAgIGlmIChwYXRoICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJldHVybiByZWZGcm9tUGF0aChyZWZlcmVuY2UsIHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlZmVyZW5jZTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgICAgLy8gcmVmIGlzIGEgUmVmZXJlbmNlXG4gICAgICAgIGlmIChwYXRoICE9PSB1bmRlZmluZWQpIHtcbiAgICAgICAgICAgIHJldHVybiBfZ2V0Q2hpbGQkMShyZWYsIHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHJlZjtcbiAgICAgICAgfVxuICAgIH1cbn1cbmZ1bmN0aW9uIHJlZiQxKHNlcnZpY2VPclJlZiwgcGF0aE9yVXJsKSB7XG4gICAgaWYgKHBhdGhPclVybCAmJiBpc1VybChwYXRoT3JVcmwpKSB7XG4gICAgICAgIGlmIChzZXJ2aWNlT3JSZWYgaW5zdGFuY2VvZiBGaXJlYmFzZVN0b3JhZ2VJbXBsKSB7XG4gICAgICAgICAgICByZXR1cm4gcmVmRnJvbVVSTChzZXJ2aWNlT3JSZWYsIHBhdGhPclVybCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBpbnZhbGlkQXJndW1lbnQoJ1RvIHVzZSByZWYoc2VydmljZSwgdXJsKSwgdGhlIGZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBTdG9yYWdlIGluc3RhbmNlLicpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICByZXR1cm4gcmVmRnJvbVBhdGgoc2VydmljZU9yUmVmLCBwYXRoT3JVcmwpO1xuICAgIH1cbn1cbmZ1bmN0aW9uIGV4dHJhY3RCdWNrZXQoaG9zdCwgY29uZmlnKSB7XG4gICAgY29uc3QgYnVja2V0U3RyaW5nID0gY29uZmlnPy5bQ09ORklHX1NUT1JBR0VfQlVDS0VUX0tFWV07XG4gICAgaWYgKGJ1Y2tldFN0cmluZyA9PSBudWxsKSB7XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICByZXR1cm4gTG9jYXRpb24ubWFrZUZyb21CdWNrZXRTcGVjKGJ1Y2tldFN0cmluZywgaG9zdCk7XG59XG5mdW5jdGlvbiBjb25uZWN0U3RvcmFnZUVtdWxhdG9yJDEoc3RvcmFnZSwgaG9zdCwgcG9ydCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgc3RvcmFnZS5ob3N0ID0gYCR7aG9zdH06JHtwb3J0fWA7XG4gICAgY29uc3QgdXNlU3NsID0gaXNDbG91ZFdvcmtzdGF0aW9uKGhvc3QpO1xuICAgIC8vIFdvcmthcm91bmQgdG8gZ2V0IGNvb2tpZXMgaW4gRmlyZWJhc2UgU3R1ZGlvXG4gICAgaWYgKHVzZVNzbCkge1xuICAgICAgICB2b2lkIHBpbmdTZXJ2ZXIoYGh0dHBzOi8vJHtzdG9yYWdlLmhvc3R9L2JgKTtcbiAgICAgICAgdXBkYXRlRW11bGF0b3JCYW5uZXIoJ1N0b3JhZ2UnLCB0cnVlKTtcbiAgICB9XG4gICAgc3RvcmFnZS5faXNVc2luZ0VtdWxhdG9yID0gdHJ1ZTtcbiAgICBzdG9yYWdlLl9wcm90b2NvbCA9IHVzZVNzbCA/ICdodHRwcycgOiAnaHR0cCc7XG4gICAgY29uc3QgeyBtb2NrVXNlclRva2VuIH0gPSBvcHRpb25zO1xuICAgIGlmIChtb2NrVXNlclRva2VuKSB7XG4gICAgICAgIHN0b3JhZ2UuX292ZXJyaWRlQXV0aFRva2VuID1cbiAgICAgICAgICAgIHR5cGVvZiBtb2NrVXNlclRva2VuID09PSAnc3RyaW5nJ1xuICAgICAgICAgICAgICAgID8gbW9ja1VzZXJUb2tlblxuICAgICAgICAgICAgICAgIDogY3JlYXRlTW9ja1VzZXJUb2tlbihtb2NrVXNlclRva2VuLCBzdG9yYWdlLmFwcC5vcHRpb25zLnByb2plY3RJZCk7XG4gICAgfVxufVxuLyoqXG4gKiBBIHNlcnZpY2UgdGhhdCBwcm92aWRlcyBGaXJlYmFzZSBTdG9yYWdlIFJlZmVyZW5jZSBpbnN0YW5jZXMuXG4gKiBAcGFyYW0gb3B0X3VybCAtIGdzOi8vIHVybCB0byBhIGN1c3RvbSBTdG9yYWdlIEJ1Y2tldFxuICpcbiAqIEBpbnRlcm5hbFxuICovXG5jbGFzcyBGaXJlYmFzZVN0b3JhZ2VJbXBsIHtcbiAgICBjb25zdHJ1Y3RvcihcbiAgICAvKipcbiAgICAgKiBGaXJlYmFzZUFwcCBhc3NvY2lhdGVkIHdpdGggdGhpcyBTdG9yYWdlU2VydmljZSBpbnN0YW5jZS5cbiAgICAgKi9cbiAgICBhcHAsIF9hdXRoUHJvdmlkZXIsIFxuICAgIC8qKlxuICAgICAqIEBpbnRlcm5hbFxuICAgICAqL1xuICAgIF9hcHBDaGVja1Byb3ZpZGVyLCBcbiAgICAvKipcbiAgICAgKiBAaW50ZXJuYWxcbiAgICAgKi9cbiAgICBfdXJsLCBfZmlyZWJhc2VWZXJzaW9uLCBfaXNVc2luZ0VtdWxhdG9yID0gZmFsc2UpIHtcbiAgICAgICAgdGhpcy5hcHAgPSBhcHA7XG4gICAgICAgIHRoaXMuX2F1dGhQcm92aWRlciA9IF9hdXRoUHJvdmlkZXI7XG4gICAgICAgIHRoaXMuX2FwcENoZWNrUHJvdmlkZXIgPSBfYXBwQ2hlY2tQcm92aWRlcjtcbiAgICAgICAgdGhpcy5fdXJsID0gX3VybDtcbiAgICAgICAgdGhpcy5fZmlyZWJhc2VWZXJzaW9uID0gX2ZpcmViYXNlVmVyc2lvbjtcbiAgICAgICAgdGhpcy5faXNVc2luZ0VtdWxhdG9yID0gX2lzVXNpbmdFbXVsYXRvcjtcbiAgICAgICAgdGhpcy5fYnVja2V0ID0gbnVsbDtcbiAgICAgICAgLyoqXG4gICAgICAgICAqIFRoaXMgc3RyaW5nIGNhbiBiZSBpbiB0aGUgZm9ybWF0czpcbiAgICAgICAgICogLSBob3N0XG4gICAgICAgICAqIC0gaG9zdDpwb3J0XG4gICAgICAgICAqL1xuICAgICAgICB0aGlzLl9ob3N0ID0gREVGQVVMVF9IT1NUO1xuICAgICAgICB0aGlzLl9wcm90b2NvbCA9ICdodHRwcyc7XG4gICAgICAgIHRoaXMuX2FwcElkID0gbnVsbDtcbiAgICAgICAgdGhpcy5fZGVsZXRlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLl9tYXhPcGVyYXRpb25SZXRyeVRpbWUgPSBERUZBVUxUX01BWF9PUEVSQVRJT05fUkVUUllfVElNRTtcbiAgICAgICAgdGhpcy5fbWF4VXBsb2FkUmV0cnlUaW1lID0gREVGQVVMVF9NQVhfVVBMT0FEX1JFVFJZX1RJTUU7XG4gICAgICAgIHRoaXMuX3JlcXVlc3RzID0gbmV3IFNldCgpO1xuICAgICAgICBpZiAoX3VybCAhPSBudWxsKSB7XG4gICAgICAgICAgICB0aGlzLl9idWNrZXQgPSBMb2NhdGlvbi5tYWtlRnJvbUJ1Y2tldFNwZWMoX3VybCwgdGhpcy5faG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9idWNrZXQgPSBleHRyYWN0QnVja2V0KHRoaXMuX2hvc3QsIHRoaXMuYXBwLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBob3N0IHN0cmluZyBmb3IgdGhpcyBzZXJ2aWNlLCBpbiB0aGUgZm9ybSBvZiBgaG9zdGAgb3JcbiAgICAgKiBgaG9zdDpwb3J0YC5cbiAgICAgKi9cbiAgICBnZXQgaG9zdCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2hvc3Q7XG4gICAgfVxuICAgIHNldCBob3N0KGhvc3QpIHtcbiAgICAgICAgdGhpcy5faG9zdCA9IGhvc3Q7XG4gICAgICAgIGlmICh0aGlzLl91cmwgIT0gbnVsbCkge1xuICAgICAgICAgICAgdGhpcy5fYnVja2V0ID0gTG9jYXRpb24ubWFrZUZyb21CdWNrZXRTcGVjKHRoaXMuX3VybCwgaG9zdCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICB0aGlzLl9idWNrZXQgPSBleHRyYWN0QnVja2V0KGhvc3QsIHRoaXMuYXBwLm9wdGlvbnMpO1xuICAgICAgICB9XG4gICAgfVxuICAgIC8qKlxuICAgICAqIFRoZSBtYXhpbXVtIHRpbWUgdG8gcmV0cnkgdXBsb2FkcyBpbiBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgZ2V0IG1heFVwbG9hZFJldHJ5VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heFVwbG9hZFJldHJ5VGltZTtcbiAgICB9XG4gICAgc2V0IG1heFVwbG9hZFJldHJ5VGltZSh0aW1lKSB7XG4gICAgICAgIHZhbGlkYXRlTnVtYmVyKCd0aW1lJywgXG4gICAgICAgIC8qIG1pblZhbHVlPSovIDAsIFxuICAgICAgICAvKiBtYXhWYWx1ZT0gKi8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0aW1lKTtcbiAgICAgICAgdGhpcy5fbWF4VXBsb2FkUmV0cnlUaW1lID0gdGltZTtcbiAgICB9XG4gICAgLyoqXG4gICAgICogVGhlIG1heGltdW0gdGltZSB0byByZXRyeSBvcGVyYXRpb25zIG90aGVyIHRoYW4gdXBsb2FkcyBvciBkb3dubG9hZHMgaW5cbiAgICAgKiBtaWxsaXNlY29uZHMuXG4gICAgICovXG4gICAgZ2V0IG1heE9wZXJhdGlvblJldHJ5VGltZSgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX21heE9wZXJhdGlvblJldHJ5VGltZTtcbiAgICB9XG4gICAgc2V0IG1heE9wZXJhdGlvblJldHJ5VGltZSh0aW1lKSB7XG4gICAgICAgIHZhbGlkYXRlTnVtYmVyKCd0aW1lJywgXG4gICAgICAgIC8qIG1pblZhbHVlPSovIDAsIFxuICAgICAgICAvKiBtYXhWYWx1ZT0gKi8gTnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLCB0aW1lKTtcbiAgICAgICAgdGhpcy5fbWF4T3BlcmF0aW9uUmV0cnlUaW1lID0gdGltZTtcbiAgICB9XG4gICAgYXN5bmMgX2dldEF1dGhUb2tlbigpIHtcbiAgICAgICAgaWYgKHRoaXMuX292ZXJyaWRlQXV0aFRva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fb3ZlcnJpZGVBdXRoVG9rZW47XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgYXV0aCA9IHRoaXMuX2F1dGhQcm92aWRlci5nZXRJbW1lZGlhdGUoeyBvcHRpb25hbDogdHJ1ZSB9KTtcbiAgICAgICAgaWYgKGF1dGgpIHtcbiAgICAgICAgICAgIGNvbnN0IHRva2VuRGF0YSA9IGF3YWl0IGF1dGguZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIGlmICh0b2tlbkRhdGEgIT09IG51bGwpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gdG9rZW5EYXRhLmFjY2Vzc1Rva2VuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICBhc3luYyBfZ2V0QXBwQ2hlY2tUb2tlbigpIHtcbiAgICAgICAgaWYgKF9pc0ZpcmViYXNlU2VydmVyQXBwKHRoaXMuYXBwKSAmJiB0aGlzLmFwcC5zZXR0aW5ncy5hcHBDaGVja1Rva2VuKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5hcHAuc2V0dGluZ3MuYXBwQ2hlY2tUb2tlbjtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBhcHBDaGVjayA9IHRoaXMuX2FwcENoZWNrUHJvdmlkZXIuZ2V0SW1tZWRpYXRlKHsgb3B0aW9uYWw6IHRydWUgfSk7XG4gICAgICAgIGlmIChhcHBDaGVjaykge1xuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gYXdhaXQgYXBwQ2hlY2suZ2V0VG9rZW4oKTtcbiAgICAgICAgICAgIC8vIFRPRE86IFdoYXQgZG8gd2Ugd2FudCB0byBkbyBpZiB0aGVyZSBpcyBhbiBlcnJvciBnZXR0aW5nIHRoZSB0b2tlbj9cbiAgICAgICAgICAgIC8vIENvbnRleHQ6IGFwcENoZWNrLmdldFRva2VuKCkgd2lsbCBuZXZlciB0aHJvdyBldmVuIGlmIGFuIGVycm9yIGhhcHBlbmVkLiBJbiB0aGUgZXJyb3IgY2FzZSwgYSBkdW1teSB0b2tlbiB3aWxsIGJlXG4gICAgICAgICAgICAvLyByZXR1cm5lZCBhbG9uZyB3aXRoIGFuIGVycm9yIGZpZWxkIGRlc2NyaWJpbmcgdGhlIGVycm9yLiBJbiBnZW5lcmFsLCB3ZSBzaG91bGRuJ3QgY2FyZSBhYm91dCB0aGUgZXJyb3IgY29uZGl0aW9uIGFuZCBqdXN0IHVzZVxuICAgICAgICAgICAgLy8gdGhlIHRva2VuIChhY3R1YWwgb3IgZHVtbXkpIHRvIHNlbmQgcmVxdWVzdHMuXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnRva2VuO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBTdG9wIHJ1bm5pbmcgcmVxdWVzdHMgYW5kIHByZXZlbnQgbW9yZSBmcm9tIGJlaW5nIGNyZWF0ZWQuXG4gICAgICovXG4gICAgX2RlbGV0ZSgpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWxldGVkKSB7XG4gICAgICAgICAgICB0aGlzLl9kZWxldGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RzLmZvckVhY2gocmVxdWVzdCA9PiByZXF1ZXN0LmNhbmNlbCgpKTtcbiAgICAgICAgICAgIHRoaXMuX3JlcXVlc3RzLmNsZWFyKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgbmV3IGZpcmViYXNlU3RvcmFnZS5SZWZlcmVuY2Ugb2JqZWN0IHJlZmVyZW5jaW5nIHRoaXMgU3RvcmFnZVNlcnZpY2VcbiAgICAgKiBhdCB0aGUgZ2l2ZW4gTG9jYXRpb24uXG4gICAgICovXG4gICAgX21ha2VTdG9yYWdlUmVmZXJlbmNlKGxvYykge1xuICAgICAgICByZXR1cm4gbmV3IFJlZmVyZW5jZSh0aGlzLCBsb2MpO1xuICAgIH1cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gcmVxdWVzdEluZm8gLSBIVFRQIFJlcXVlc3RJbmZvIG9iamVjdFxuICAgICAqIEBwYXJhbSBhdXRoVG9rZW4gLSBGaXJlYmFzZSBhdXRoIHRva2VuXG4gICAgICovXG4gICAgX21ha2VSZXF1ZXN0KHJlcXVlc3RJbmZvLCByZXF1ZXN0RmFjdG9yeSwgYXV0aFRva2VuLCBhcHBDaGVja1Rva2VuLCByZXRyeSA9IHRydWUpIHtcbiAgICAgICAgaWYgKCF0aGlzLl9kZWxldGVkKSB7XG4gICAgICAgICAgICBjb25zdCByZXF1ZXN0ID0gbWFrZVJlcXVlc3QocmVxdWVzdEluZm8sIHRoaXMuX2FwcElkLCBhdXRoVG9rZW4sIGFwcENoZWNrVG9rZW4sIHJlcXVlc3RGYWN0b3J5LCB0aGlzLl9maXJlYmFzZVZlcnNpb24sIHJldHJ5LCB0aGlzLl9pc1VzaW5nRW11bGF0b3IpO1xuICAgICAgICAgICAgdGhpcy5fcmVxdWVzdHMuYWRkKHJlcXVlc3QpO1xuICAgICAgICAgICAgLy8gUmVxdWVzdCByZW1vdmVzIGl0c2VsZiBmcm9tIHNldCB3aGVuIGNvbXBsZXRlLlxuICAgICAgICAgICAgcmVxdWVzdC5nZXRQcm9taXNlKCkudGhlbigoKSA9PiB0aGlzLl9yZXF1ZXN0cy5kZWxldGUocmVxdWVzdCksICgpID0+IHRoaXMuX3JlcXVlc3RzLmRlbGV0ZShyZXF1ZXN0KSk7XG4gICAgICAgICAgICByZXR1cm4gcmVxdWVzdDtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBuZXcgRmFpbFJlcXVlc3QoYXBwRGVsZXRlZCgpKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBhc3luYyBtYWtlUmVxdWVzdFdpdGhUb2tlbnMocmVxdWVzdEluZm8sIHJlcXVlc3RGYWN0b3J5KSB7XG4gICAgICAgIGNvbnN0IFthdXRoVG9rZW4sIGFwcENoZWNrVG9rZW5dID0gYXdhaXQgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgdGhpcy5fZ2V0QXV0aFRva2VuKCksXG4gICAgICAgICAgICB0aGlzLl9nZXRBcHBDaGVja1Rva2VuKClcbiAgICAgICAgXSk7XG4gICAgICAgIHJldHVybiB0aGlzLl9tYWtlUmVxdWVzdChyZXF1ZXN0SW5mbywgcmVxdWVzdEZhY3RvcnksIGF1dGhUb2tlbiwgYXBwQ2hlY2tUb2tlbikuZ2V0UHJvbWlzZSgpO1xuICAgIH1cbn1cblxuY29uc3QgbmFtZSA9IFwiQGZpcmViYXNlL3N0b3JhZ2VcIjtcbmNvbnN0IHZlcnNpb24gPSBcIjAuMTQuMFwiO1xuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMCBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBUeXBlIGNvbnN0YW50IGZvciBGaXJlYmFzZSBTdG9yYWdlLlxuICovXG5jb25zdCBTVE9SQUdFX1RZUEUgPSAnc3RvcmFnZSc7XG5cbi8qKlxuICogQGxpY2Vuc2VcbiAqIENvcHlyaWdodCAyMDIwIEdvb2dsZSBMTENcbiAqXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XG4gKlxuICogICBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcbiAqXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxuICovXG4vKipcbiAqIERvd25sb2FkcyB0aGUgZGF0YSBhdCB0aGUgb2JqZWN0J3MgbG9jYXRpb24uIFJldHVybnMgYW4gZXJyb3IgaWYgdGhlIG9iamVjdFxuICogaXMgbm90IGZvdW5kLlxuICpcbiAqIFRvIHVzZSB0aGlzIGZ1bmN0aW9uYWxpdHksIHlvdSBoYXZlIHRvIHdoaXRlbGlzdCB5b3VyIGFwcCdzIG9yaWdpbiBpbiB5b3VyXG4gKiBDbG91ZCBTdG9yYWdlIGJ1Y2tldC4gU2VlIGFsc29cbiAqIGh0dHBzOi8vY2xvdWQuZ29vZ2xlLmNvbS9zdG9yYWdlL2RvY3MvY29uZmlndXJpbmctY29yc1xuICpcbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSByZWYgLSBTdG9yYWdlUmVmZXJlbmNlIHdoZXJlIGRhdGEgc2hvdWxkIGJlIGRvd25sb2FkZWQuXG4gKiBAcGFyYW0gbWF4RG93bmxvYWRTaXplQnl0ZXMgLSBJZiBzZXQsIHRoZSBtYXhpbXVtIGFsbG93ZWQgc2l6ZSBpbiBieXRlcyB0b1xuICogcmV0cmlldmUuXG4gKiBAcmV0dXJucyBBIFByb21pc2UgY29udGFpbmluZyB0aGUgb2JqZWN0J3MgYnl0ZXNcbiAqL1xuZnVuY3Rpb24gZ2V0Qnl0ZXMocmVmLCBtYXhEb3dubG9hZFNpemVCeXRlcykge1xuICAgIHJlZiA9IGdldE1vZHVsYXJJbnN0YW5jZShyZWYpO1xuICAgIHJldHVybiBnZXRCeXRlc0ludGVybmFsKHJlZiwgbWF4RG93bmxvYWRTaXplQnl0ZXMpO1xufVxuLyoqXG4gKiBVcGxvYWRzIGRhdGEgdG8gdGhpcyBvYmplY3QncyBsb2NhdGlvbi5cbiAqIFRoZSB1cGxvYWQgaXMgbm90IHJlc3VtYWJsZS5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSByZWYgLSB7QGxpbmsgU3RvcmFnZVJlZmVyZW5jZX0gd2hlcmUgZGF0YSBzaG91bGQgYmUgdXBsb2FkZWQuXG4gKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSBtZXRhZGF0YSAtIE1ldGFkYXRhIGZvciB0aGUgZGF0YSB0byB1cGxvYWQuXG4gKiBAcmV0dXJucyBBIFByb21pc2UgY29udGFpbmluZyBhbiBVcGxvYWRSZXN1bHRcbiAqL1xuZnVuY3Rpb24gdXBsb2FkQnl0ZXMocmVmLCBkYXRhLCBtZXRhZGF0YSkge1xuICAgIHJlZiA9IGdldE1vZHVsYXJJbnN0YW5jZShyZWYpO1xuICAgIHJldHVybiB1cGxvYWRCeXRlcyQxKHJlZiwgZGF0YSwgbWV0YWRhdGEpO1xufVxuLyoqXG4gKiBVcGxvYWRzIGEgc3RyaW5nIHRvIHRoaXMgb2JqZWN0J3MgbG9jYXRpb24uXG4gKiBUaGUgdXBsb2FkIGlzIG5vdCByZXN1bWFibGUuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gcmVmIC0ge0BsaW5rIFN0b3JhZ2VSZWZlcmVuY2V9IHdoZXJlIHN0cmluZyBzaG91bGQgYmUgdXBsb2FkZWQuXG4gKiBAcGFyYW0gdmFsdWUgLSBUaGUgc3RyaW5nIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSBmb3JtYXQgLSBUaGUgZm9ybWF0IG9mIHRoZSBzdHJpbmcgdG8gdXBsb2FkLlxuICogQHBhcmFtIG1ldGFkYXRhIC0gTWV0YWRhdGEgZm9yIHRoZSBzdHJpbmcgdG8gdXBsb2FkLlxuICogQHJldHVybnMgQSBQcm9taXNlIGNvbnRhaW5pbmcgYW4gVXBsb2FkUmVzdWx0XG4gKi9cbmZ1bmN0aW9uIHVwbG9hZFN0cmluZyhyZWYsIHZhbHVlLCBmb3JtYXQsIG1ldGFkYXRhKSB7XG4gICAgcmVmID0gZ2V0TW9kdWxhckluc3RhbmNlKHJlZik7XG4gICAgcmV0dXJuIHVwbG9hZFN0cmluZyQxKHJlZiwgdmFsdWUsIGZvcm1hdCwgbWV0YWRhdGEpO1xufVxuLyoqXG4gKiBVcGxvYWRzIGRhdGEgdG8gdGhpcyBvYmplY3QncyBsb2NhdGlvbi5cbiAqIFRoZSB1cGxvYWQgY2FuIGJlIHBhdXNlZCBhbmQgcmVzdW1lZCwgYW5kIGV4cG9zZXMgcHJvZ3Jlc3MgdXBkYXRlcy5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSByZWYgLSB7QGxpbmsgU3RvcmFnZVJlZmVyZW5jZX0gd2hlcmUgZGF0YSBzaG91bGQgYmUgdXBsb2FkZWQuXG4gKiBAcGFyYW0gZGF0YSAtIFRoZSBkYXRhIHRvIHVwbG9hZC5cbiAqIEBwYXJhbSBtZXRhZGF0YSAtIE1ldGFkYXRhIGZvciB0aGUgZGF0YSB0byB1cGxvYWQuXG4gKiBAcmV0dXJucyBBbiBVcGxvYWRUYXNrXG4gKi9cbmZ1bmN0aW9uIHVwbG9hZEJ5dGVzUmVzdW1hYmxlKHJlZiwgZGF0YSwgbWV0YWRhdGEpIHtcbiAgICByZWYgPSBnZXRNb2R1bGFySW5zdGFuY2UocmVmKTtcbiAgICByZXR1cm4gdXBsb2FkQnl0ZXNSZXN1bWFibGUkMShyZWYsIGRhdGEsIG1ldGFkYXRhKTtcbn1cbi8qKlxuICogQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBtZXRhZGF0YSBmb3IgdGhpcyBvYmplY3QuIElmIHRoaXNcbiAqIG9iamVjdCBkb2Vzbid0IGV4aXN0IG9yIG1ldGFkYXRhIGNhbm5vdCBiZSByZXRyaWV2ZWQsIHRoZSBwcm9taXNlIGlzXG4gKiByZWplY3RlZC5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSByZWYgLSB7QGxpbmsgU3RvcmFnZVJlZmVyZW5jZX0gdG8gZ2V0IG1ldGFkYXRhIGZyb20uXG4gKi9cbmZ1bmN0aW9uIGdldE1ldGFkYXRhKHJlZikge1xuICAgIHJlZiA9IGdldE1vZHVsYXJJbnN0YW5jZShyZWYpO1xuICAgIHJldHVybiBnZXRNZXRhZGF0YSQxKHJlZik7XG59XG4vKipcbiAqIFVwZGF0ZXMgdGhlIG1ldGFkYXRhIGZvciB0aGlzIG9iamVjdC5cbiAqIEBwdWJsaWNcbiAqIEBwYXJhbSByZWYgLSB7QGxpbmsgU3RvcmFnZVJlZmVyZW5jZX0gdG8gdXBkYXRlIG1ldGFkYXRhIGZvci5cbiAqIEBwYXJhbSBtZXRhZGF0YSAtIFRoZSBuZXcgbWV0YWRhdGEgZm9yIHRoZSBvYmplY3QuXG4gKiAgICAgT25seSB2YWx1ZXMgdGhhdCBoYXZlIGJlZW4gZXhwbGljaXRseSBzZXQgd2lsbCBiZSBjaGFuZ2VkLiBFeHBsaWNpdGx5XG4gKiAgICAgc2V0dGluZyBhIHZhbHVlIHRvIG51bGwgd2lsbCByZW1vdmUgdGhlIG1ldGFkYXRhLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBuZXcgbWV0YWRhdGEgZm9yIHRoaXMgb2JqZWN0LlxuICovXG5mdW5jdGlvbiB1cGRhdGVNZXRhZGF0YShyZWYsIG1ldGFkYXRhKSB7XG4gICAgcmVmID0gZ2V0TW9kdWxhckluc3RhbmNlKHJlZik7XG4gICAgcmV0dXJuIHVwZGF0ZU1ldGFkYXRhJDEocmVmLCBtZXRhZGF0YSk7XG59XG4vKipcbiAqIExpc3QgaXRlbXMgKGZpbGVzKSBhbmQgcHJlZml4ZXMgKGZvbGRlcnMpIHVuZGVyIHRoaXMgc3RvcmFnZSByZWZlcmVuY2UuXG4gKlxuICogTGlzdCBBUEkgaXMgb25seSBhdmFpbGFibGUgZm9yIEZpcmViYXNlIFJ1bGVzIFZlcnNpb24gMi5cbiAqXG4gKiBHQ1MgaXMgYSBrZXktYmxvYiBzdG9yZS4gRmlyZWJhc2UgU3RvcmFnZSBpbXBvc2VzIHRoZSBzZW1hbnRpYyBvZiAnLydcbiAqIGRlbGltaXRlZCBmb2xkZXIgc3RydWN0dXJlLlxuICogUmVmZXIgdG8gR0NTJ3MgTGlzdCBBUEkgaWYgeW91IHdhbnQgdG8gbGVhcm4gbW9yZS5cbiAqXG4gKiBUbyBhZGhlcmUgdG8gRmlyZWJhc2UgUnVsZXMncyBTZW1hbnRpY3MsIEZpcmViYXNlIFN0b3JhZ2UgZG9lcyBub3RcbiAqIHN1cHBvcnQgb2JqZWN0cyB3aG9zZSBwYXRocyBlbmQgd2l0aCBcIi9cIiBvciBjb250YWluIHR3byBjb25zZWN1dGl2ZVxuICogXCIvXCJzLiBGaXJlYmFzZSBTdG9yYWdlIExpc3QgQVBJIHdpbGwgZmlsdGVyIHRoZXNlIHVuc3VwcG9ydGVkIG9iamVjdHMuXG4gKiBsaXN0KCkgbWF5IGZhaWwgaWYgdGhlcmUgYXJlIHRvbyBtYW55IHVuc3VwcG9ydGVkIG9iamVjdHMgaW4gdGhlIGJ1Y2tldC5cbiAqIEBwdWJsaWNcbiAqXG4gKiBAcGFyYW0gcmVmIC0ge0BsaW5rIFN0b3JhZ2VSZWZlcmVuY2V9IHRvIGdldCBsaXN0IGZyb20uXG4gKiBAcGFyYW0gb3B0aW9ucyAtIFNlZSB7QGxpbmsgTGlzdE9wdGlvbnN9IGZvciBkZXRhaWxzLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aXRoIHRoZSBpdGVtcyBhbmQgcHJlZml4ZXMuXG4gKiAgICAgIGBwcmVmaXhlc2AgY29udGFpbnMgcmVmZXJlbmNlcyB0byBzdWItZm9sZGVycyBhbmQgYGl0ZW1zYFxuICogICAgICBjb250YWlucyByZWZlcmVuY2VzIHRvIG9iamVjdHMgaW4gdGhpcyBmb2xkZXIuIGBuZXh0UGFnZVRva2VuYFxuICogICAgICBjYW4gYmUgdXNlZCB0byBnZXQgdGhlIHJlc3Qgb2YgdGhlIHJlc3VsdHMuXG4gKi9cbmZ1bmN0aW9uIGxpc3QocmVmLCBvcHRpb25zKSB7XG4gICAgcmVmID0gZ2V0TW9kdWxhckluc3RhbmNlKHJlZik7XG4gICAgcmV0dXJuIGxpc3QkMShyZWYsIG9wdGlvbnMpO1xufVxuLyoqXG4gKiBMaXN0IGFsbCBpdGVtcyAoZmlsZXMpIGFuZCBwcmVmaXhlcyAoZm9sZGVycykgdW5kZXIgdGhpcyBzdG9yYWdlIHJlZmVyZW5jZS5cbiAqXG4gKiBUaGlzIGlzIGEgaGVscGVyIG1ldGhvZCBmb3IgY2FsbGluZyBsaXN0KCkgcmVwZWF0ZWRseSB1bnRpbCB0aGVyZSBhcmVcbiAqIG5vIG1vcmUgcmVzdWx0cy4gVGhlIGRlZmF1bHQgcGFnaW5hdGlvbiBzaXplIGlzIDEwMDAuXG4gKlxuICogTm90ZTogVGhlIHJlc3VsdHMgbWF5IG5vdCBiZSBjb25zaXN0ZW50IGlmIG9iamVjdHMgYXJlIGNoYW5nZWQgd2hpbGUgdGhpc1xuICogb3BlcmF0aW9uIGlzIHJ1bm5pbmcuXG4gKlxuICogV2FybmluZzogYGxpc3RBbGxgIG1heSBwb3RlbnRpYWxseSBjb25zdW1lIHRvbyBtYW55IHJlc291cmNlcyBpZiB0aGVyZSBhcmVcbiAqIHRvbyBtYW55IHJlc3VsdHMuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gcmVmIC0ge0BsaW5rIFN0b3JhZ2VSZWZlcmVuY2V9IHRvIGdldCBsaXN0IGZyb20uXG4gKlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyB3aXRoIGFsbCB0aGUgaXRlbXMgYW5kIHByZWZpeGVzIHVuZGVyXG4gKiAgICAgIHRoZSBjdXJyZW50IHN0b3JhZ2UgcmVmZXJlbmNlLiBgcHJlZml4ZXNgIGNvbnRhaW5zIHJlZmVyZW5jZXMgdG9cbiAqICAgICAgc3ViLWRpcmVjdG9yaWVzIGFuZCBgaXRlbXNgIGNvbnRhaW5zIHJlZmVyZW5jZXMgdG8gb2JqZWN0cyBpbiB0aGlzXG4gKiAgICAgIGZvbGRlci4gYG5leHRQYWdlVG9rZW5gIGlzIG5ldmVyIHJldHVybmVkLlxuICovXG5mdW5jdGlvbiBsaXN0QWxsKHJlZikge1xuICAgIHJlZiA9IGdldE1vZHVsYXJJbnN0YW5jZShyZWYpO1xuICAgIHJldHVybiBsaXN0QWxsJDEocmVmKTtcbn1cbi8qKlxuICogUmV0dXJucyB0aGUgZG93bmxvYWQgVVJMIGZvciB0aGUgZ2l2ZW4ge0BsaW5rIFN0b3JhZ2VSZWZlcmVuY2V9LlxuICogQHB1YmxpY1xuICogQHBhcmFtIHJlZiAtIHtAbGluayBTdG9yYWdlUmVmZXJlbmNlfSB0byBnZXQgdGhlIGRvd25sb2FkIFVSTCBmb3IuXG4gKiBAcmV0dXJucyBBIGBQcm9taXNlYCB0aGF0IHJlc29sdmVzIHdpdGggdGhlIGRvd25sb2FkXG4gKiAgICAgVVJMIGZvciB0aGlzIG9iamVjdC5cbiAqL1xuZnVuY3Rpb24gZ2V0RG93bmxvYWRVUkwocmVmKSB7XG4gICAgcmVmID0gZ2V0TW9kdWxhckluc3RhbmNlKHJlZik7XG4gICAgcmV0dXJuIGdldERvd25sb2FkVVJMJDEocmVmKTtcbn1cbi8qKlxuICogRGVsZXRlcyB0aGUgb2JqZWN0IGF0IHRoaXMgbG9jYXRpb24uXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gcmVmIC0ge0BsaW5rIFN0b3JhZ2VSZWZlcmVuY2V9IGZvciBvYmplY3QgdG8gZGVsZXRlLlxuICogQHJldHVybnMgQSBgUHJvbWlzZWAgdGhhdCByZXNvbHZlcyBpZiB0aGUgZGVsZXRpb24gc3VjY2VlZHMuXG4gKi9cbmZ1bmN0aW9uIGRlbGV0ZU9iamVjdChyZWYpIHtcbiAgICByZWYgPSBnZXRNb2R1bGFySW5zdGFuY2UocmVmKTtcbiAgICByZXR1cm4gZGVsZXRlT2JqZWN0JDEocmVmKTtcbn1cbmZ1bmN0aW9uIHJlZihzZXJ2aWNlT3JSZWYsIHBhdGhPclVybCkge1xuICAgIHNlcnZpY2VPclJlZiA9IGdldE1vZHVsYXJJbnN0YW5jZShzZXJ2aWNlT3JSZWYpO1xuICAgIHJldHVybiByZWYkMShzZXJ2aWNlT3JSZWYsIHBhdGhPclVybCk7XG59XG4vKipcbiAqIEBpbnRlcm5hbFxuICovXG5mdW5jdGlvbiBfZ2V0Q2hpbGQocmVmLCBjaGlsZFBhdGgpIHtcbiAgICByZXR1cm4gX2dldENoaWxkJDEocmVmLCBjaGlsZFBhdGgpO1xufVxuLyoqXG4gKiBHZXRzIGEge0BsaW5rIEZpcmViYXNlU3RvcmFnZX0gaW5zdGFuY2UgZm9yIHRoZSBnaXZlbiBGaXJlYmFzZSBhcHAuXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gYXBwIC0gRmlyZWJhc2UgYXBwIHRvIGdldCB7QGxpbmsgRmlyZWJhc2VTdG9yYWdlfSBpbnN0YW5jZSBmb3IuXG4gKiBAcGFyYW0gYnVja2V0VXJsIC0gVGhlIGdzOi8vIHVybCB0byB5b3VyIEZpcmViYXNlIFN0b3JhZ2UgQnVja2V0LlxuICogSWYgbm90IHBhc3NlZCwgdXNlcyB0aGUgYXBwJ3MgZGVmYXVsdCBTdG9yYWdlIEJ1Y2tldC5cbiAqIEByZXR1cm5zIEEge0BsaW5rIEZpcmViYXNlU3RvcmFnZX0gaW5zdGFuY2UuXG4gKi9cbmZ1bmN0aW9uIGdldFN0b3JhZ2UoYXBwID0gZ2V0QXBwKCksIGJ1Y2tldFVybCkge1xuICAgIGFwcCA9IGdldE1vZHVsYXJJbnN0YW5jZShhcHApO1xuICAgIGNvbnN0IHN0b3JhZ2VQcm92aWRlciA9IF9nZXRQcm92aWRlcihhcHAsIFNUT1JBR0VfVFlQRSk7XG4gICAgY29uc3Qgc3RvcmFnZUluc3RhbmNlID0gc3RvcmFnZVByb3ZpZGVyLmdldEltbWVkaWF0ZSh7XG4gICAgICAgIGlkZW50aWZpZXI6IGJ1Y2tldFVybFxuICAgIH0pO1xuICAgIGNvbnN0IGVtdWxhdG9yID0gZ2V0RGVmYXVsdEVtdWxhdG9ySG9zdG5hbWVBbmRQb3J0KCdzdG9yYWdlJyk7XG4gICAgaWYgKGVtdWxhdG9yKSB7XG4gICAgICAgIGNvbm5lY3RTdG9yYWdlRW11bGF0b3Ioc3RvcmFnZUluc3RhbmNlLCAuLi5lbXVsYXRvcik7XG4gICAgfVxuICAgIHJldHVybiBzdG9yYWdlSW5zdGFuY2U7XG59XG4vKipcbiAqIE1vZGlmeSB0aGlzIHtAbGluayBGaXJlYmFzZVN0b3JhZ2V9IGluc3RhbmNlIHRvIGNvbW11bmljYXRlIHdpdGggdGhlIENsb3VkIFN0b3JhZ2UgZW11bGF0b3IuXG4gKlxuICogQHBhcmFtIHN0b3JhZ2UgLSBUaGUge0BsaW5rIEZpcmViYXNlU3RvcmFnZX0gaW5zdGFuY2VcbiAqIEBwYXJhbSBob3N0IC0gVGhlIGVtdWxhdG9yIGhvc3QgKGV4OiBsb2NhbGhvc3QpXG4gKiBAcGFyYW0gcG9ydCAtIFRoZSBlbXVsYXRvciBwb3J0IChleDogNTAwMSlcbiAqIEBwYXJhbSBvcHRpb25zIC0gRW11bGF0b3Igb3B0aW9ucy4gYG9wdGlvbnMubW9ja1VzZXJUb2tlbmAgaXMgdGhlIG1vY2sgYXV0aFxuICogdG9rZW4gdG8gdXNlIGZvciB1bml0IHRlc3RpbmcgU2VjdXJpdHkgUnVsZXMuXG4gKiBAcHVibGljXG4gKi9cbmZ1bmN0aW9uIGNvbm5lY3RTdG9yYWdlRW11bGF0b3Ioc3RvcmFnZSwgaG9zdCwgcG9ydCwgb3B0aW9ucyA9IHt9KSB7XG4gICAgY29ubmVjdFN0b3JhZ2VFbXVsYXRvciQxKHN0b3JhZ2UsIGhvc3QsIHBvcnQsIG9wdGlvbnMpO1xufVxuXG4vKipcbiAqIEBsaWNlbnNlXG4gKiBDb3B5cmlnaHQgMjAyMSBHb29nbGUgTExDXG4gKlxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxuICpcbiAqICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXG4gKlxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cbiAqL1xuLyoqXG4gKiBEb3dubG9hZHMgdGhlIGRhdGEgYXQgdGhlIG9iamVjdCdzIGxvY2F0aW9uLiBSZXR1cm5zIGFuIGVycm9yIGlmIHRoZSBvYmplY3RcbiAqIGlzIG5vdCBmb3VuZC5cbiAqXG4gKiBUbyB1c2UgdGhpcyBmdW5jdGlvbmFsaXR5LCB5b3UgaGF2ZSB0byB3aGl0ZWxpc3QgeW91ciBhcHAncyBvcmlnaW4gaW4geW91clxuICogQ2xvdWQgU3RvcmFnZSBidWNrZXQuIFNlZSBhbHNvXG4gKiBodHRwczovL2Nsb3VkLmdvb2dsZS5jb20vc3RvcmFnZS9kb2NzL2NvbmZpZ3VyaW5nLWNvcnNcbiAqXG4gKiBUaGlzIEFQSSBpcyBub3QgYXZhaWxhYmxlIGluIE5vZGUuXG4gKlxuICogQHB1YmxpY1xuICogQHBhcmFtIHJlZiAtIFN0b3JhZ2VSZWZlcmVuY2Ugd2hlcmUgZGF0YSBzaG91bGQgYmUgZG93bmxvYWRlZC5cbiAqIEBwYXJhbSBtYXhEb3dubG9hZFNpemVCeXRlcyAtIElmIHNldCwgdGhlIG1heGltdW0gYWxsb3dlZCBzaXplIGluIGJ5dGVzIHRvXG4gKiByZXRyaWV2ZS5cbiAqIEByZXR1cm5zIEEgUHJvbWlzZSB0aGF0IHJlc29sdmVzIHdpdGggYSBCbG9iIGNvbnRhaW5pbmcgdGhlIG9iamVjdCdzIGJ5dGVzXG4gKi9cbmZ1bmN0aW9uIGdldEJsb2IocmVmLCBtYXhEb3dubG9hZFNpemVCeXRlcykge1xuICAgIHJlZiA9IGdldE1vZHVsYXJJbnN0YW5jZShyZWYpO1xuICAgIHJldHVybiBnZXRCbG9iSW50ZXJuYWwocmVmLCBtYXhEb3dubG9hZFNpemVCeXRlcyk7XG59XG4vKipcbiAqIERvd25sb2FkcyB0aGUgZGF0YSBhdCB0aGUgb2JqZWN0J3MgbG9jYXRpb24uIFJhaXNlcyBhbiBlcnJvciBldmVudCBpZiB0aGVcbiAqIG9iamVjdCBpcyBub3QgZm91bmQuXG4gKlxuICogVGhpcyBBUEkgaXMgb25seSBhdmFpbGFibGUgaW4gTm9kZS5cbiAqXG4gKiBAcHVibGljXG4gKiBAcGFyYW0gcmVmIC0gU3RvcmFnZVJlZmVyZW5jZSB3aGVyZSBkYXRhIHNob3VsZCBiZSBkb3dubG9hZGVkLlxuICogQHBhcmFtIG1heERvd25sb2FkU2l6ZUJ5dGVzIC0gSWYgc2V0LCB0aGUgbWF4aW11bSBhbGxvd2VkIHNpemUgaW4gYnl0ZXMgdG9cbiAqIHJldHJpZXZlLlxuICogQHJldHVybnMgQSBzdHJlYW0gd2l0aCB0aGUgb2JqZWN0J3MgZGF0YSBhcyBieXRlc1xuICovXG5mdW5jdGlvbiBnZXRTdHJlYW0ocmVmLCBtYXhEb3dubG9hZFNpemVCeXRlcykge1xuICAgIHRocm93IG5ldyBFcnJvcignZ2V0U3RyZWFtKCkgaXMgb25seSBzdXBwb3J0ZWQgYnkgTm9kZUpTIGJ1aWxkcycpO1xufVxuXG4vKipcbiAqIENsb3VkIFN0b3JhZ2UgZm9yIEZpcmViYXNlXG4gKlxuICogQHBhY2thZ2VEb2N1bWVudGF0aW9uXG4gKi9cbmZ1bmN0aW9uIGZhY3RvcnkoY29udGFpbmVyLCB7IGluc3RhbmNlSWRlbnRpZmllcjogdXJsIH0pIHtcbiAgICBjb25zdCBhcHAgPSBjb250YWluZXIuZ2V0UHJvdmlkZXIoJ2FwcCcpLmdldEltbWVkaWF0ZSgpO1xuICAgIGNvbnN0IGF1dGhQcm92aWRlciA9IGNvbnRhaW5lci5nZXRQcm92aWRlcignYXV0aC1pbnRlcm5hbCcpO1xuICAgIGNvbnN0IGFwcENoZWNrUHJvdmlkZXIgPSBjb250YWluZXIuZ2V0UHJvdmlkZXIoJ2FwcC1jaGVjay1pbnRlcm5hbCcpO1xuICAgIHJldHVybiBuZXcgRmlyZWJhc2VTdG9yYWdlSW1wbChhcHAsIGF1dGhQcm92aWRlciwgYXBwQ2hlY2tQcm92aWRlciwgdXJsLCBTREtfVkVSU0lPTik7XG59XG5mdW5jdGlvbiByZWdpc3RlclN0b3JhZ2UoKSB7XG4gICAgX3JlZ2lzdGVyQ29tcG9uZW50KG5ldyBDb21wb25lbnQoU1RPUkFHRV9UWVBFLCBmYWN0b3J5LCBcIlBVQkxJQ1wiIC8qIENvbXBvbmVudFR5cGUuUFVCTElDICovKS5zZXRNdWx0aXBsZUluc3RhbmNlcyh0cnVlKSk7XG4gICAgLy9SVU5USU1FX0VOViB3aWxsIGJlIHJlcGxhY2VkIGR1cmluZyB0aGUgY29tcGlsYXRpb24gdG8gXCJub2RlXCIgZm9yIG5vZGVqcyBhbmQgYW4gZW1wdHkgc3RyaW5nIGZvciBicm93c2VyXG4gICAgcmVnaXN0ZXJWZXJzaW9uKG5hbWUsIHZlcnNpb24sICcnKTtcbiAgICAvLyBCVUlMRF9UQVJHRVQgd2lsbCBiZSByZXBsYWNlZCBieSB2YWx1ZXMgbGlrZSBlc20sIGNqcywgZXRjIGR1cmluZyB0aGUgY29tcGlsYXRpb25cbiAgICByZWdpc3RlclZlcnNpb24obmFtZSwgdmVyc2lvbiwgJ2VzbTIwMjAnKTtcbn1cbnJlZ2lzdGVyU3RvcmFnZSgpO1xuXG5leHBvcnQgeyBTdG9yYWdlRXJyb3IsIFN0b3JhZ2VFcnJvckNvZGUsIFN0cmluZ0Zvcm1hdCwgRmJzQmxvYiBhcyBfRmJzQmxvYiwgTG9jYXRpb24gYXMgX0xvY2F0aW9uLCBUYXNrRXZlbnQgYXMgX1Rhc2tFdmVudCwgVGFza1N0YXRlIGFzIF9UYXNrU3RhdGUsIFVwbG9hZFRhc2sgYXMgX1VwbG9hZFRhc2ssIGRhdGFGcm9tU3RyaW5nIGFzIF9kYXRhRnJvbVN0cmluZywgX2dldENoaWxkLCBpbnZhbGlkQXJndW1lbnQgYXMgX2ludmFsaWRBcmd1bWVudCwgaW52YWxpZFJvb3RPcGVyYXRpb24gYXMgX2ludmFsaWRSb290T3BlcmF0aW9uLCBjb25uZWN0U3RvcmFnZUVtdWxhdG9yLCBkZWxldGVPYmplY3QsIGdldEJsb2IsIGdldEJ5dGVzLCBnZXREb3dubG9hZFVSTCwgZ2V0TWV0YWRhdGEsIGdldFN0b3JhZ2UsIGdldFN0cmVhbSwgbGlzdCwgbGlzdEFsbCwgcmVmLCB1cGRhdGVNZXRhZGF0YSwgdXBsb2FkQnl0ZXMsIHVwbG9hZEJ5dGVzUmVzdW1hYmxlLCB1cGxvYWRTdHJpbmcgfTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@firebase/storage/dist/index.esm.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx":
/*!************************************************************!*\
  !*** ./src/components/providers/FirestoreSyncProvider.tsx ***!
  \************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   FirestoreContext: function() { return /* binding */ FirestoreContext; },\n/* harmony export */   FirestoreSyncProvider: function() { return /* binding */ FirestoreSyncProvider; },\n/* harmony export */   useFirestore: function() { return /* binding */ useFirestore; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _lib_firebase__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n/* __next_internal_client_entry_do_not_use__ FirestoreSyncProvider,useFirestore,FirestoreContext auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\n// Create context\nconst FirestoreContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\n// Provider component\nfunction FirestoreSyncProvider(param) {\n    let { children } = param;\n    _s();\n    const [competitors, setCompetitors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [hourlyEntries, setHourlyEntries] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [bigCatches, setBigCatches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [judges, setJudges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [competitionSettings, setCompetitionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [publicAppearanceSettings, setPublicAppearanceSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [loading, setLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const unsubscribers = [];\n        try {\n            // Subscribe to competitors\n            const competitorsQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitors\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.orderBy)(\"boxNumber\", \"asc\"));\n            const unsubCompetitors = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(competitorsQuery, (snapshot)=>{\n                const data = snapshot.docs.map((doc)=>({\n                        id: doc.id,\n                        ...doc.data()\n                    }));\n                setCompetitors(data);\n            }, (error)=>{\n                console.error(\"Error fetching competitors:\", error);\n                setError(error.message);\n            });\n            unsubscribers.push(unsubCompetitors);\n            // Subscribe to hourly entries\n            const hourlyQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"hourly_entries\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.orderBy)(\"hour\", \"asc\"));\n            const unsubHourly = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(hourlyQuery, (snapshot)=>{\n                const data = snapshot.docs.map((doc)=>({\n                        id: doc.id,\n                        ...doc.data()\n                    }));\n                setHourlyEntries(data);\n                console.log(\"Hourly entries loaded from Firebase:\", data.length);\n            }, (error)=>{\n                console.error(\"Error fetching hourly entries:\", error);\n                setError(error.message);\n            });\n            unsubscribers.push(unsubHourly);\n            // Subscribe to big catches\n            const bigCatchesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"big_catches\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.orderBy)(\"biggestCatch\", \"desc\"));\n            const unsubBigCatches = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(bigCatchesQuery, (snapshot)=>{\n                const data = snapshot.docs.map((doc)=>({\n                        id: doc.id,\n                        ...doc.data()\n                    }));\n                setBigCatches(data);\n                console.log(\"Big catches loaded from Firebase:\", data.length);\n            }, (error)=>{\n                console.error(\"Error fetching big catches:\", error);\n                setError(error.message);\n            });\n            unsubscribers.push(unsubBigCatches);\n            // Subscribe to judges\n            const judgesQuery = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"judges\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.orderBy)(\"name\", \"asc\"));\n            const unsubJudges = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)(judgesQuery, (snapshot)=>{\n                const data = snapshot.docs.map((doc)=>({\n                        uid: doc.id,\n                        ...doc.data()\n                    }));\n                setJudges(data);\n            }, (error)=>{\n                console.error(\"Error fetching judges:\", error);\n                setError(error.message);\n            });\n            unsubscribers.push(unsubJudges);\n            // Subscribe to competition settings\n            const unsubSettings = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitionSettings\", \"main\"), (snapshot)=>{\n                if (snapshot.exists()) {\n                    setCompetitionSettings({\n                        id: snapshot.id,\n                        ...snapshot.data()\n                    });\n                }\n            }, (error)=>{\n                console.error(\"Error fetching competition settings:\", error);\n                setError(error.message);\n            });\n            unsubscribers.push(unsubSettings);\n            // Subscribe to public appearance settings\n            const unsubAppearance = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"publicAppearanceSettings\", \"main\"), (snapshot)=>{\n                if (snapshot.exists()) {\n                    setPublicAppearanceSettings({\n                        id: snapshot.id,\n                        ...snapshot.data()\n                    });\n                }\n            }, (error)=>{\n                console.error(\"Error fetching public appearance settings:\", error);\n                setError(error.message);\n            });\n            unsubscribers.push(unsubAppearance);\n            setLoading(false);\n        } catch (err) {\n            console.error(\"Error setting up Firestore subscriptions:\", err);\n            setError(err instanceof Error ? err.message : \"Unknown error\");\n            setLoading(false);\n        }\n        // Cleanup\n        return ()=>{\n            unsubscribers.forEach((unsub)=>unsub());\n        };\n    }, []);\n    // Save functions\n    const saveCompetitor = async (data)=>{\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitors\", data.id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(docRef, {\n                ...data,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            }, {\n                merge: true\n            });\n        } catch (err) {\n            console.error(\"Error saving competitor:\", err);\n            throw err;\n        }\n    };\n    const deleteCompetitor = async (id)=>{\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitors\", id));\n        } catch (err) {\n            console.error(\"Error deleting competitor:\", err);\n            throw err;\n        }\n    };\n    const saveHourlyEntry = async (data)=>{\n        try {\n            console.log(\"Saving hourly entry to Firebase:\", data);\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"hourly_entries\", data.id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(docRef, {\n                ...data,\n                createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now(),\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            }, {\n                merge: true\n            });\n            console.log(\"Hourly entry saved successfully to Firebase\");\n            // Auto-calculate competitor totals after saving hourly entry\n            await recalculateCompetitorTotals(data.competitorId);\n        } catch (err) {\n            console.error(\"Error saving hourly entry:\", err);\n            throw err;\n        }\n    };\n    const saveBigCatch = async (data)=>{\n        try {\n            console.log(\"Saving big catch to Firebase:\", data);\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"big_catches\", data.id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(docRef, {\n                ...data,\n                createdAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now(),\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            }, {\n                merge: true\n            });\n            console.log(\"Big catch saved successfully to Firebase\");\n            // Auto-calculate competitor totals after saving big catch\n            await recalculateCompetitorTotals(data.competitorId);\n        } catch (err) {\n            console.error(\"Error saving big catch:\", err);\n            throw err;\n        }\n    };\n    const saveJudge = async (data)=>{\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"judges\", data.uid);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(docRef, {\n                ...data,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            }, {\n                merge: true\n            });\n        } catch (err) {\n            console.error(\"Error saving judge:\", err);\n            throw err;\n        }\n    };\n    const deleteJudge = async (uid)=>{\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"judges\", uid));\n        } catch (err) {\n            console.error(\"Error deleting judge:\", err);\n            throw err;\n        }\n    };\n    const saveCompetitionSettings = async (data)=>{\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitionSettings\", \"main\");\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(docRef, {\n                ...data,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            }, {\n                merge: true\n            });\n        } catch (err) {\n            console.error(\"Error saving competition settings:\", err);\n            throw err;\n        }\n    };\n    const savePublicAppearanceSettings = async (data)=>{\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"publicAppearanceSettings\", \"main\");\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.setDoc)(docRef, {\n                ...data,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            }, {\n                merge: true\n            });\n        } catch (err) {\n            console.error(\"Error saving public appearance settings:\", err);\n            throw err;\n        }\n    };\n    // Auto-calculation function\n    const recalculateCompetitorTotals = async (competitorId)=>{\n        try {\n            // Get competitor info first\n            const competitorDoc = competitors.find((c)=>c.id === competitorId);\n            if (!competitorDoc) return;\n            const sector = competitorDoc.sector;\n            // Get all hourly entries for this competitor\n            const hourlyEntriesSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"hourly_entries\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"competitorId\", \"==\", competitorId)));\n            // Calculate totals\n            let nbPrisesGlobal = 0;\n            let poidsTotalGlobal = 0;\n            hourlyEntriesSnapshot.docs.forEach((doc)=>{\n                const entry = doc.data();\n                if ([\n                    \"locked_judge\",\n                    \"locked_admin\",\n                    \"offline_judge\",\n                    \"offline_admin\"\n                ].includes(entry.status)) {\n                    nbPrisesGlobal += entry.fishCount || 0;\n                    poidsTotalGlobal += entry.totalWeight || 0;\n                }\n            });\n            // Get grosse prise\n            const bigCatchSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"big_catches\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"competitorId\", \"==\", competitorId)));\n            let grossePrise = 0;\n            if (!bigCatchSnapshot.empty) {\n                const bigCatchData = bigCatchSnapshot.docs[0].data();\n                if ([\n                    \"locked_judge\",\n                    \"locked_admin\",\n                    \"offline_judge\",\n                    \"offline_admin\"\n                ].includes(bigCatchData.status)) {\n                    grossePrise = bigCatchData.grossePrise || 0;\n                }\n            }\n            // Calculate points\n            const points = nbPrisesGlobal * 50 + poidsTotalGlobal;\n            // Calculate coefficientSecteur\n            // First, get all competitors in the same sector to calculate sector total\n            const sectorCompetitorsSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitors\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"sector\", \"==\", sector)));\n            let sectorTotalNbPrises = 0;\n            // Calculate sector total from all competitors in this sector\n            for (const sectorCompDoc of sectorCompetitorsSnapshot.docs){\n                const sectorCompId = sectorCompDoc.id;\n                // Get hourly entries for this sector competitor\n                const sectorHourlySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"hourly_entries\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"competitorId\", \"==\", sectorCompId)));\n                let compNbPrises = 0;\n                sectorHourlySnapshot.docs.forEach((doc)=>{\n                    const entry = doc.data();\n                    if ([\n                        \"locked_judge\",\n                        \"locked_admin\",\n                        \"offline_judge\",\n                        \"offline_admin\"\n                    ].includes(entry.status)) {\n                        compNbPrises += entry.fishCount || 0;\n                    }\n                });\n                sectorTotalNbPrises += compNbPrises;\n            }\n            // Calculate coefficient: (Points × Nb Prises global) / Total Nb Prises global Secteur\n            let coefficientSecteur = 0;\n            if (sectorTotalNbPrises > 0) {\n                coefficientSecteur = points * nbPrisesGlobal / sectorTotalNbPrises;\n            }\n            // Update competitor document with coefficient\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitors\", competitorId), {\n                nbPrisesGlobal,\n                poidsTotalGlobal,\n                grossePrise,\n                points,\n                coefficientSecteur,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            });\n            console.log(\"Auto-calculated totals for \".concat(competitorId, \":\"), {\n                nbPrisesGlobal,\n                poidsTotalGlobal,\n                grossePrise,\n                points,\n                coefficientSecteur\n            });\n            // Also recalculate coefficients for all other competitors in the same sector\n            // since the sector total has changed\n            setTimeout(async ()=>{\n                try {\n                    for (const sectorCompDoc of sectorCompetitorsSnapshot.docs){\n                        const otherCompId = sectorCompDoc.id;\n                        if (otherCompId !== competitorId) {\n                            await recalculateCompetitorCoefficient(otherCompId, sector, sectorTotalNbPrises);\n                        }\n                    }\n                } catch (error) {\n                    console.error(\"Error recalculating sector coefficients:\", error);\n                }\n            }, 1000);\n        } catch (error) {\n            console.error(\"Error auto-calculating competitor totals:\", error);\n        }\n    };\n    // Helper function to recalculate coefficient for a specific competitor\n    const recalculateCompetitorCoefficient = async (competitorId, sector, sectorTotalNbPrises)=>{\n        try {\n            // Get competitor's current data\n            const competitorSnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.query)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.collection)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitors\"), (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.where)(\"__name__\", \"==\", competitorId)));\n            if (competitorSnapshot.empty) return;\n            const competitorData = competitorSnapshot.docs[0].data();\n            const points = competitorData.points || 0;\n            const nbPrisesGlobal = competitorData.nbPrisesGlobal || 0;\n            // Calculate new coefficient\n            let coefficientSecteur = 0;\n            if (sectorTotalNbPrises > 0) {\n                coefficientSecteur = points * nbPrisesGlobal / sectorTotalNbPrises;\n            }\n            // Update only the coefficient\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.updateDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.doc)(_lib_firebase__WEBPACK_IMPORTED_MODULE_3__.db, \"competitors\", competitorId), {\n                coefficientSecteur,\n                updatedAt: firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.Timestamp.now()\n            });\n            console.log(\"Updated coefficient for \".concat(competitorId, \": \").concat(coefficientSecteur));\n        } catch (error) {\n            console.error(\"Error updating coefficient for \".concat(competitorId, \":\"), error);\n        }\n    };\n    const value = {\n        competitors,\n        hourlyEntries,\n        bigCatches,\n        judges,\n        competitionSettings,\n        publicAppearanceSettings,\n        saveCompetitor,\n        deleteCompetitor,\n        saveHourlyEntry,\n        saveBigCatch,\n        saveJudge,\n        deleteJudge,\n        saveCompetitionSettings,\n        savePublicAppearanceSettings,\n        loading,\n        error\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FirestoreContext.Provider, {\n        value: value,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/providers/FirestoreSyncProvider.tsx\",\n        lineNumber: 578,\n        columnNumber: 5\n    }, this);\n}\n_s(FirestoreSyncProvider, \"TNwIguAWOC/AJrPoCbJXJW9iBGc=\");\n_c = FirestoreSyncProvider;\n// Custom hook - CRITICAL: This export is required!\nfunction useFirestore() {\n    _s1();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(FirestoreContext);\n    if (context === undefined) {\n        throw new Error(\"useFirestore must be used within a FirestoreSyncProvider\");\n    }\n    return context;\n}\n_s1(useFirestore, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\n// Export the context for advanced usage\n\nvar _c;\n$RefreshReg$(_c, \"FirestoreSyncProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9GaXJlc3RvcmVTeW5jUHJvdmlkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7QUFFOEU7QUFhbEQ7QUFDUTtBQWlJcEMsaUJBQWlCO0FBQ2pCLE1BQU1pQixpQ0FBbUJoQixvREFBYUEsQ0FBbUNpQjtBQUV6RSxxQkFBcUI7QUFDZCxTQUFTQyxzQkFBc0IsS0FBMkM7UUFBM0MsRUFBRUMsUUFBUSxFQUFpQyxHQUEzQzs7SUFDcEMsTUFBTSxDQUFDQyxhQUFhQyxlQUFlLEdBQUdsQiwrQ0FBUUEsQ0FBa0IsRUFBRTtJQUNsRSxNQUFNLENBQUNtQixlQUFlQyxpQkFBaUIsR0FBR3BCLCtDQUFRQSxDQUFtQixFQUFFO0lBQ3ZFLE1BQU0sQ0FBQ3FCLFlBQVlDLGNBQWMsR0FBR3RCLCtDQUFRQSxDQUFnQixFQUFFO0lBQzlELE1BQU0sQ0FBQ3VCLFFBQVFDLFVBQVUsR0FBR3hCLCtDQUFRQSxDQUFhLEVBQUU7SUFDbkQsTUFBTSxDQUFDeUIscUJBQXFCQyx1QkFBdUIsR0FBRzFCLCtDQUFRQSxDQUFnQztJQUM5RixNQUFNLENBQUMyQiwwQkFBMEJDLDRCQUE0QixHQUFHNUIsK0NBQVFBLENBQXFDO0lBQzdHLE1BQU0sQ0FBQzZCLFNBQVNDLFdBQVcsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQytCLE9BQU9DLFNBQVMsR0FBR2hDLCtDQUFRQSxDQUFnQjtJQUVsREQsZ0RBQVNBLENBQUM7UUFDUixNQUFNa0MsZ0JBQWdDLEVBQUU7UUFFeEMsSUFBSTtZQUNGLDJCQUEyQjtZQUMzQixNQUFNQyxtQkFBbUI1Qix5REFBS0EsQ0FDNUJMLDhEQUFVQSxDQUFDVyw2Q0FBRUEsRUFBRSxnQkFDZkwsMkRBQU9BLENBQUMsYUFBYTtZQUd2QixNQUFNNEIsbUJBQW1CakMsOERBQVVBLENBQ2pDZ0Msa0JBQ0EsQ0FBQ0U7Z0JBQ0MsTUFBTUMsT0FBT0QsU0FBU0UsSUFB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a0IscUJBQXFCO1lBQ3pCLElBQUlMLHNCQUFzQixHQUFHO2dCQUMzQksscUJBQXFCLFNBQVVsQixpQkFBa0JhO1lBQ25EO1lBRUEsOEJBQThCO1lBQzlCLE1BQU1uRiw2REFBU0EsQ0FBQ1AsdURBQUdBLENBQUNTLDZDQUFFQSxFQUFFLGVBQWV5RCxlQUFlO2dCQUNwRDZCO2dCQUNBcEMsV0FBV25ELHlEQUFTQSxDQUFDb0QsR0FBRztZQUMxQjtZQUVBdEIsUUFBUUssR0FBRyxDQUFDLDJCQUE0Q29ELE9BQWpCN0IsY0FBYSxNQUF1QixPQUFuQjZCO1FBQzFELEVBQUUsT0FBT25FLE9BQU87WUFDZFUsUUFBUVYsS0FBSyxDQUFDLGtDQUErQyxPQUFic0MsY0FBYSxNQUFJdEM7UUFDbkU7SUFDRjtJQUVBLE1BQU15RSxRQUE4QjtRQUNsQ3ZGO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FpQztRQUNBSztRQUNBQztRQUNBSTtRQUNBQztRQUNBQztRQUNBQztRQUNBQztRQUNBN0M7UUFDQUU7SUFDRjtJQUVBLHFCQUNFLDhEQUFDbEIsaUJBQWlCNEYsUUFBUTtRQUFDRCxPQUFPQTtrQkFDL0J4Rjs7Ozs7O0FBR1A7R0FoYmdCRDtLQUFBQTtBQWtiaEIsbURBQW1EO0FBQzVDLFNBQVMyRjs7SUFDZCxNQUFNQyxVQUFVN0csaURBQVVBLENBQUNlO0lBQzNCLElBQUk4RixZQUFZN0YsV0FBVztRQUN6QixNQUFNLElBQUkyQyxNQUFNO0lBQ2xCO0lBQ0EsT0FBT2tEO0FBQ1Q7SUFOZ0JEO0FBUWhCLHdDQUF3QztBQUNaIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9GaXJlc3RvcmVTeW5jUHJvdmlkZXIudHN4PzNmYWUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgUmVhY3QsIHsgY3JlYXRlQ29udGV4dCwgdXNlQ29udGV4dCwgdXNlRWZmZWN0LCB1c2VTdGF0ZSB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IFxuICBjb2xsZWN0aW9uLCBcbiAgb25TbmFwc2hvdCwgXG4gIGRvYywgXG4gIHNldERvYywgXG4gIGRlbGV0ZURvYyxcbiAgcXVlcnksIFxuICBvcmRlckJ5LFxuICB3aGVyZSxcbiAgZ2V0RG9jcyxcbiAgdXBkYXRlRG9jLFxuICBUaW1lc3RhbXAgXG59IGZyb20gJ2ZpcmViYXNlL2ZpcmVzdG9yZSc7XG5pbXBvcnQgeyBkYiB9IGZyb20gJ0AvbGliL2ZpcmViYXNlJztcblxuLy8gVHlwZXNcbmV4cG9ydCBpbnRlcmZhY2UgQ29tcGV0aXRvckRvYyB7XG4gIGlkOiBzdHJpbmc7XG4gIHNlY3Rvcjogc3RyaW5nO1xuICBib3hOdW1iZXI6IG51bWJlcjtcbiAgYm94Q29kZTogc3RyaW5nO1xuICBmdWxsTmFtZTogc3RyaW5nO1xuICBlcXVpcGU6IHN0cmluZztcbiAgcGhvdG86IHN0cmluZztcbiAgc3RhdHVzOiAnYWN0aXZlJyB8ICdpbmFjdGl2ZSc7XG4gIC8vIENoYW1wcyBjYWxjdWzDqXNcbiAgbmJQcmlzZXNHbG9iYWw/OiBudW1iZXI7ICAgICAgIC8vIFNvbW1lIGZpc2hDb3VudCBIMS1IN1xuICAgcG9pZHNUb3RhbEdsb2JhbD86IG51bWJlcjsgICAgIC8vIFNvbW1lIHRvdGFsV2VpZ2h0IEgxLUg3XG4gIGdyb3NzZVByaXNlPzogbnVtYmVyO1xuICBwb2ludHM/OiBudW1iZXI7XG4gIGNvZWZmaWNpZW50U2VjdGV1cj86IG51bWJlcjtcbiAgY2xhc3NlbWVudFNlY3RldXI/OiBudW1iZXI7XG4gIGNyZWF0ZWRBdD86IFRpbWVzdGFtcDtcbiAgdXBkYXRlZEF0PzogVGltZXN0YW1wO1xufVxuXG5leHBvcnQgaW50ZXJmYWNlIEhvdXJseUVudHJ5RG9jIHtcbiAgaWQ6IHN0cmluZztcbiAgc2VjdG9yOiBzdHJpbmc7XG4gIGNvbXBldGl0b3JJZDogc3RyaW5nO1xuICBib3hOdW1iZXI6IG51bWJlcjtcbiAgaG91cjogbnVtYmVyO1xuICBmaXNoQ291bnQ6IG51bWJlcjtcbiAgdG90YWxXZWlnaHQ6IG51bWJlcjtcbiAgc3RhdHVzOiAnZW1wdHknIHwgJ2luX3Byb2dyZXNzJyB8ICdsb2NrZWRfanVkZ2UnIHwgJ2xvY2tlZF9hZG1pbicgfCAnb2ZmbGluZV9qdWRnZScgfCAnb2ZmbGluZV9hZG1pbicgfCAnZXJyb3InO1xuICBzb3VyY2U6ICdKdWRnZScgfCAnQWRtaW4nO1xuICB1cGRhdGVkQnk/OiBzdHJpbmc7XG4gIHRpbWVzdGFtcD86IFRpbWVzdGFtcDtcbiAgY3JlYXRlZEF0PzogVGltZXN0YW1wO1xuICB1cGRhdGVkQXQ/OiBUaW1lc3RhbXA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQmlnQ2F0Y2hEb2Mge1xuICBpZDogc3RyaW5nO1xuICBzZWN0b3I6IHN0cmluZztcbiAgY29tcGV0aXRvcklkOiBzdHJpbmc7XG4gIGJveE51bWJlcjogbnVtYmVyO1xuICBncm9zc2VQcmlzZTogbnVtYmVyO1xuICBzdGF0dXM6ICdlbXB0eScgfCAnaW5fcHJvZ3Jlc3MnIHwgJ2xvY2tlZF9qdWRnZScgfCAnbG9ja2VkX2FkbWluJyB8ICdvZmZsaW5lX2p1ZGdlJyB8ICdvZmZsaW5lX2FkbWluJyB8ICdlcnJvcic7XG4gIHNvdXJjZTogJ0p1ZGdlJyB8ICdBZG1pbic7XG4gIHVwZGF0ZWRCeT86IHN0cmluZztcbiAgdGltZXN0YW1wPzogVGltZXN0YW1wO1xuICBjcmVhdGVkQXQ/OiBUaW1lc3RhbXA7XG4gIHVwZGF0ZWRBdD86IFRpbWVzdGFtcDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBKdWRnZURvYyB7XG4gIHVpZDogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHJvbGU6ICdhZG1pbicgfCAnanVkZ2UnO1xuICBzZWN0b3I6IHN0cmluZyB8IG51bGw7XG4gIHN0YXR1czogJ2FjdGl2ZScgfCAnaW5hY3RpdmUnO1xuICBjcmVhdGVkQXQ/OiBUaW1lc3RhbXA7XG4gIHVwZGF0ZWRBdD86IFRpbWVzdGFtcDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBDb21wZXRpdGlvblNldHRpbmdzRG9jIHtcbiAgaWQ6IHN0cmluZztcbiAgc3RhcnREYXRlVGltZTogc3RyaW5nO1xuICBlbmREYXRlVGltZTogc3RyaW5nO1xuICBzdGF0dXM6ICd1cGNvbWluZycgfCAnYWN0aXZlJyB8ICdjb21wbGV0ZWQnO1xuICBjdXJyZW50SG91cjogbnVtYmVyO1xuICBzb3VuZEVuYWJsZWQ6IGJvb2xlYW47XG4gIHVwZGF0ZWRBdD86IFRpbWVzdGFtcDtcbn1cblxuZXhwb3J0IGludGVyZmFjZSBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2Mge1xuICBpZDogc3RyaW5nO1xuICBsb2dvczoge1xuICAgIGxpZ2h0OiBzdHJpbmc7XG4gICAgZGFyazogc3RyaW5nO1xuICB9O1xuICBzcG9uc29yczogQXJyYXk8e1xuICAgIGlkOiBzdHJpbmc7XG4gICAgbmFtZTogc3RyaW5nO1xuICAgIGxvZ286IHN0cmluZztcbiAgICB0aWVyOiAndGl0bGUnIHwgJ2dvbGQnIHwgJ3NpbHZlcicgfCAnYnJvbnplJztcbiAgfT47XG4gIHNvY2lhbExpbmtzOiB7XG4gICAgeW91dHViZTogc3RyaW5nO1xuICAgIGZhY2Vib29rOiBzdHJpbmc7XG4gICAgaW5zdGFncmFtOiBzdHJpbmc7XG4gICAgd2Vic2l0ZTogc3RyaW5nO1xuICB9O1xuICBmb290ZXJUZXh0OiBzdHJpbmc7XG4gIHN0cmVhbURlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIHN0cmVhbVVybDogc3RyaW5nO1xuICB1cGRhdGVkQXQ/OiBUaW1lc3RhbXA7XG59XG5cbmV4cG9ydCBpbnRlcmZhY2UgQXVkaXRMb2dEb2Mge1xuICBpZDogc3RyaW5nO1xuICBhY3Rpb246IHN0cmluZztcbiAgZGV0YWlsczogc3RyaW5nO1xuICB1c2VySWQ/OiBzdHJpbmc7XG4gIHVzZXJuYW1lPzogc3RyaW5nO1xuICBtZXRhZGF0YT86IGFueTtcbiAgdGltZXN0YW1wOiBUaW1lc3RhbXA7XG59XG5cbi8vIENvbnRleHQgdHlwZVxuZXhwb3J0IGludGVyZmFjZSBGaXJlc3RvcmVDb250ZXh0VHlwZSB7XG4gIGNvbXBldGl0b3JzOiBDb21wZXRpdG9yRG9jW107XG4gIGhvdXJseUVudHJpZXM6IEhvdXJseUVudHJ5RG9jW107XG4gIGJpZ0NhdGNoZXM6IEJpZ0NhdGNoRG9jW107XG4gIGp1ZGdlczogSnVkZ2VEb2NbXTtcbiAgY29tcGV0aXRpb25TZXR0aW5nczogQ29tcGV0aXRpb25TZXR0aW5nc0RvYyB8IG51bGw7XG4gIHB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nczogUHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jIHwgbnVsbDtcbiAgc2F2ZUNvbXBldGl0b3I6IChkYXRhOiBPbWl0PENvbXBldGl0b3JEb2MsICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBkZWxldGVDb21wZXRpdG9yOiAoaWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2F2ZUhvdXJseUVudHJ5OiAoZGF0YTogT21pdDxIb3VybHlFbnRyeURvYywgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pID0+IFByb21pc2U8dm9pZD47XG4gIHNhdmVCaWdDYXRjaDogKGRhdGE6IE9taXQ8QmlnQ2F0Y2hEb2MsICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlSnVkZ2U6IChkYXRhOiBPbWl0PEp1ZGdlRG9jLCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgZGVsZXRlSnVkZ2U6ICh1aWQ6IHN0cmluZykgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2F2ZUNvbXBldGl0aW9uU2V0dGluZ3M6IChkYXRhOiBPbWl0PENvbXBldGl0aW9uU2V0dGluZ3NEb2MsICd1cGRhdGVkQXQnPikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgc2F2ZVB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nczogKGRhdGE6IE9taXQ8UHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jLCAndXBkYXRlZEF0Jz4pID0+IFByb21pc2U8dm9pZD47XG4gIGxvYWRpbmc6IGJvb2xlYW47XG4gIGVycm9yOiBzdHJpbmcgfCBudWxsO1xufVxuXG4vLyBDcmVhdGUgY29udGV4dFxuY29uc3QgRmlyZXN0b3JlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8RmlyZXN0b3JlQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbi8vIFByb3ZpZGVyIGNvbXBvbmVudFxuZXhwb3J0IGZ1bmN0aW9uIEZpcmVzdG9yZVN5bmNQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0LlJlYWN0Tm9kZSB9KSB7XG4gIGNvbnN0IFtjb21wZXRpdG9ycywgc2V0Q29tcGV0aXRvcnNdID0gdXNlU3RhdGU8Q29tcGV0aXRvckRvY1tdPihbXSk7XG4gIGNvbnN0IFtob3VybHlFbnRyaWVzLCBzZXRIb3VybHlFbnRyaWVzXSA9IHVzZVN0YXRlPEhvdXJseUVudHJ5RG9jW10+KFtdKTtcbiAgY29uc3QgW2JpZ0NhdGNoZXMsIHNldEJpZ0NhdGNoZXNdID0gdXNlU3RhdGU8QmlnQ2F0Y2hEb2NbXT4oW10pO1xuICBjb25zdCBbanVkZ2VzLCBzZXRKdWRnZXNdID0gdXNlU3RhdGU8SnVkZ2VEb2NbXT4oW10pO1xuICBjb25zdCBbY29tcGV0aXRpb25TZXR0aW5ncywgc2V0Q29tcGV0aXRpb25TZXR0aW5nc10gPSB1c2VTdGF0ZTxDb21wZXRpdGlvblNldHRpbmdzRG9jIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MsIHNldFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc10gPSB1c2VTdGF0ZTxQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2xvYWRpbmcsIHNldExvYWRpbmddID0gdXNlU3RhdGUodHJ1ZSk7XG4gIGNvbnN0IFtlcnJvciwgc2V0RXJyb3JdID0gdXNlU3RhdGU8c3RyaW5nIHwgbnVsbD4obnVsbCk7XG5cbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCB1bnN1YnNjcmliZXJzOiAoKCkgPT4gdm9pZClbXSA9IFtdO1xuXG4gICAgdHJ5IHtcbiAgICAgIC8vIFN1YnNjcmliZSB0byBjb21wZXRpdG9yc1xuICAgICAgY29uc3QgY29tcGV0aXRvcnNRdWVyeSA9IHF1ZXJ5KFxuICAgICAgICBjb2xsZWN0aW9uKGRiLCAnY29tcGV0aXRvcnMnKSxcbiAgICAgICAgb3JkZXJCeSgnYm94TnVtYmVyJywgJ2FzYycpXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCB1bnN1YkNvbXBldGl0b3JzID0gb25TbmFwc2hvdChcbiAgICAgICAgY29tcGV0aXRvcnNRdWVyeSxcbiAgICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgICB9IGFzIENvbXBldGl0b3JEb2MpKTtcbiAgICAgICAgICBzZXRDb21wZXRpdG9ycyhkYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgY29tcGV0aXRvcnM6JywgZXJyb3IpO1xuICAgICAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuc3ViQ29tcGV0aXRvcnMpO1xuXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gaG91cmx5IGVudHJpZXNcbiAgICAgIGNvbnN0IGhvdXJseVF1ZXJ5ID0gcXVlcnkoXG4gICAgICAgIGNvbGxlY3Rpb24oZGIsICdob3VybHlfZW50cmllcycpLFxuICAgICAgICBvcmRlckJ5KCdob3VyJywgJ2FzYycpXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCB1bnN1YkhvdXJseSA9IG9uU25hcHNob3QoXG4gICAgICAgIGhvdXJseVF1ZXJ5LFxuICAgICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgICBjb25zdCBkYXRhID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICAgIH0gYXMgSG91cmx5RW50cnlEb2MpKTtcbiAgICAgICAgICBzZXRIb3VybHlFbnRyaWVzKGRhdGEpO1xuICAgICAgICAgIGNvbnNvbGUubG9nKCdIb3VybHkgZW50cmllcyBsb2FkZWQgZnJvbSBGaXJlYmFzZTonLCBkYXRhLmxlbmd0aCk7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGhvdXJseSBlbnRyaWVzOicsIGVycm9yKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHVuc3Vic2NyaWJlcnMucHVzaCh1bnN1YkhvdXJseSk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBiaWcgY2F0Y2hlc1xuICAgICAgY29uc3QgYmlnQ2F0Y2hlc1F1ZXJ5ID0gcXVlcnkoXG4gICAgICAgIGNvbGxlY3Rpb24oZGIsICdiaWdfY2F0Y2hlcycpLFxuICAgICAgICBvcmRlckJ5KCdiaWdnZXN0Q2F0Y2gnLCAnZGVzYycpXG4gICAgICApO1xuICAgICAgXG4gICAgICBjb25zdCB1bnN1YkJpZ0NhdGNoZXMgPSBvblNuYXBzaG90KFxuICAgICAgICBiaWdDYXRjaGVzUXVlcnksXG4gICAgICAgIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICAgIGNvbnN0IGRhdGEgPSBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcbiAgICAgICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgICAgfSBhcyBCaWdDYXRjaERvYykpO1xuICAgICAgICAgIHNldEJpZ0NhdGNoZXMoZGF0YSk7XG4gICAgICAgICAgY29uc29sZS5sb2coJ0JpZyBjYXRjaGVzIGxvYWRlZCBmcm9tIEZpcmViYXNlOicsIGRhdGEubGVuZ3RoKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcgYmlnIGNhdGNoZXM6JywgZXJyb3IpO1xuICAgICAgICAgIHNldEVycm9yKGVycm9yLm1lc3NhZ2UpO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuc3ViQmlnQ2F0Y2hlcyk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBqdWRnZXNcbiAgICAgIGNvbnN0IGp1ZGdlc1F1ZXJ5ID0gcXVlcnkoXG4gICAgICAgIGNvbGxlY3Rpb24oZGIsICdqdWRnZXMnKSxcbiAgICAgICAgb3JkZXJCeSgnbmFtZScsICdhc2MnKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgY29uc3QgdW5zdWJKdWRnZXMgPSBvblNuYXBzaG90KFxuICAgICAgICBqdWRnZXNRdWVyeSxcbiAgICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgICAgY29uc3QgZGF0YSA9IHNuYXBzaG90LmRvY3MubWFwKGRvYyA9PiAoe1xuICAgICAgICAgICAgdWlkOiBkb2MuaWQsXG4gICAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgICAgfSBhcyBKdWRnZURvYykpO1xuICAgICAgICAgIHNldEp1ZGdlcyhkYXRhKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZmV0Y2hpbmcganVkZ2VzOicsIGVycm9yKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHVuc3Vic2NyaWJlcnMucHVzaCh1bnN1Ykp1ZGdlcyk7XG5cbiAgICAgIC8vIFN1YnNjcmliZSB0byBjb21wZXRpdGlvbiBzZXR0aW5nc1xuICAgICAgY29uc3QgdW5zdWJTZXR0aW5ncyA9IG9uU25hcHNob3QoXG4gICAgICAgIGRvYyhkYiwgJ2NvbXBldGl0aW9uU2V0dGluZ3MnLCAnbWFpbicpLFxuICAgICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgIHNldENvbXBldGl0aW9uU2V0dGluZ3Moe1xuICAgICAgICAgICAgICBpZDogc25hcHNob3QuaWQsXG4gICAgICAgICAgICAgIC4uLnNuYXBzaG90LmRhdGEoKVxuICAgICAgICAgICAgfSBhcyBDb21wZXRpdGlvblNldHRpbmdzRG9jKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGZldGNoaW5nIGNvbXBldGl0aW9uIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgICAgICBzZXRFcnJvcihlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHVuc3Vic2NyaWJlcnMucHVzaCh1bnN1YlNldHRpbmdzKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIHB1YmxpYyBhcHBlYXJhbmNlIHNldHRpbmdzXG4gICAgICBjb25zdCB1bnN1YkFwcGVhcmFuY2UgPSBvblNuYXBzaG90KFxuICAgICAgICBkb2MoZGIsICdwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MnLCAnbWFpbicpLFxuICAgICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgICBpZiAoc25hcHNob3QuZXhpc3RzKCkpIHtcbiAgICAgICAgICAgIHNldFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyh7XG4gICAgICAgICAgICAgIGlkOiBzbmFwc2hvdC5pZCxcbiAgICAgICAgICAgICAgLi4uc25hcHNob3QuZGF0YSgpXG4gICAgICAgICAgICB9IGFzIFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc0RvYyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBmZXRjaGluZyBwdWJsaWMgYXBwZWFyYW5jZSBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICAgICAgc2V0RXJyb3IoZXJyb3IubWVzc2FnZSk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1bnN1YnNjcmliZXJzLnB1c2godW5zdWJBcHBlYXJhbmNlKTtcblxuICAgICAgc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzZXR0aW5nIHVwIEZpcmVzdG9yZSBzdWJzY3JpcHRpb25zOicsIGVycik7XG4gICAgICBzZXRFcnJvcihlcnIgaW5zdGFuY2VvZiBFcnJvciA/IGVyci5tZXNzYWdlIDogJ1Vua25vd24gZXJyb3InKTtcbiAgICAgIHNldExvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIC8vIENsZWFudXBcbiAgICByZXR1cm4gKCkgPT4ge1xuICAgICAgdW5zdWJzY3JpYmVycy5mb3JFYWNoKHVuc3ViID0+IHVuc3ViKCkpO1xuICAgIH07XG4gIH0sIFtdKTtcblxuICAvLyBTYXZlIGZ1bmN0aW9uc1xuICBjb25zdCBzYXZlQ29tcGV0aXRvciA9IGFzeW5jIChkYXRhOiBPbWl0PENvbXBldGl0b3JEb2MsICdjcmVhdGVkQXQnIHwgJ3VwZGF0ZWRBdCc+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgJ2NvbXBldGl0b3JzJywgZGF0YS5pZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpXG4gICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNvbXBldGl0b3I6JywgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgZGVsZXRlQ29tcGV0aXRvciA9IGFzeW5jIChpZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGRlbGV0ZURvYyhkb2MoZGIsICdjb21wZXRpdG9ycycsIGlkKSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBkZWxldGluZyBjb21wZXRpdG9yOicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhdmVIb3VybHlFbnRyeSA9IGFzeW5jIChkYXRhOiBPbWl0PEhvdXJseUVudHJ5RG9jLCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnU2F2aW5nIGhvdXJseSBlbnRyeSB0byBGaXJlYmFzZTonLCBkYXRhKTtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgJ2hvdXJseV9lbnRyaWVzJywgZGF0YS5pZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxuICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdIb3VybHkgZW50cnkgc2F2ZWQgc3VjY2Vzc2Z1bGx5IHRvIEZpcmViYXNlJyk7XG4gICAgICBcbiAgICAgIC8vIEF1dG8tY2FsY3VsYXRlIGNvbXBldGl0b3IgdG90YWxzIGFmdGVyIHNhdmluZyBob3VybHkgZW50cnlcbiAgICAgIGF3YWl0IHJlY2FsY3VsYXRlQ29tcGV0aXRvclRvdGFscyhkYXRhLmNvbXBldGl0b3JJZCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgaG91cmx5IGVudHJ5OicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhdmVCaWdDYXRjaCA9IGFzeW5jIChkYXRhOiBPbWl0PEJpZ0NhdGNoRG9jLCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zb2xlLmxvZygnU2F2aW5nIGJpZyBjYXRjaCB0byBGaXJlYmFzZTonLCBkYXRhKTtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgJ2JpZ19jYXRjaGVzJywgZGF0YS5pZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIGNyZWF0ZWRBdDogVGltZXN0YW1wLm5vdygpLFxuICAgICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxuICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgIGNvbnNvbGUubG9nKCdCaWcgY2F0Y2ggc2F2ZWQgc3VjY2Vzc2Z1bGx5IHRvIEZpcmViYXNlJyk7XG4gICAgICBcbiAgICAgIC8vIEF1dG8tY2FsY3VsYXRlIGNvbXBldGl0b3IgdG90YWxzIGFmdGVyIHNhdmluZyBiaWcgY2F0Y2hcbiAgICAgIGF3YWl0IHJlY2FsY3VsYXRlQ29tcGV0aXRvclRvdGFscyhkYXRhLmNvbXBldGl0b3JJZCk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgYmlnIGNhdGNoOicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhdmVKdWRnZSA9IGFzeW5jIChkYXRhOiBPbWl0PEp1ZGdlRG9jLCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsICdqdWRnZXMnLCBkYXRhLnVpZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmRhdGEsXG4gICAgICAgIHVwZGF0ZWRBdDogVGltZXN0YW1wLm5vdygpXG4gICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgIH0gY2F0Y2ggKGVycikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGp1ZGdlOicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGRlbGV0ZUp1ZGdlID0gYXN5bmMgKHVpZDogc3RyaW5nKSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGF3YWl0IGRlbGV0ZURvYyhkb2MoZGIsICdqdWRnZXMnLCB1aWQpKTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGRlbGV0aW5nIGp1ZGdlOicsIGVycik7XG4gICAgICB0aHJvdyBlcnI7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhdmVDb21wZXRpdGlvblNldHRpbmdzID0gYXN5bmMgKGRhdGE6IE9taXQ8Q29tcGV0aXRpb25TZXR0aW5nc0RvYywgJ3VwZGF0ZWRBdCc+KSA9PiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgJ2NvbXBldGl0aW9uU2V0dGluZ3MnLCAnbWFpbicpO1xuICAgICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgICAuLi5kYXRhLFxuICAgICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxuICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICB9IGNhdGNoIChlcnIpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb21wZXRpdGlvbiBzZXR0aW5nczonLCBlcnIpO1xuICAgICAgdGhyb3cgZXJyO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzID0gYXN5bmMgKGRhdGE6IE9taXQ8UHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jLCAndXBkYXRlZEF0Jz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCAncHVibGljQXBwZWFyYW5jZVNldHRpbmdzJywgJ21haW4nKTtcbiAgICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgICAgLi4uZGF0YSxcbiAgICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KClcbiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgfSBjYXRjaCAoZXJyKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcHVibGljIGFwcGVhcmFuY2Ugc2V0dGluZ3M6JywgZXJyKTtcbiAgICAgIHRocm93IGVycjtcbiAgICB9XG4gIH07XG5cbiAgLy8gQXV0by1jYWxjdWxhdGlvbiBmdW5jdGlvblxuICBjb25zdCByZWNhbGN1bGF0ZUNvbXBldGl0b3JUb3RhbHMgPSBhc3luYyAoY29tcGV0aXRvcklkOiBzdHJpbmcpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGNvbXBldGl0b3IgaW5mbyBmaXJzdFxuICAgICAgY29uc3QgY29tcGV0aXRvckRvYyA9IGNvbXBldGl0b3JzLmZpbmQoYyA9PiBjLmlkID09PSBjb21wZXRpdG9ySWQpO1xuICAgICAgaWYgKCFjb21wZXRpdG9yRG9jKSByZXR1cm47XG4gICAgICBcbiAgICAgIGNvbnN0IHNlY3RvciA9IGNvbXBldGl0b3JEb2Muc2VjdG9yO1xuICAgICAgXG4gICAgICAvLyBHZXQgYWxsIGhvdXJseSBlbnRyaWVzIGZvciB0aGlzIGNvbXBldGl0b3JcbiAgICAgIGNvbnN0IGhvdXJseUVudHJpZXNTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoXG4gICAgICAgIHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdob3VybHlfZW50cmllcycpLCB3aGVyZSgnY29tcGV0aXRvcklkJywgJz09JywgY29tcGV0aXRvcklkKSlcbiAgICAgICk7XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSB0b3RhbHNcbiAgICAgIGxldCBuYlByaXNlc0dsb2JhbCA9IDA7XG4gICAgICBsZXQgcG9pZHNUb3RhbEdsb2JhbCA9IDA7XG4gICAgICBcbiAgICAgIGhvdXJseUVudHJpZXNTbmFwc2hvdC5kb2NzLmZvckVhY2goZG9jID0+IHtcbiAgICAgICAgY29uc3QgZW50cnkgPSBkb2MuZGF0YSgpO1xuICAgICAgICBpZiAoWydsb2NrZWRfanVkZ2UnLCAnbG9ja2VkX2FkbWluJywgJ29mZmxpbmVfanVkZ2UnLCAnb2ZmbGluZV9hZG1pbiddLmluY2x1ZGVzKGVudHJ5LnN0YXR1cykpIHtcbiAgICAgICAgICBuYlByaXNlc0dsb2JhbCArPSBlbnRyeS5maXNoQ291bnQgfHwgMDtcbiAgICAgICAgICBwb2lkc1RvdGFsR2xvYmFsICs9IGVudHJ5LnRvdGFsV2VpZ2h0IHx8IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBHZXQgZ3Jvc3NlIHByaXNlXG4gICAgICBjb25zdCBiaWdDYXRjaFNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhcbiAgICAgICAgcXVlcnkoY29sbGVjdGlvbihkYiwgJ2JpZ19jYXRjaGVzJyksIHdoZXJlKCdjb21wZXRpdG9ySWQnLCAnPT0nLCBjb21wZXRpdG9ySWQpKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgbGV0IGdyb3NzZVByaXNlID0gMDtcbiAgICAgIGlmICghYmlnQ2F0Y2hTbmFwc2hvdC5lbXB0eSkge1xuICAgICAgICBjb25zdCBiaWdDYXRjaERhdGEgPSBiaWdDYXRjaFNuYXBzaG90LmRvY3NbMF0uZGF0YSgpO1xuICAgICAgICBpZiAoWydsb2NrZWRfanVkZ2UnLCAnbG9ja2VkX2FkbWluJywgJ29mZmxpbmVfanVkZ2UnLCAnb2ZmbGluZV9hZG1pbiddLmluY2x1ZGVzKGJpZ0NhdGNoRGF0YS5zdGF0dXMpKSB7XG4gICAgICAgICAgZ3Jvc3NlUHJpc2UgPSBiaWdDYXRjaERhdGEuZ3Jvc3NlUHJpc2UgfHwgMDtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgcG9pbnRzXG4gICAgICBjb25zdCBwb2ludHMgPSAobmJQcmlzZXNHbG9iYWwgKiA1MCkgKyBwb2lkc1RvdGFsR2xvYmFsO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgY29lZmZpY2llbnRTZWN0ZXVyXG4gICAgICAvLyBGaXJzdCwgZ2V0IGFsbCBjb21wZXRpdG9ycyBpbiB0aGUgc2FtZSBzZWN0b3IgdG8gY2FsY3VsYXRlIHNlY3RvciB0b3RhbFxuICAgICAgY29uc3Qgc2VjdG9yQ29tcGV0aXRvcnNTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoXG4gICAgICAgIHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdjb21wZXRpdG9ycycpLCB3aGVyZSgnc2VjdG9yJywgJz09Jywgc2VjdG9yKSlcbiAgICAgICk7XG4gICAgICBcbiAgICAgIGxldCBzZWN0b3JUb3RhbE5iUHJpc2VzID0gMDtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIHNlY3RvciB0b3RhbCBmcm9tIGFsbCBjb21wZXRpdG9ycyBpbiB0aGlzIHNlY3RvclxuICAgICAgZm9yIChjb25zdCBzZWN0b3JDb21wRG9jIG9mIHNlY3RvckNvbXBldGl0b3JzU25hcHNob3QuZG9jcykge1xuICAgICAgICBjb25zdCBzZWN0b3JDb21wSWQgPSBzZWN0b3JDb21wRG9jLmlkO1xuICAgICAgICBcbiAgICAgICAgLy8gR2V0IGhvdXJseSBlbnRyaWVzIGZvciB0aGlzIHNlY3RvciBjb21wZXRpdG9yXG4gICAgICAgIGNvbnN0IHNlY3RvckhvdXJseVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhcbiAgICAgICAgICBxdWVyeShjb2xsZWN0aW9uKGRiLCAnaG91cmx5X2VudHJpZXMnKSwgd2hlcmUoJ2NvbXBldGl0b3JJZCcsICc9PScsIHNlY3RvckNvbXBJZCkpXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBsZXQgY29tcE5iUHJpc2VzID0gMDtcbiAgICAgICAgc2VjdG9ySG91cmx5U25hcHNob3QuZG9jcy5mb3JFYWNoKGRvYyA9PiB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSBkb2MuZGF0YSgpO1xuICAgICAgICAgIGlmIChbJ2xvY2tlZF9qdWRnZScsICdsb2NrZWRfYWRtaW4nLCAnb2ZmbGluZV9qdWRnZScsICdvZmZsaW5lX2FkbWluJ10uaW5jbHVkZXMoZW50cnkuc3RhdHVzKSkge1xuICAgICAgICAgICAgY29tcE5iUHJpc2VzICs9IGVudHJ5LmZpc2hDb3VudCB8fCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgICAgICBzZWN0b3JUb3RhbE5iUHJpc2VzICs9IGNvbXBOYlByaXNlcztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGNvZWZmaWNpZW50OiAoUG9pbnRzIMOXIE5iIFByaXNlcyBnbG9iYWwpIC8gVG90YWwgTmIgUHJpc2VzIGdsb2JhbCBTZWN0ZXVyXG4gICAgICBsZXQgY29lZmZpY2llbnRTZWN0ZXVyID0gMDtcbiAgICAgIGlmIChzZWN0b3JUb3RhbE5iUHJpc2VzID4gMCkge1xuICAgICAgICBjb2VmZmljaWVudFNlY3RldXIgPSAocG9pbnRzICogbmJQcmlzZXNHbG9iYWwpIC8gc2VjdG9yVG90YWxOYlByaXNlcztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIGNvbXBldGl0b3IgZG9jdW1lbnQgd2l0aCBjb2VmZmljaWVudFxuICAgICAgYXdhaXQgdXBkYXRlRG9jKGRvYyhkYiwgJ2NvbXBldGl0b3JzJywgY29tcGV0aXRvcklkKSwge1xuICAgICAgICBuYlByaXNlc0dsb2JhbCxcbiAgICAgICAgcG9pZHNUb3RhbEdsb2JhbCxcbiAgICAgICAgZ3Jvc3NlUHJpc2UsXG4gICAgICAgIHBvaW50cyxcbiAgICAgICAgY29lZmZpY2llbnRTZWN0ZXVyLFxuICAgICAgICB1cGRhdGVkQXQ6IFRpbWVzdGFtcC5ub3coKVxuICAgICAgfSk7XG4gICAgICBcbiAgICAgIGNvbnNvbGUubG9nKGBBdXRvLWNhbGN1bGF0ZWQgdG90YWxzIGZvciAke2NvbXBldGl0b3JJZH06YCwge1xuICAgICAgICBuYlByaXNlc0dsb2JhbCxcbiAgICAgICAgcG9pZHNUb3RhbEdsb2JhbCxcbiAgICAgICAgZ3Jvc3NlUHJpc2UsXG4gICAgICAgIHBvaW50cyxcbiAgICAgICAgY29lZmZpY2llbnRTZWN0ZXVyXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQWxzbyByZWNhbGN1bGF0ZSBjb2VmZmljaWVudHMgZm9yIGFsbCBvdGhlciBjb21wZXRpdG9ycyBpbiB0aGUgc2FtZSBzZWN0b3JcbiAgICAgIC8vIHNpbmNlIHRoZSBzZWN0b3IgdG90YWwgaGFzIGNoYW5nZWRcbiAgICAgIHNldFRpbWVvdXQoYXN5bmMgKCkgPT4ge1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGZvciAoY29uc3Qgc2VjdG9yQ29tcERvYyBvZiBzZWN0b3JDb21wZXRpdG9yc1NuYXBzaG90LmRvY3MpIHtcbiAgICAgICAgICAgIGNvbnN0IG90aGVyQ29tcElkID0gc2VjdG9yQ29tcERvYy5pZDtcbiAgICAgICAgICAgIGlmIChvdGhlckNvbXBJZCAhPT0gY29tcGV0aXRvcklkKSB7XG4gICAgICAgICAgICAgIGF3YWl0IHJlY2FsY3VsYXRlQ29tcGV0aXRvckNvZWZmaWNpZW50KG90aGVyQ29tcElkLCBzZWN0b3IsIHNlY3RvclRvdGFsTmJQcmlzZXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciByZWNhbGN1bGF0aW5nIHNlY3RvciBjb2VmZmljaWVudHM6JywgZXJyb3IpO1xuICAgICAgICB9XG4gICAgICB9LCAxMDAwKTtcbiAgICAgIFxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBhdXRvLWNhbGN1bGF0aW5nIGNvbXBldGl0b3IgdG90YWxzOicsIGVycm9yKTtcbiAgICB9XG4gIH07XG5cbiAgLy8gSGVscGVyIGZ1bmN0aW9uIHRvIHJlY2FsY3VsYXRlIGNvZWZmaWNpZW50IGZvciBhIHNwZWNpZmljIGNvbXBldGl0b3JcbiAgY29uc3QgcmVjYWxjdWxhdGVDb21wZXRpdG9yQ29lZmZpY2llbnQgPSBhc3luYyAoY29tcGV0aXRvcklkOiBzdHJpbmcsIHNlY3Rvcjogc3RyaW5nLCBzZWN0b3JUb3RhbE5iUHJpc2VzOiBudW1iZXIpID0+IHtcbiAgICB0cnkge1xuICAgICAgLy8gR2V0IGNvbXBldGl0b3IncyBjdXJyZW50IGRhdGFcbiAgICAgIGNvbnN0IGNvbXBldGl0b3JTbmFwc2hvdCA9IGF3YWl0IGdldERvY3MoXG4gICAgICAgIHF1ZXJ5KGNvbGxlY3Rpb24oZGIsICdjb21wZXRpdG9ycycpLCB3aGVyZSgnX19uYW1lX18nLCAnPT0nLCBjb21wZXRpdG9ySWQpKVxuICAgICAgKTtcbiAgICAgIFxuICAgICAgaWYgKGNvbXBldGl0b3JTbmFwc2hvdC5lbXB0eSkgcmV0dXJuO1xuICAgICAgXG4gICAgICBjb25zdCBjb21wZXRpdG9yRGF0YSA9IGNvbXBldGl0b3JTbmFwc2hvdC5kb2NzWzBdLmRhdGEoKTtcbiAgICAgIGNvbnN0IHBvaW50cyA9IGNvbXBldGl0b3JEYXRhLnBvaW50cyB8fCAwO1xuICAgICAgY29uc3QgbmJQcmlzZXNHbG9iYWwgPSBjb21wZXRpdG9yRGF0YS5uYlByaXNlc0dsb2JhbCB8fCAwO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgbmV3IGNvZWZmaWNpZW50XG4gICAgICBsZXQgY29lZmZpY2llbnRTZWN0ZXVyID0gMDtcbiAgICAgIGlmIChzZWN0b3JUb3RhbE5iUHJpc2VzID4gMCkge1xuICAgICAgICBjb2VmZmljaWVudFNlY3RldXIgPSAocG9pbnRzICogbmJQcmlzZXNHbG9iYWwpIC8gc2VjdG9yVG90YWxOYlByaXNlcztcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gVXBkYXRlIG9ubHkgdGhlIGNvZWZmaWNpZW50XG4gICAgICBhd2FpdCB1cGRhdGVEb2MoZG9jKGRiLCAnY29tcGV0aXRvcnMnLCBjb21wZXRpdG9ySWQpLCB7XG4gICAgICAgIGNvZWZmaWNpZW50U2VjdGV1cixcbiAgICAgICAgdXBkYXRlZEF0OiBUaW1lc3RhbXAubm93KClcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb25zb2xlLmxvZyhgVXBkYXRlZCBjb2VmZmljaWVudCBmb3IgJHtjb21wZXRpdG9ySWR9OiAke2NvZWZmaWNpZW50U2VjdGV1cn1gKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihgRXJyb3IgdXBkYXRpbmcgY29lZmZpY2llbnQgZm9yICR7Y29tcGV0aXRvcklkfTpgLCBlcnJvcik7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHZhbHVlOiBGaXJlc3RvcmVDb250ZXh0VHlwZSA9IHtcbiAgICBjb21wZXRpdG9ycyxcbiAgICBob3VybHlFbnRyaWVzLFxuICAgIGJpZ0NhdGNoZXMsXG4gICAganVkZ2VzLFxuICAgIGNvbXBldGl0aW9uU2V0dGluZ3MsXG4gICAgcHVibGljQXBwZWFyYW5jZVNldHRpbmdzLFxuICAgIHNhdmVDb21wZXRpdG9yLFxuICAgIGRlbGV0ZUNvbXBldGl0b3IsXG4gICAgc2F2ZUhvdXJseUVudHJ5LFxuICAgIHNhdmVCaWdDYXRjaCxcbiAgICBzYXZlSnVkZ2UsXG4gICAgZGVsZXRlSnVkZ2UsXG4gICAgc2F2ZUNvbXBldGl0aW9uU2V0dGluZ3MsXG4gICAgc2F2ZVB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyxcbiAgICBsb2FkaW5nLFxuICAgIGVycm9yXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8RmlyZXN0b3JlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17dmFsdWV9PlxuICAgICAge2NoaWxkcmVufVxuICAgIDwvRmlyZXN0b3JlQ29udGV4dC5Qcm92aWRlcj5cbiAgKTtcbn1cblxuLy8gQ3VzdG9tIGhvb2sgLSBDUklUSUNBTDogVGhpcyBleHBvcnQgaXMgcmVxdWlyZWQhXG5leHBvcnQgZnVuY3Rpb24gdXNlRmlyZXN0b3JlKCkge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChGaXJlc3RvcmVDb250ZXh0KTtcbiAgaWYgKGNvbnRleHQgPT09IHVuZGVmaW5lZCkge1xuICAgIHRocm93IG5ldyBFcnJvcigndXNlRmlyZXN0b3JlIG11c3QgYmUgdXNlZCB3aXRoaW4gYSBGaXJlc3RvcmVTeW5jUHJvdmlkZXInKTtcbiAgfVxuICByZXR1cm4gY29udGV4dDtcbn1cblxuLy8gRXhwb3J0IHRoZSBjb250ZXh0IGZvciBhZHZhbmNlZCB1c2FnZVxuZXhwb3J0IHsgRmlyZXN0b3JlQ29udGV4dCB9OyJdLCJuYW1lcyI6WyJSZWFjdCIsImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJjb2xsZWN0aW9uIiwib25TbmFwc2hvdCIsImRvYyIsInNldERvYyIsImRlbGV0ZURvYyIsInF1ZXJ5Iiwib3JkZXJCeSIsIndoZXJlIiwiZ2V0RG9jcyIsInVwZGF0ZURvYyIsIlRpbWVzdGFtcCIsImRiIiwiRmlyZXN0b3JlQ29udGV4dCIsInVuZGVmaW5lZCIsIkZpcmVzdG9yZVN5bmNQcm92aWRlciIsImNoaWxkcmVuIiwiY29tcGV0aXRvcnMiLCJzZXRDb21wZXRpdG9ycyIsImhvdXJseUVudHJpZXMiLCJzZXRIb3VybHlFbnRyaWVzIiwiYmlnQ2F0Y2hlcyIsInNldEJpZ0NhdGNoZXMiLCJqdWRnZXMiLCJzZXRKdWRnZXMiLCJjb21wZXRpdGlvblNldHRpbmdzIiwic2V0Q29tcGV0aXRpb25TZXR0aW5ncyIsInB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyIsInNldFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyIsImxvYWRpbmciLCJzZXRMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInVuc3Vic2NyaWJlcnMiLCJjb21wZXRpdG9yc1F1ZXJ5IiwidW5zdWJDb21wZXRpdG9ycyIsInNuYXBzaG90IiwiZGF0YSIsImRvY3MiLCJtYXAiLCJpZCIsImNvbnNvbGUiLCJtZXNzYWdlIiwicHVzaCIsImhvdXJseVF1ZXJ5IiwidW5zdWJIb3VybHkiLCJsb2ciLCJsZW5ndGgiLCJiaWdDYXRjaGVzUXVlcnkiLCJ1bnN1YkJpZ0NhdGNoZXMiLCJqdWRnZXNRdWVyeSIsInVuc3ViSnVkZ2VzIiwidWlkIiwidW5zdWJTZXR0aW5ncyIsImV4aXN0cyIsInVuc3ViQXBwZWFyYW5jZSIsImVyciIsIkVycm9yIiwiZm9yRWFjaCIsInVuc3ViIiwic2F2ZUNvbXBldGl0b3IiLCJkb2NSZWYiLCJ1cGRhdGVkQXQiLCJub3ciLCJtZXJnZSIsImRlbGV0ZUNvbXBldGl0b3IiLCJzYXZlSG91cmx5RW50cnkiLCJjcmVhdGVkQXQiLCJyZWNhbGN1bGF0ZUNvbXBldGl0b3JUb3RhbHMiLCJjb21wZXRpdG9ySWQiLCJzYXZlQmlnQ2F0Y2giLCJzYXZlSnVkZ2UiLCJkZWxldGVKdWRnZSIsInNhdmVDb21wZXRpdGlvblNldHRpbmdzIiwic2F2ZVB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyIsImNvbXBldGl0b3JEb2MiLCJmaW5kIiwiYyIsInNlY3RvciIsImhvdXJseUVudHJpZXNTbmFwc2hvdCIsIm5iUHJpc2VzR2xvYmFsIiwicG9pZHNUb3RhbEdsb2JhbCIsImVudHJ5IiwiaW5jbHVkZXMiLCJzdGF0dXMiLCJmaXNoQ291bnQiLCJ0b3RhbFdlaWdodCIsImJpZ0NhdGNoU25hcHNob3QiLCJncm9zc2VQcmlzZSIsImVtcHR5IiwiYmlnQ2F0Y2hEYXRhIiwicG9pbnRzIiwic2VjdG9yQ29tcGV0aXRvcnNTbmFwc2hvdCIsInNlY3RvclRvdGFsTmJQcmlzZXMiLCJzZWN0b3JDb21wRG9jIiwic2VjdG9yQ29tcElkIiwic2VjdG9ySG91cmx5U25hcHNob3QiLCJjb21wTmJQcmlzZXMiLCJjb2VmZmljaWVudFNlY3RldXIiLCJzZXRUaW1lb3V0Iiwib3RoZXJDb21wSWQiLCJyZWNhbGN1bGF0ZUNvbXBldGl0b3JDb2VmZmljaWVudCIsImNvbXBldGl0b3JTbmFwc2hvdCIsImNvbXBldGl0b3JEYXRhIiwidmFsdWUiLCJQcm92aWRlciIsInVzZUZpcmVzdG9yZSIsImNvbnRleHQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/providers/TranslationProvider.tsx":
/*!**********************************************************!*\
  !*** ./src/components/providers/TranslationProvider.tsx ***!
  \**********************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   TranslationProvider: function() { return /* binding */ TranslationProvider; },\n/* harmony export */   useTranslations: function() { return /* binding */ useTranslations; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _messages_fr_json__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @messages/fr.json */ \"(app-pages-browser)/./messages/fr.json\");\n/* __next_internal_client_entry_do_not_use__ useTranslations,TranslationProvider auto */ \nvar _s = $RefreshSig$();\n\n\nconst TranslationContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useTranslations(namespace) {\n    _s();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(TranslationContext);\n    if (!context) {\n        throw new Error(\"useTranslations must be used within a TranslationProvider\");\n    }\n    return (key)=>{\n        const fullKey = namespace ? \"\".concat(namespace, \".\").concat(key) : key;\n        const keys = fullKey.split(\".\");\n        let value = _messages_fr_json__WEBPACK_IMPORTED_MODULE_2__;\n        for (const k of keys){\n            value = value === null || value === void 0 ? void 0 : value[k];\n        }\n        return typeof value === \"string\" ? value : fullKey;\n    };\n}\n_s(useTranslations, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction TranslationProvider(param) {\n    let { children } = param;\n    const t = (key)=>{\n        const keys = key.split(\".\");\n        let value = _messages_fr_json__WEBPACK_IMPORTED_MODULE_2__;\n        for (const k of keys){\n            value = value === null || value === void 0 ? void 0 : value[k];\n        }\n        return typeof value === \"string\" ? value : key;\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(TranslationContext.Provider, {\n        value: {\n            t\n        },\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/providers/TranslationProvider.tsx\",\n        lineNumber: 48,\n        columnNumber: 5\n    }, this);\n}\n_c = TranslationProvider;\nvar _c;\n$RefreshReg$(_c, \"TranslationProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9UcmFuc2xhdGlvblByb3ZpZGVyLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUU2RDtBQUNwQjtBQU16QyxNQUFNRyxtQ0FBcUJILG9EQUFhQSxDQUFxQ0k7QUFFdEUsU0FBU0MsZ0JBQWdCQyxTQUFrQjs7SUFDaEQsTUFBTUMsVUFBVU4saURBQVVBLENBQUNFO0lBQzNCLElBQUksQ0FBQ0ksU0FBUztRQUNaLE1BQU0sSUFBSUMsTUFBTTtJQUNsQjtJQUVBLE9BQU8sQ0FBQ0M7UUFDTixNQUFNQyxVQUFVSixZQUFZLEdBQWdCRyxPQUFiSCxXQUFVLEtBQU8sT0FBSkcsT0FBUUE7UUFDcEQsTUFBTUUsT0FBT0QsUUFBUUUsS0FBSyxDQUFDO1FBQzNCLElBQUlDLFFBQWFYLDhDQUFRQTtRQUV6QixLQUFLLE1BQU1ZLEtBQUtILEtBQU07WUFDcEJFLFFBQVFBLGtCQUFBQSw0QkFBQUEsS0FBTyxDQUFDQyxFQUFFO1FBQ3BCO1FBRUEsT0FBTyxPQUFPRCxVQUFVLFdBQVdBLFFBQVFIO0lBQzdDO0FBQ0Y7R0FqQmdCTDtBQXVCVCxTQUFTVSxvQkFBb0IsS0FBbUI7UUFBbkIsRUFBRUMsUUFBUSxFQUFTLEdBQW5CO0lBQ2xDLE1BQU1DLElBQUksQ0FBQ1I7UUFDVCxNQUFNRSxPQUFPRixJQUFJRyxLQUFLLENBQUM7UUFDdkIsSUFBSUMsUUFBYVgsOENBQVFBO1FBRXpCLEtBQUssTUFBTVksS0FBS0gsS0FBTTtZQUNwQkUsUUFBUUEsa0JBQUFBLDRCQUFBQSxLQUFPLENBQUNDLEVBQUU7UUFDcEI7UUFFQSxPQUFPLE9BQU9ELFVBQVUsV0FBV0EsUUFBUUo7SUFDN0M7SUFFQSxxQkFDRSw4REFBQ04sbUJBQW1CZSxRQUFRO1FBQUNMLE9BQU87WUFBRUk7UUFBRTtrQkFDckNEOzs7Ozs7QUFHUDtLQWpCZ0JEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9UcmFuc2xhdGlvblByb3ZpZGVyLnRzeD84NWE0Il0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgUmVhY3ROb2RlLCBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IG1lc3NhZ2VzIGZyb20gJ0BtZXNzYWdlcy9mci5qc29uJztcblxuaW50ZXJmYWNlIFRyYW5zbGF0aW9uQ29udGV4dFR5cGUge1xuICB0OiAoa2V5OiBzdHJpbmcpID0+IHN0cmluZztcbn1cblxuY29uc3QgVHJhbnNsYXRpb25Db250ZXh0ID0gY3JlYXRlQ29udGV4dDxUcmFuc2xhdGlvbkNvbnRleHRUeXBlIHwgdW5kZWZpbmVkPih1bmRlZmluZWQpO1xuXG5leHBvcnQgZnVuY3Rpb24gdXNlVHJhbnNsYXRpb25zKG5hbWVzcGFjZT86IHN0cmluZykge1xuICBjb25zdCBjb250ZXh0ID0gdXNlQ29udGV4dChUcmFuc2xhdGlvbkNvbnRleHQpO1xuICBpZiAoIWNvbnRleHQpIHtcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ3VzZVRyYW5zbGF0aW9ucyBtdXN0IGJlIHVzZWQgd2l0aGluIGEgVHJhbnNsYXRpb25Qcm92aWRlcicpO1xuICB9XG4gIFxuICByZXR1cm4gKGtleTogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgZnVsbEtleSA9IG5hbWVzcGFjZSA/IGAke25hbWVzcGFjZX0uJHtrZXl9YCA6IGtleTtcbiAgICBjb25zdCBrZXlzID0gZnVsbEtleS5zcGxpdCgnLicpO1xuICAgIGxldCB2YWx1ZTogYW55ID0gbWVzc2FnZXM7XG4gICAgXG4gICAgZm9yIChjb25zdCBrIG9mIGtleXMpIHtcbiAgICAgIHZhbHVlID0gdmFsdWU/LltrXTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgPyB2YWx1ZSA6IGZ1bGxLZXk7XG4gIH07XG59XG5cbmludGVyZmFjZSBQcm9wcyB7XG4gIGNoaWxkcmVuOiBSZWFjdE5vZGU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBUcmFuc2xhdGlvblByb3ZpZGVyKHsgY2hpbGRyZW4gfTogUHJvcHMpIHtcbiAgY29uc3QgdCA9IChrZXk6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGtleXMgPSBrZXkuc3BsaXQoJy4nKTtcbiAgICBsZXQgdmFsdWU6IGFueSA9IG1lc3NhZ2VzO1xuICAgIFxuICAgIGZvciAoY29uc3QgayBvZiBrZXlzKSB7XG4gICAgICB2YWx1ZSA9IHZhbHVlPy5ba107XG4gICAgfVxuICAgIFxuICAgIHJldHVybiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnID8gdmFsdWUgOiBrZXk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8VHJhbnNsYXRpb25Db250ZXh0LlByb3ZpZGVyIHZhbHVlPXt7IHQgfX0+XG4gICAgICB7Y2hpbGRyZW59XG4gICAgPC9UcmFuc2xhdGlvbkNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwibWVzc2FnZXMiLCJUcmFuc2xhdGlvbkNvbnRleHQiLCJ1bmRlZmluZWQiLCJ1c2VUcmFuc2xhdGlvbnMiLCJuYW1lc3BhY2UiLCJjb250ZXh0IiwiRXJyb3IiLCJrZXkiLCJmdWxsS2V5Iiwia2V5cyIsInNwbGl0IiwidmFsdWUiLCJrIiwiVHJhbnNsYXRpb25Qcm92aWRlciIsImNoaWxkcmVuIiwidCIsIlByb3ZpZGVyIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/providers/TranslationProvider.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/public/BeachMap.tsx":
/*!********************************************!*\
  !*** ./src/components/public/BeachMap.tsx ***!
  \********************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ BeachMap; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_TranslationProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/TranslationProvider */ \"(app-pages-browser)/./src/components/providers/TranslationProvider.tsx\");\n/* harmony import */ var _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/providers/FirestoreSyncProvider */ \"(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx\");\n/* harmony import */ var _components_ui_Card__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/Card */ \"(app-pages-browser)/./src/components/ui/Card.tsx\");\n/* harmony import */ var _components_ui_Badge__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/Badge */ \"(app-pages-browser)/./src/components/ui/Badge.tsx\");\n/* harmony import */ var _components_ui_CompetitorAvatar__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/ui/CompetitorAvatar */ \"(app-pages-browser)/./src/components/ui/CompetitorAvatar.tsx\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\nfunction BeachMap() {\n    var _competitors_selectedSector, _competitors_selectedSector1;\n    _s();\n    const t = (0,_components_providers_TranslationProvider__WEBPACK_IMPORTED_MODULE_2__.useTranslations)(\"beachMap\");\n    const { competitors: firestoreCompetitors, hourlyEntries: firestoreHourlyEntries, bigCatches: firestoreBigCatches } = (0,_components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_3__.useFirestore)();\n    const [selectedSector, setSelectedSector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"all\");\n    const [selectedCompetitor, setSelectedCompetitor] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [competitors, setCompetitors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({});\n    // Calculate competitors data from Firebase\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const calculateCompetitorsFromFirebase = ()=>{\n            const competitorsBySector = {};\n            // Group Firebase competitors by sector\n            firestoreCompetitors.forEach((comp)=>{\n                if (!competitorsBySector[comp.sector]) {\n                    competitorsBySector[comp.sector] = [];\n                }\n                // Calculate real stats from Firebase data\n                let totalFishCount = 0;\n                let totalWeight = 0;\n                let biggestCatch = 0;\n                // Sum across all 7 hours from Firebase hourly entries\n                for(let hour = 1; hour <= 7; hour++){\n                    const entry = firestoreHourlyEntries.find((e)=>e.competitorId === comp.id && e.hour === hour && [\n                            \"locked_judge\",\n                            \"locked_admin\",\n                            \"offline_judge\",\n                            \"offline_admin\"\n                        ].includes(e.status));\n                    if (entry) {\n                        totalFishCount += entry.fishCount || 0;\n                        totalWeight += entry.totalWeight || 0;\n                    }\n                }\n                // Get grosse prise from Firebase\n                const grossePriseEntry = firestoreBigCatches.find((e)=>e.competitorId === comp.id && [\n                        \"locked_judge\",\n                        \"locked_admin\",\n                        \"offline_judge\",\n                        \"offline_admin\"\n                    ].includes(e.status));\n                if (grossePriseEntry) {\n                    biggestCatch = grossePriseEntry.grossePrise || 0;\n                }\n                // Calculate points: (Nb Prises global × 50) + Poids Total global\n                const points = totalFishCount * 50 + totalWeight;\n                competitorsBySector[comp.sector].push({\n                    id: comp.id,\n                    name: comp.fullName,\n                    equipe: comp.equipe,\n                    boxNumber: comp.boxNumber,\n                    boxCode: comp.boxCode,\n                    sector: comp.sector,\n                    points,\n                    fishCount: totalFishCount,\n                    totalWeight,\n                    biggestCatch,\n                    photo: comp.photo\n                });\n            });\n            // Sort competitors by box number within each sector\n            Object.keys(competitorsBySector).forEach((sector)=>{\n                competitorsBySector[sector].sort((a, b)=>a.boxNumber - b.boxNumber);\n            });\n            return competitorsBySector;\n        };\n        setCompetitors(calculateCompetitorsFromFirebase());\n    }, [\n        firestoreCompetitors,\n        firestoreHourlyEntries,\n        firestoreBigCatches\n    ]);\n    const sectors = [\n        \"A\",\n        \"B\",\n        \"C\",\n        \"D\",\n        \"E\",\n        \"F\"\n    ];\n    // Sector button colors\n    const getSectorButtonClass = (sector, isSelected)=>{\n        const baseClass = \"px-4 py-2 rounded-full transition-all font-medium\";\n        const sectorColors = {\n            A: isSelected ? \"bg-sectors-A text-white shadow-lg\" : \"bg-sectors-A/20 text-sectors-A hover:bg-sectors-A/30\",\n            B: isSelected ? \"bg-sectors-B text-white shadow-lg\" : \"bg-sectors-B/20 text-sectors-B hover:bg-sectors-B/30\",\n            C: isSelected ? \"bg-sectors-C text-white shadow-lg\" : \"bg-sectors-C/20 text-sectors-C hover:bg-sectors-C/30\",\n            D: isSelected ? \"bg-sectors-D text-white shadow-lg\" : \"bg-sectors-D/20 text-sectors-D hover:bg-sectors-D/30\",\n            E: isSelected ? \"bg-sectors-E text-white shadow-lg\" : \"bg-sectors-E/20 text-sectors-E hover:bg-sectors-E/30\",\n            F: isSelected ? \"bg-sectors-F text-white shadow-lg\" : \"bg-sectors-F/20 text-sectors-F hover:bg-sectors-F/30\"\n        };\n        return \"\".concat(baseClass, \" \").concat(sectorColors[sector] || \"bg-gray-100 text-gray-600\");\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"py-16 bg-gradient-to-br from-sand-50 to-coral-50 dark:from-gray-800 dark:to-gray-900\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-12\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\",\n                            children: t(\"interactiveBeachMap\")\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                            lineNumber: 126,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto\",\n                            children: t(\"beachMapDescription\")\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                            lineNumber: 129,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                    lineNumber: 125,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n                    className: \"max-w-7xl mx-auto\",\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_4__.CardContent, {\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex flex-wrap justify-center gap-2 mb-6\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                        onClick: ()=>setSelectedSector(\"all\"),\n                                        className: \"px-4 py-2 rounded-full transition-all font-medium \".concat(selectedSector === \"all\" ? \"bg-ocean-600 text-white shadow-lg\" : \"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600\"),\n                                        children: t(\"allSectors\")\n                                    }, void 0, false, {\n                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                        lineNumber: 137,\n                                        columnNumber: 15\n                                    }, this),\n                                    sectors.map((sector)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setSelectedSector(sector),\n                                            className: getSectorButtonClass(sector, selectedSector === sector),\n                                            children: [\n                                                t(\"sector\"),\n                                                \" \",\n                                                sector\n                                            ]\n                                        }, sector, true, {\n                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                            lineNumber: 148,\n                                            columnNumber: 17\n                                        }, this))\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                lineNumber: 136,\n                                columnNumber: 13\n                            }, this),\n                            selectedSector !== \"all\" && sectors.includes(selectedSector) && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"relative\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-3\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-10 gap-3\",\n                                            children: (_competitors_selectedSector = competitors[selectedSector]) === null || _competitors_selectedSector === void 0 ? void 0 : _competitors_selectedSector.slice(0, 10).map((competitor, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                                                    initial: {\n                                                        opacity: 0,\n                                                        scale: 0.8\n                                                    },\n                                                    animate: {\n                                                        opacity: 1,\n                                                        scale: 1\n                                                    },\n                                                    transition: {\n                                                        duration: 0.3,\n                                                        delay: index * 0.05\n                                                    },\n                                                    className: \"relative group cursor-pointer\",\n                                                    onClick: ()=>setSelectedCompetitor(competitor),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"relative\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_CompetitorAvatar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                    photo: competitor.photo,\n                                                                    name: competitor.name,\n                                                                    sector: competitor.sector,\n                                                                    size: \"xl\",\n                                                                    className: \"ring-2 ring-white shadow-lg hover:scale-110 transition-transform\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                    lineNumber: 173,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                                                    className: \"absolute -top-1 -right-1 w-6 h-6 p-0 flex items-center justify-center text-xs\",\n                                                                    variant: \"secondary\",\n                                                                    children: String(competitor.boxNumber).padStart(2, \"0\")\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                    lineNumber: 180,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                            lineNumber: 172,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-gray-900 text-white text-xs rounded-lg p-2 whitespace-nowrap\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"font-semibold\",\n                                                                        children: competitor.name\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 191,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-gray-300\",\n                                                                        children: competitor.equipe\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 192,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex justify-between gap-4 mt-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-gray-200\",\n                                                                                children: [\n                                                                                    competitor.points,\n                                                                                    \" pts\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 194,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-gray-200\",\n                                                                                children: [\n                                                                                    competitor.fishCount,\n                                                                                    \" fish\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 195,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 193,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                lineNumber: 190,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                            lineNumber: 189,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, competitor.id, true, {\n                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                    lineNumber: 164,\n                                                    columnNumber: 23\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                            lineNumber: 162,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"grid grid-cols-10 gap-3\",\n                                            children: (_competitors_selectedSector1 = competitors[selectedSector]) === null || _competitors_selectedSector1 === void 0 ? void 0 : _competitors_selectedSector1.slice(10, 20).map((competitor, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                                                    initial: {\n                                                        opacity: 0,\n                                                        scale: 0.8\n                                                    },\n                                                    animate: {\n                                                        opacity: 1,\n                                                        scale: 1\n                                                    },\n                                                    transition: {\n                                                        duration: 0.3,\n                                                        delay: (index + 10) * 0.05\n                                                    },\n                                                    className: \"relative group cursor-pointer\",\n                                                    onClick: ()=>setSelectedCompetitor(competitor),\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"relative\",\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_CompetitorAvatar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                    photo: competitor.photo,\n                                                                    name: competitor.name,\n                                                                    sector: competitor.sector,\n                                                                    size: \"xl\",\n                                                                    className: \"ring-2 ring-white shadow-lg hover:scale-110 transition-transform\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                    lineNumber: 215,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                                                    className: \"absolute -top-1 -right-1 w-6 h-6 p-0 flex items-center justify-center text-xs\",\n                                                                    variant: \"secondary\",\n                                                                    children: String(competitor.boxNumber).padStart(2, \"0\")\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                    lineNumber: 222,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, void 0, true, {\n                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                            lineNumber: 214,\n                                                            columnNumber: 25\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                            className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"bg-gray-900 text-white text-xs rounded-lg p-2 whitespace-nowrap\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"font-semibold\",\n                                                                        children: competitor.name\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 233,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"text-gray-300\",\n                                                                        children: competitor.equipe\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 234,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex justify-between gap-4 mt-1\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-gray-200\",\n                                                                                children: [\n                                                                                    competitor.points,\n                                                                                    \" pts\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 236,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"text-gray-200\",\n                                                                                children: [\n                                                                                    competitor.fishCount,\n                                                                                    \" fish\"\n                                                                                ]\n                                                                            }, void 0, true, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 237,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 235,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                lineNumber: 232,\n                                                                columnNumber: 27\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                            lineNumber: 231,\n                                                            columnNumber: 25\n                                                        }, this)\n                                                    ]\n                                                }, competitor.id, true, {\n                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                    lineNumber: 206,\n                                                    columnNumber: 23\n                                                }, this))\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                            lineNumber: 204,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                    lineNumber: 160,\n                                    columnNumber: 17\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                lineNumber: 159,\n                                columnNumber: 15\n                            }, this),\n                            selectedSector === \"all\" && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"space-y-6\",\n                                children: sectors.map((sector)=>{\n                                    var _competitors_sector, _competitors_sector1;\n                                    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"space-y-3\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h3\", {\n                                                className: \"text-lg font-semibold text-center sector-\".concat(sector.toLowerCase()),\n                                                children: [\n                                                    t(\"sector\"),\n                                                    \" \",\n                                                    sector\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                lineNumber: 252,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"space-y-3\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"grid grid-cols-10 gap-3\",\n                                                        children: (_competitors_sector = competitors[sector]) === null || _competitors_sector === void 0 ? void 0 : _competitors_sector.slice(0, 10).map((competitor, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                                                                initial: {\n                                                                    opacity: 0,\n                                                                    scale: 0.8\n                                                                },\n                                                                animate: {\n                                                                    opacity: 1,\n                                                                    scale: 1\n                                                                },\n                                                                transition: {\n                                                                    duration: 0.3,\n                                                                    delay: index * 0.05\n                                                                },\n                                                                className: \"relative group cursor-pointer\",\n                                                                onClick: ()=>setSelectedCompetitor(competitor),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"relative\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_CompetitorAvatar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                                photo: competitor.photo,\n                                                                                name: competitor.name,\n                                                                                sector: competitor.sector,\n                                                                                size: \"xl\",\n                                                                                className: \"ring-2 ring-white shadow-lg hover:scale-110 transition-transform\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 268,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                                                                className: \"absolute -top-1 -right-1 w-6 h-6 p-0 flex items-center justify-center text-xs\",\n                                                                                variant: \"secondary\",\n                                                                                children: String(competitor.boxNumber).padStart(2, \"0\")\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 275,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 267,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"bg-gray-900 text-white text-xs rounded-lg p-2 whitespace-nowrap\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-semibold\",\n                                                                                    children: competitor.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                    lineNumber: 286,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-gray-300\",\n                                                                                    children: competitor.equipe\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                    lineNumber: 287,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"flex justify-between gap-4 mt-1\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"text-gray-200\",\n                                                                                            children: [\n                                                                                                competitor.points,\n                                                                                                \" pts\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                            lineNumber: 289,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"text-gray-200\",\n                                                                                            children: [\n                                                                                                competitor.fishCount,\n                                                                                                \" fish\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                            lineNumber: 290,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                    lineNumber: 288,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                            lineNumber: 285,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 284,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, competitor.id, true, {\n                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                lineNumber: 259,\n                                                                columnNumber: 27\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 257,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"grid grid-cols-10 gap-3\",\n                                                        children: (_competitors_sector1 = competitors[sector]) === null || _competitors_sector1 === void 0 ? void 0 : _competitors_sector1.slice(10, 20).map((competitor, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_7__.motion.div, {\n                                                                initial: {\n                                                                    opacity: 0,\n                                                                    scale: 0.8\n                                                                },\n                                                                animate: {\n                                                                    opacity: 1,\n                                                                    scale: 1\n                                                                },\n                                                                transition: {\n                                                                    duration: 0.3,\n                                                                    delay: (index + 10) * 0.05\n                                                                },\n                                                                className: \"relative group cursor-pointer\",\n                                                                onClick: ()=>setSelectedCompetitor(competitor),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"relative\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_CompetitorAvatar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                                                                photo: competitor.photo,\n                                                                                name: competitor.name,\n                                                                                sector: competitor.sector,\n                                                                                size: \"xl\",\n                                                                                className: \"ring-2 ring-white shadow-lg hover:scale-110 transition-transform\"\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 310,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_5__.Badge, {\n                                                                                className: \"absolute -top-1 -right-1 w-6 h-6 p-0 flex items-center justify-center text-xs\",\n                                                                                variant: \"secondary\",\n                                                                                children: String(competitor.boxNumber).padStart(2, \"0\")\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                lineNumber: 317,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 309,\n                                                                        columnNumber: 29\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"absolute bottom-full left-1/2 transform -translate-x-1/2 mb-2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none z-10\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"bg-gray-900 text-white text-xs rounded-lg p-2 whitespace-nowrap\",\n                                                                            children: [\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"font-semibold\",\n                                                                                    children: competitor.name\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                    lineNumber: 328,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"text-gray-300\",\n                                                                                    children: competitor.equipe\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                    lineNumber: 329,\n                                                                                    columnNumber: 33\n                                                                                }, this),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                                    className: \"flex justify-between gap-4 mt-1\",\n                                                                                    children: [\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"text-gray-200\",\n                                                                                            children: [\n                                                                                                competitor.points,\n                                                                                                \" pts\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                            lineNumber: 331,\n                                                                                            columnNumber: 35\n                                                                                        }, this),\n                                                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                            className: \"text-gray-200\",\n                                                                                            children: [\n                                                                                                competitor.fishCount,\n                                                                                                \" fish\"\n                                                                                            ]\n                                                                                        }, void 0, true, {\n                                                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                            lineNumber: 332,\n                                                                                            columnNumber: 35\n                                                                                        }, this)\n                                                                                    ]\n                                                                                }, void 0, true, {\n                                                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                                    lineNumber: 330,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                            lineNumber: 327,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                        lineNumber: 326,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                ]\n                                                            }, competitor.id, true, {\n                                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                                lineNumber: 301,\n                                                                columnNumber: 27\n                                                            }, this))\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 299,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                lineNumber: 255,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, sector, true, {\n                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                        lineNumber: 251,\n                                        columnNumber: 19\n                                    }, this);\n                                })\n                            }, void 0, false, {\n                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                lineNumber: 249,\n                                columnNumber: 15\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                        lineNumber: 135,\n                        columnNumber: 11\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                    lineNumber: 134,\n                    columnNumber: 9\n                }, this),\n                selectedCompetitor && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4\",\n                    onClick: ()=>setSelectedCompetitor(null),\n                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_4__.Card, {\n                        className: \"max-w-md w-full\",\n                        onClick: (e)=>e.stopPropagation(),\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"p-6\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center gap-3 mb-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_CompetitorAvatar__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                                            photo: selectedCompetitor.photo,\n                                            name: selectedCompetitor.name,\n                                            sector: selectedCompetitor.sector,\n                                            size: \"lg\"\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                            lineNumber: 356,\n                                            columnNumber: 19\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"font-semibold\",\n                                                    children: selectedCompetitor.name\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                    lineNumber: 363,\n                                                    columnNumber: 21\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-500\",\n                                                    children: selectedCompetitor.equipe\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                    lineNumber: 364,\n                                                    columnNumber: 21\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                            lineNumber: 362,\n                                            columnNumber: 19\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                    lineNumber: 355,\n                                    columnNumber: 17\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"space-y-6\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"grid grid-cols-2 gap-4\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-2xl font-bold\",\n                                                        children: selectedCompetitor.points\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 370,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: t(\"points\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 371,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                lineNumber: 369,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-2xl font-bold\",\n                                                        children: selectedCompetitor.fishCount\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 374,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: t(\"fishCaught\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 375,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                lineNumber: 373,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-2xl font-bold\",\n                                                        children: [\n                                                            selectedCompetitor.totalWeight,\n                                                            \"g\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 378,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: t(\"totalWeight\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 379,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                lineNumber: 377,\n                                                columnNumber: 21\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"text-center\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-2xl font-bold\",\n                                                        children: [\n                                                            selectedCompetitor.biggestCatch,\n                                                            \"g\"\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 382,\n                                                        columnNumber: 23\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                        className: \"text-sm text-gray-500\",\n                                                        children: t(\"biggestCatch\")\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                        lineNumber: 383,\n                                                        columnNumber: 23\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                                lineNumber: 381,\n                                                columnNumber: 21\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                        lineNumber: 368,\n                                        columnNumber: 19\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                                    lineNumber: 367,\n                                    columnNumber: 17\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                            lineNumber: 354,\n                            columnNumber: 15\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                        lineNumber: 353,\n                        columnNumber: 13\n                    }, this)\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n                    lineNumber: 349,\n                    columnNumber: 11\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n            lineNumber: 124,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/public/BeachMap.tsx\",\n        lineNumber: 123,\n        columnNumber: 5\n    }, this);\n}\n_s(BeachMap, \"wo/dRy8gK9yZBeG/8y7vNdSB/tA=\", false, function() {\n    return [\n        _components_providers_TranslationProvider__WEBPACK_IMPORTED_MODULE_2__.useTranslations,\n        _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_3__.useFirestore\n    ];\n});\n_c = BeachMap;\nvar _c;\n$RefreshReg$(_c, \"BeachMap\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy9CZWFjaE1hcC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ2lDO0FBQ0Q7QUFDbkI7QUFDWDtBQUNrQjtBQUN6QjtBQWdCeEIsU0FBU1M7UUEwSUhDLDZCQTBDQUE7O0lBbkxuQixNQUFNQyxJQUFJVCwwRkFBZUEsQ0FBQztJQUMxQixNQUFNLEVBQ0pRLGFBQWFFLG9CQUFvQixFQUNqQ0MsZUFBZUMsc0JBQXNCLEVBQ3JDQyxZQUFZQyxtQkFBbUIsRUFDaEMsR0FBR2IseUZBQVlBO0lBQ2hCLE1BQU0sQ0FBQ2MsZ0JBQWdCQyxrQkFBa0IsR0FBR2xCLCtDQUFRQSxDQUFTO0lBQzdELE1BQU0sQ0FBQ21CLG9CQUFvQkMsc0JBQXNCLEdBQUdwQiwrQ0FBUUEsQ0FBd0I7SUFDcEYsTUFBTSxDQUFDVSxhQUFhVyxlQUFlLEdBQUdyQiwrQ0FBUUEsQ0FBeUMsQ0FBQztJQUV4RiwyQ0FBMkM7SUFDM0NDLGdEQUFTQSxDQUFDO1FBQ1IsTUFBTXFCLG1DQUFtQztZQUN2QyxNQUFNQyxzQkFBOEQsQ0FBQztZQUVyRSx1Q0FBdUM7WUFDdkNYLHFCQUFxQlksT0FBTyxDQUFDQyxDQUFBQTtnQkFDM0IsSUFBSSxDQUFDRixtQkFBbUIsQ0FBQ0UsS0FBS0MsTUFBTSxDQUFDLEVBQUU7b0JBQ3JDSCxtQkFBbUIsQ0FBQ0UsS0FBS0MsTUFBTSxDQUFDLEdBQUcsRUFBRTtnQkFDdkM7Z0JBRUEsMENBQTBDO2dCQUMxQyxJQUFJQyxpQkFBaUI7Z0JBQ3JCLElBQUlDLGNBQWM7Z0JBQ2xCLElBQUlDLGVBQWU7Z0JBRW5CLHNEQUFzRDtnQkFDdEQsSUFBSyxJQUFJQyxPQUFPLEdBQUdBLFFBQVEsR0FBR0EsT0FBUTtvQkFDcEMsTUFBTUMsUUFBUWpCLHVCQUF1QmtCLElBQUksQ0FBQ0MsQ0FBQUEsSUFDeENBLEVBQUVDLFlBQVksS0FBS1QsS0FBS1UsRUFBRSxJQUMxQkYsRUFBRUgs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d2VicGFjazovL19OX0UvLi9zcmMvY29tcG9uZW50cy9wdWJsaWMvQmVhY2hNYXAudHN4P2M0MTkiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlVHJhbnNsYXRpb25zIH0gZnJvbSAnQC9jb21wb25lbnRzL3Byb3ZpZGVycy9UcmFuc2xhdGlvblByb3ZpZGVyJztcbmltcG9ydCB7IHVzZUZpcmVzdG9yZSB9IGZyb20gJ0AvY29tcG9uZW50cy9wcm92aWRlcnMvRmlyZXN0b3JlU3luY1Byb3ZpZGVyJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50IH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0NhcmQnO1xuaW1wb3J0IHsgQmFkZ2UgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvQmFkZ2UnO1xuaW1wb3J0IENvbXBldGl0b3JBdmF0YXIgZnJvbSAnQC9jb21wb25lbnRzL3VpL0NvbXBldGl0b3JBdmF0YXInO1xuaW1wb3J0IHsgbW90aW9uIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5cbmludGVyZmFjZSBDb21wZXRpdG9yQ2hpcCB7XG4gIGlkOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZXF1aXBlOiBzdHJpbmc7XG4gIGJveE51bWJlcjogbnVtYmVyO1xuICBib3hDb2RlOiBzdHJpbmc7XG4gIHNlY3Rvcjogc3RyaW5nO1xuICBwb2ludHM6IG51bWJlcjtcbiAgZmlzaENvdW50OiBudW1iZXI7XG4gIHRvdGFsV2VpZ2h0OiBudW1iZXI7XG4gIGJpZ2dlc3RDYXRjaDogbnVtYmVyO1xuICBwaG90bzogc3RyaW5nO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBCZWFjaE1hcCgpIHtcbiAgY29uc3QgdCA9IHVzZVRyYW5zbGF0aW9ucygnYmVhY2hNYXAnKTtcbiAgY29uc3QgeyBcbiAgICBjb21wZXRpdG9yczogZmlyZXN0b3JlQ29tcGV0aXRvcnMsIFxuICAgIGhvdXJseUVudHJpZXM6IGZpcmVzdG9yZUhvdXJseUVudHJpZXMsIFxuICAgIGJpZ0NhdGNoZXM6IGZpcmVzdG9yZUJpZ0NhdGNoZXMgXG4gIH0gPSB1c2VGaXJlc3RvcmUoKTtcbiAgY29uc3QgW3NlbGVjdGVkU2VjdG9yLCBzZXRTZWxlY3RlZFNlY3Rvcl0gPSB1c2VTdGF0ZTxzdHJpbmc+KCdhbGwnKTtcbiAgY29uc3QgW3NlbGVjdGVkQ29tcGV0aXRvciwgc2V0U2VsZWN0ZWRDb21wZXRpdG9yXSA9IHVzZVN0YXRlPENvbXBldGl0b3JDaGlwIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtjb21wZXRpdG9ycywgc2V0Q29tcGV0aXRvcnNdID0gdXNlU3RhdGU8eyBbc2VjdG9yOiBzdHJpbmddOiBDb21wZXRpdG9yQ2hpcFtdIH0+KHt9KTtcblxuICAvLyBDYWxjdWxhdGUgY29tcGV0aXRvcnMgZGF0YSBmcm9tIEZpcmViYXNlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FsY3VsYXRlQ29tcGV0aXRvcnNGcm9tRmlyZWJhc2UgPSAoKSA9PiB7XG4gICAgICBjb25zdCBjb21wZXRpdG9yc0J5U2VjdG9yOiB7IFtzZWN0b3I6IHN0cmluZ106IENvbXBldGl0b3JDaGlwW10gfSA9IHt9O1xuICAgICAgXG4gICAgICAvLyBHcm91cCBGaXJlYmFzZSBjb21wZXRpdG9ycyBieSBzZWN0b3JcbiAgICAgIGZpcmVzdG9yZUNvbXBldGl0b3JzLmZvckVhY2goY29tcCA9PiB7XG4gICAgICAgIGlmICghY29tcGV0aXRvcnNCeVNlY3Rvcltjb21wLnNlY3Rvcl0pIHtcbiAgICAgICAgICBjb21wZXRpdG9yc0J5U2VjdG9yW2NvbXAuc2VjdG9yXSA9IFtdO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBDYWxjdWxhdGUgcmVhbCBzdGF0cyBmcm9tIEZpcmViYXNlIGRhdGFcbiAgICAgICAgbGV0IHRvdGFsRmlzaENvdW50ID0gMDtcbiAgICAgICAgbGV0IHRvdGFsV2VpZ2h0ID0gMDtcbiAgICAgICAgbGV0IGJpZ2dlc3RDYXRjaCA9IDA7XG4gICAgICAgIFxuICAgICAgICAvLyBTdW0gYWNyb3NzIGFsbCA3IGhvdXJzIGZyb20gRmlyZWJhc2UgaG91cmx5IGVudHJpZXNcbiAgICAgICAgZm9yIChsZXQgaG91ciA9IDE7IGhvdXIgPD0gNzsgaG91cisrKSB7XG4gICAgICAgICAgY29uc3QgZW50cnkgPSBmaXJlc3RvcmVIb3VybHlFbnRyaWVzLmZpbmQoZSA9PiBcbiAgICAgICAgICAgIGUuY29tcGV0aXRvcklkID09PSBjb21wLmlkICYmIFxuICAgICAgICAgICAgZS5ob3VyID09PSBob3VyICYmXG4gICAgICAgICAgICBbJ2xvY2tlZF9qdWRnZScsICdsb2NrZWRfYWRtaW4nLCAnb2ZmbGluZV9qdWRnZScsICdvZmZsaW5lX2FkbWluJ10uaW5jbHVkZXMoZS5zdGF0dXMpXG4gICAgICAgICAgKTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZW50cnkpIHtcbiAgICAgICAgICAgIHRvdGFsRmlzaENvdW50ICs9IGVudHJ5LmZpc2hDb3VudCB8fCAwO1xuICAgICAgICAgICAgdG90YWxXZWlnaHQgKz0gZW50cnkudG90YWxXZWlnaHQgfHwgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIEdldCBncm9zc2UgcHJpc2UgZnJvbSBGaXJlYmFzZVxuICAgICAgICBjb25zdCBncm9zc2VQcmlzZUVudHJ5ID0gZmlyZXN0b3JlQmlnQ2F0Y2hlcy5maW5kKGUgPT4gXG4gICAgICAgICAgZS5jb21wZXRpdG9ySWQgPT09IGNvbXAuaWQgJiZcbiAgICAgICAgICBbJ2xvY2tlZF9qdWRnZScsICdsb2NrZWRfYWRtaW4nLCAnb2ZmbGluZV9qdWRnZScsICdvZmZsaW5lX2FkbWluJ10uaW5jbHVkZXMoZS5zdGF0dXMpXG4gICAgICAgICk7XG4gICAgICAgIFxuICAgICAgICBpZiAoZ3Jvc3NlUHJpc2VFbnRyeSkge1xuICAgICAgICAgIGJpZ2dlc3RDYXRjaCA9IGdyb3NzZVByaXNlRW50cnkuZ3Jvc3NlUHJpc2UgfHwgMDtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gQ2FsY3VsYXRlIHBvaW50czogKE5iIFByaXNlcyBnbG9iYWwgw5cgNTApICsgUG9pZHMgVG90YWwgZ2xvYmFsXG4gICAgICAgIGNvbnN0IHBvaW50cyA9ICh0b3RhbEZpc2hDb3VudCAqIDUwKSArIHRvdGFsV2VpZ2h0O1xuICAgICAgICBcbiAgICAgICAgY29tcGV0aXRvcnNCeVNlY3Rvcltjb21wLnNlY3Rvcl0ucHVzaCh7XG4gICAgICAgICAgaWQ6IGNvbXAuaWQsXG4gICAgICAgICAgbmFtZTogY29tcC5mdWxsTmFtZSxcbiAgICAgICAgICBlcXVpcGU6IGNvbXAuZXF1aXBlLFxuICAgICAgICAgIGJveE51bWJlcjogY29tcC5ib3hOdW1iZXIsXG4gICAgICAgICAgYm94Q29kZTogY29tcC5ib3hDb2RlLFxuICAgICAgICAgIHNlY3RvcjogY29tcC5zZWN0b3IsXG4gICAgICAgICAgcG9pbnRzLFxuICAgICAgICAgIGZpc2hDb3VudDogdG90YWxGaXNoQ291bnQsXG4gICAgICAgICAgdG90YWxXZWlnaHQsXG4gICAgICAgICAgYmlnZ2VzdENhdGNoLFxuICAgICAgICAgIHBob3RvOiBjb21wLnBob3RvXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIC8vIFNvcnQgY29tcGV0aXRvcnMgYnkgYm94IG51bWJlciB3aXRoaW4gZWFjaCBzZWN0b3JcbiAgICAgIE9iamVjdC5rZXlzKGNvbXBldGl0b3JzQnlTZWN0b3IpLmZvckVhY2goc2VjdG9yID0+IHtcbiAgICAgICAgY29tcGV0aXRvcnNCeVNlY3RvcltzZWN0b3JdLnNvcnQoKGEsIGIpID0+IGEuYm94TnVtYmVyIC0gYi5ib3hOdW1iZXIpO1xuICAgICAgfSk7XG4gICAgICBcbiAgICAgIHJldHVybiBjb21wZXRpdG9yc0J5U2VjdG9yO1xuICAgIH07XG4gICAgXG4gICAgc2V0Q29tcGV0aXRvcnMoY2FsY3VsYXRlQ29tcGV0aXRvcnNGcm9tRmlyZWJhc2UoKSk7XG4gIH0sIFtmaXJlc3RvcmVDb21wZXRpdG9ycywgZmlyZXN0b3JlSG91cmx5RW50cmllcywgZmlyZXN0b3JlQmlnQ2F0Y2hlc10pO1xuXG4gIGNvbnN0IHNlY3RvcnMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJ107XG4gIFxuICAvLyBTZWN0b3IgYnV0dG9uIGNvbG9yc1xuICBjb25zdCBnZXRTZWN0b3JCdXR0b25DbGFzcyA9IChzZWN0b3I6IHN0cmluZywgaXNTZWxlY3RlZDogYm9vbGVhbikgPT4ge1xuICAgIGNvbnN0IGJhc2VDbGFzcyA9ICdweC00IHB5LTIgcm91bmRlZC1mdWxsIHRyYW5zaXRpb24tYWxsIGZvbnQtbWVkaXVtJztcbiAgICBjb25zdCBzZWN0b3JDb2xvcnMgPSB7XG4gICAgICBBOiBpc1NlbGVjdGVkID8gJ2JnLXNlY3RvcnMtQSB0ZXh0LXdoaXRlIHNoYWRvdy1sZycgOiAnYmctc2VjdG9ycy1BLzIwIHRleHQtc2VjdG9ycy1BIGhvdmVyOmJnLXNlY3RvcnMtQS8zMCcsXG4gICAgICBCOiBpc1NlbGVjdGVkID8gJ2JnLXNlY3RvcnMtQiB0ZXh0LXdoaXRlIHNoYWRvdy1sZycgOiAnYmctc2VjdG9ycy1CLzIwIHRleHQtc2VjdG9ycy1CIGhvdmVyOmJnLXNlY3RvcnMtQi8zMCcsXG4gICAgICBDOiBpc1NlbGVjdGVkID8gJ2JnLXNlY3RvcnMtQyB0ZXh0LXdoaXRlIHNoYWRvdy1sZycgOiAnYmctc2VjdG9ycy1DLzIwIHRleHQtc2VjdG9ycy1DIGhvdmVyOmJnLXNlY3RvcnMtQy8zMCcsXG4gICAgICBEOiBpc1NlbGVjdGVkID8gJ2JnLXNlY3RvcnMtRCB0ZXh0LXdoaXRlIHNoYWRvdy1sZycgOiAnYmctc2VjdG9ycy1ELzIwIHRleHQtc2VjdG9ycy1EIGhvdmVyOmJnLXNlY3RvcnMtRC8zMCcsXG4gICAgICBFOiBpc1NlbGVjdGVkID8gJ2JnLXNlY3RvcnMtRSB0ZXh0LXdoaXRlIHNoYWRvdy1sZycgOiAnYmctc2VjdG9ycy1FLzIwIHRleHQtc2VjdG9ycy1FIGhvdmVyOmJnLXNlY3RvcnMtRS8zMCcsXG4gICAgICBGOiBpc1NlbGVjdGVkID8gJ2JnLXNlY3RvcnMtRiB0ZXh0LXdoaXRlIHNoYWRvdy1sZycgOiAnYmctc2VjdG9ycy1GLzIwIHRleHQtc2VjdG9ycy1GIGhvdmVyOmJnLXNlY3RvcnMtRi8zMCcsXG4gICAgfTtcbiAgICBcbiAgICByZXR1cm4gYCR7YmFzZUNsYXNzfSAke3NlY3RvckNvbG9yc1tzZWN0b3IgYXMga2V5b2YgdHlwZW9mIHNlY3RvckNvbG9yc10gfHwgJ2JnLWdyYXktMTAwIHRleHQtZ3JheS02MDAnfWA7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBjbGFzc05hbWU9XCJweS0xNiBiZy1ncmFkaWVudC10by1iciBmcm9tLXNhbmQtNTAgdG8tY29yYWwtNTAgZGFyazpmcm9tLWdyYXktODAwIGRhcms6dG8tZ3JheS05MDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTEyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtM3hsIG1kOnRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSBtYi00XCI+XG4gICAgICAgICAgICB7dCgnaW50ZXJhY3RpdmVCZWFjaE1hcCcpfVxuICAgICAgICAgIDwvaDI+XG4gICAgICAgICAgPHAgY2xhc3NOYW1lPVwidGV4dC14bCB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMCBtYXgtdy0yeGwgbXgtYXV0b1wiPlxuICAgICAgICAgICAge3QoJ2JlYWNoTWFwRGVzY3JpcHRpb24nKX1cbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxDYXJkIGNsYXNzTmFtZT1cIm1heC13LTd4bCBteC1hdXRvXCI+XG4gICAgICAgICAgPENhcmRDb250ZW50PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGZsZXgtd3JhcCBqdXN0aWZ5LWNlbnRlciBnYXAtMiBtYi02XCI+XG4gICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZFNlY3RvcignYWxsJyl9XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRTZWN0b3IgPT09ICdhbGwnXG4gICAgICAgICAgICAgICAgICAgID8gJ2JnLW9jZWFuLTYwMCB0ZXh0LXdoaXRlIHNoYWRvdy1sZydcbiAgICAgICAgICAgICAgICAgICAgOiAnYmctZ3JheS0xMDAgZGFyazpiZy1ncmF5LTcwMCB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTMwMCBob3ZlcjpiZy1ncmF5LTIwMCBkYXJrOmhvdmVyOmJnLWdyYXktNjAwJ1xuICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAge3QoJ2FsbFNlY3RvcnMnKX1cbiAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgIHtzZWN0b3JzLm1hcChzZWN0b3IgPT4gKFxuICAgICAgICAgICAgICAgIDxidXR0b25cbiAgICAgICAgICAgICAgICAgIGtleT17c2VjdG9yfVxuICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRTZWN0b3Ioc2VjdG9yKX1cbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT17Z2V0U2VjdG9yQnV0dG9uQ2xhc3Moc2VjdG9yLCBzZWxlY3RlZFNlY3RvciA9PT0gc2VjdG9yKX1cbiAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICB7dCgnc2VjdG9yJyl9IHtzZWN0b3J9XG4gICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHtzZWxlY3RlZFNlY3RvciAhPT0gJ2FsbCcgJiYgc2VjdG9ycy5pbmNsdWRlcyhzZWxlY3RlZFNlY3RvcikgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJzcGFjZS15LTNcIj5cbiAgICAgICAgICAgICAgICAgIHsvKiBGaXJzdCByb3cgLSBjb21wZXRpdG9ycyAxLTEwICovfVxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0xMCBnYXAtM1wiPlxuICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvcnNbc2VsZWN0ZWRTZWN0b3JdPy5zbGljZSgwLCAxMCkubWFwKChjb21wZXRpdG9yLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbXBldGl0b3IuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjggfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMywgZGVsYXk6IGluZGV4ICogMC4wNSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRDb21wZXRpdG9yKGNvbXBldGl0b3IpfVxuICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBldGl0b3JBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwaG90bz17Y29tcGV0aXRvci5waG90b31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtjb21wZXRpdG9yLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdG9yPXtjb21wZXRpdG9yLnNlY3Rvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzaXplPVwieGxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJpbmctMiByaW5nLXdoaXRlIHNoYWRvdy1sZyBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8QmFkZ2UgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0xIC1yaWdodC0xIHctNiBoLTYgcC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZyhjb21wZXRpdG9yLmJveE51bWJlcikucGFkU3RhcnQoMiwgJzAnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB7LyogSG92ZXIgVG9vbHRpcCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYWJzb2x1dGUgYm90dG9tLWZ1bGwgbGVmdC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteC0xLzIgbWItMiBvcGFjaXR5LTAgZ3JvdXAtaG92ZXI6b3BhY2l0eS0xMDAgdHJhbnNpdGlvbi1vcGFjaXR5IHBvaW50ZXItZXZlbnRzLW5vbmUgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkLWxnIHAtMiB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPntjb21wZXRpdG9yLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMzAwXCI+e2NvbXBldGl0b3IuZXF1aXBlfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTQgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTIwMFwiPntjb21wZXRpdG9yLnBvaW50c30gcHRzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTIwMFwiPntjb21wZXRpdG9yLmZpc2hDb3VudH0gZmlzaDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgIHsvKiBTZWNvbmQgcm93IC0gY29tcGV0aXRvcnMgMTEtMjAgKi99XG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdyaWQgZ3JpZC1jb2xzLTEwIGdhcC0zXCI+XG4gICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yc1tzZWxlY3RlZFNlY3Rvcl0/LnNsaWNlKDEwLCAyMCkubWFwKChjb21wZXRpdG9yLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24uZGl2XG4gICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbXBldGl0b3IuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjggfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgc2NhbGU6IDEgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMywgZGVsYXk6IChpbmRleCArIDEwKSAqIDAuMDUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJlbGF0aXZlIGdyb3VwIGN1cnNvci1wb2ludGVyXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkQ29tcGV0aXRvcihjb21wZXRpdG9yKX1cbiAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wZXRpdG9yQXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG89e2NvbXBldGl0b3IucGhvdG99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbmFtZT17Y29tcGV0aXRvci5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rvcj17Y29tcGV0aXRvci5zZWN0b3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInhsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyaW5nLTIgcmluZy13aGl0ZSBzaGFkb3ctbGcgaG92ZXI6c2NhbGUtMTEwIHRyYW5zaXRpb24tdHJhbnNmb3JtXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImFic29sdXRlIC10b3AtMSAtcmlnaHQtMSB3LTYgaC02IHAtMCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB0ZXh0LXhzXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTdHJpbmcoY29tcGV0aXRvci5ib3hOdW1iZXIpLnBhZFN0YXJ0KDIsICcwJyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgey8qIEhvdmVyIFRvb2x0aXAgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXgtMS8yIG1iLTIgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTkwMCB0ZXh0LXdoaXRlIHRleHQteHMgcm91bmRlZC1sZyBwLTIgd2hpdGVzcGFjZS1ub3dyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj57Y29tcGV0aXRvci5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTMwMFwiPntjb21wZXRpdG9yLmVxdWlwZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgganVzdGlmeS1iZXR3ZWVuIGdhcC00IG10LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0yMDBcIj57Y29tcGV0aXRvci5wb2ludHN9IHB0czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0yMDBcIj57Y29tcGV0aXRvci5maXNoQ291bnR9IGZpc2g8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24uZGl2PlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHtzZWxlY3RlZFNlY3RvciA9PT0gJ2FsbCcgJiYgKFxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgIHtzZWN0b3JzLm1hcChzZWN0b3IgPT4gKFxuICAgICAgICAgICAgICAgICAgPGRpdiBrZXk9e3NlY3Rvcn0gY2xhc3NOYW1lPVwic3BhY2UteS0zXCI+XG4gICAgICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9e2B0ZXh0LWxnIGZvbnQtc2VtaWJvbGQgdGV4dC1jZW50ZXIgc2VjdG9yLSR7c2VjdG9yLnRvTG93ZXJDYXNlKCl9YH0+XG4gICAgICAgICAgICAgICAgICAgICAge3QoJ3NlY3RvcicpfSB7c2VjdG9yfVxuICAgICAgICAgICAgICAgICAgICA8L2gzPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktM1wiPlxuICAgICAgICAgICAgICAgICAgICAgIHsvKiBGaXJzdCByb3cgLSBjb21wZXRpdG9ycyAxLTEwICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMTAgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yc1tzZWN0b3JdPy5zbGljZSgwLCAxMCkubWFwKChjb21wZXRpdG9yLCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICA8bW90aW9uLmRpdlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGtleT17Y29tcGV0aXRvci5pZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHNjYWxlOiAwLjggfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhbmltYXRlPXt7IG9wYWNpdHk6IDEsIHNjYWxlOiAxIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJhbnNpdGlvbj17eyBkdXJhdGlvbjogMC4zLCBkZWxheTogaW5kZXggKiAwLjA1IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmVsYXRpdmUgZ3JvdXAgY3Vyc29yLXBvaW50ZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldFNlbGVjdGVkQ29tcGV0aXRvcihjb21wZXRpdG9yKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxDb21wZXRpdG9yQXZhdGFyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBob3RvPXtjb21wZXRpdG9yLnBob3RvfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lPXtjb21wZXRpdG9yLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlY3Rvcj17Y29tcGV0aXRvci5zZWN0b3J9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNpemU9XCJ4bFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInJpbmctMiByaW5nLXdoaXRlIHNoYWRvdy1sZyBob3ZlcjpzY2FsZS0xMTAgdHJhbnNpdGlvbi10cmFuc2Zvcm1cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiYWJzb2x1dGUgLXRvcC0xIC1yaWdodC0xIHctNiBoLTYgcC0wIGZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHRleHQteHNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwic2Vjb25kYXJ5XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1N0cmluZyhjb21wZXRpdG9yLmJveE51bWJlcikucGFkU3RhcnQoMiwgJzAnKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEhvdmVyIFRvb2x0aXAgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJhYnNvbHV0ZSBib3R0b20tZnVsbCBsZWZ0LTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS14LTEvMiBtYi0yIG9wYWNpdHktMCBncm91cC1ob3ZlcjpvcGFjaXR5LTEwMCB0cmFuc2l0aW9uLW9wYWNpdHkgcG9pbnRlci1ldmVudHMtbm9uZSB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktOTAwIHRleHQtd2hpdGUgdGV4dC14cyByb3VuZGVkLWxnIHAtMiB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj57Y29tcGV0aXRvci5uYW1lfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtZ3JheS0zMDBcIj57Y29tcGV0aXRvci5lcXVpcGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBqdXN0aWZ5LWJldHdlZW4gZ2FwLTQgbXQtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0yMDBcIj57Y29tcGV0aXRvci5wb2ludHN9IHB0czwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LWdyYXktMjAwXCI+e2NvbXBldGl0b3IuZmlzaENvdW50fSBmaXNoPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi5kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICB7LyogU2Vjb25kIHJvdyAtIGNvbXBldGl0b3JzIDExLTIwICovfVxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMTAgZ2FwLTNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yc1tzZWN0b3JdPy5zbGljZSgxMCwgMjApLm1hcCgoY29tcGV0aXRvciwgaW5kZXgpID0+IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi5kaXZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbXBldGl0b3IuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbD17eyBvcGFjaXR5OiAwLCBzY2FsZTogMC44IH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCBzY2FsZTogMSB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMywgZGVsYXk6IChpbmRleCArIDEwKSAqIDAuMDUgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJyZWxhdGl2ZSBncm91cCBjdXJzb3ItcG9pbnRlclwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gc2V0U2VsZWN0ZWRDb21wZXRpdG9yKGNvbXBldGl0b3IpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbXBldGl0b3JBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGhvdG89e2NvbXBldGl0b3IucGhvdG99XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG5hbWU9e2NvbXBldGl0b3IubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VjdG9yPXtjb21wZXRpdG9yLnNlY3Rvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2l6ZT1cInhsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicmluZy0yIHJpbmctd2hpdGUgc2hhZG93LWxnIGhvdmVyOnNjYWxlLTExMCB0cmFuc2l0aW9uLXRyYW5zZm9ybVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEJhZGdlIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSAtdG9wLTEgLXJpZ2h0LTEgdy02IGgtNiBwLTAgZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgdGV4dC14c1wiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJzZWNvbmRhcnlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U3RyaW5nKGNvbXBldGl0b3IuYm94TnVtYmVyKS5wYWRTdGFydCgyLCAnMCcpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9CYWRnZT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogSG92ZXIgVG9vbHRpcCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImFic29sdXRlIGJvdHRvbS1mdWxsIGxlZnQtMS8yIHRyYW5zZm9ybSAtdHJhbnNsYXRlLXgtMS8yIG1iLTIgb3BhY2l0eS0wIGdyb3VwLWhvdmVyOm9wYWNpdHktMTAwIHRyYW5zaXRpb24tb3BhY2l0eSBwb2ludGVyLWV2ZW50cy1ub25lIHotMTBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS05MDAgdGV4dC13aGl0ZSB0ZXh0LXhzIHJvdW5kZWQtbGcgcC0yIHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZFwiPntjb21wZXRpdG9yLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1ncmF5LTMwMFwiPntjb21wZXRpdG9yLmVxdWlwZX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGp1c3RpZnktYmV0d2VlbiBnYXAtNCBtdC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTIwMFwiPntjb21wZXRpdG9yLnBvaW50c30gcHRzPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS0yMDBcIj57Y29tcGV0aXRvci5maXNoQ291bnR9IGZpc2g8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvbW90aW9uLmRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgPC9DYXJkPlxuXG4gICAgICAgIHsvKiBDb21wZXRpdG9yIE1vZGFsL1BvcHVwICovfVxuICAgICAgICB7c2VsZWN0ZWRDb21wZXRpdG9yICYmIChcbiAgICAgICAgICA8ZGl2IFxuICAgICAgICAgICAgY2xhc3NOYW1lPVwiZml4ZWQgaW5zZXQtMCBiZy1ibGFjay81MCBmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWNlbnRlciB6LTUwIHAtNFwiXG4gICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRTZWxlY3RlZENvbXBldGl0b3IobnVsbCl9XG4gICAgICAgICAgPlxuICAgICAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwibWF4LXctbWQgdy1mdWxsXCIgb25DbGljaz17KGUpID0+IGUuc3RvcFByb3BhZ2F0aW9uKCl9PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInAtNlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTMgbWItNFwiPlxuICAgICAgICAgICAgICAgICAgPENvbXBldGl0b3JBdmF0YXJcbiAgICAgICAgICAgICAgICAgICAgcGhvdG89e3NlbGVjdGVkQ29tcGV0aXRvci5waG90b31cbiAgICAgICAgICAgICAgICAgICAgbmFtZT17c2VsZWN0ZWRDb21wZXRpdG9yLm5hbWV9XG4gICAgICAgICAgICAgICAgICAgIHNlY3Rvcj17c2VsZWN0ZWRDb21wZXRpdG9yLnNlY3Rvcn1cbiAgICAgICAgICAgICAgICAgICAgc2l6ZT1cImxnXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGRcIj57c2VsZWN0ZWRDb21wZXRpdG9yLm5hbWV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+e3NlbGVjdGVkQ29tcGV0aXRvci5lcXVpcGV9PC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInNwYWNlLXktNlwiPlxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJncmlkIGdyaWQtY29scy0yIGdhcC00XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPntzZWxlY3RlZENvbXBldGl0b3IucG9pbnRzfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1zbSB0ZXh0LWdyYXktNTAwXCI+e3QoJ3BvaW50cycpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+e3NlbGVjdGVkQ29tcGV0aXRvci5maXNoQ291bnR9PC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj57dCgnZmlzaENhdWdodCcpfTwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkXCI+e3NlbGVjdGVkQ29tcGV0aXRvci50b3RhbFdlaWdodH1nPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS01MDBcIj57dCgndG90YWxXZWlnaHQnKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZFwiPntzZWxlY3RlZENvbXBldGl0b3IuYmlnZ2VzdENhdGNofWc8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTUwMFwiPnt0KCdiaWdnZXN0Q2F0Y2gnKX08L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L0NhcmQ+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICl9XG4gICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlVHJhbnNsYXRpb25zIiwidXNlRmlyZXN0b3JlIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQmFkZ2UiLCJDb21wZXRpdG9yQXZhdGFyIiwibW90aW9uIiwiQmVhY2hNYXAiLCJjb21wZXRpdG9ycyIsInQiLCJmaXJlc3RvcmVDb21wZXRpdG9ycyIsImhvdXJseUVudHJpZXMiLCJmaXJlc3RvcmVIb3VybHlFbnRyaWVzIiwiYmlnQ2F0Y2hlcyIsImZpcmVzdG9yZUJpZ0NhdGNoZXMiLCJzZWxlY3RlZFNlY3RvciIsInNldFNlbGVjdGVkU2VjdG9yIiwic2VsZWN0ZWRDb21wZXRpdG9yIiwic2V0U2VsZWN0ZWRDb21wZXRpdG9yIiwic2V0Q29tcGV0aXRvcnMiLCJjYWxjdWxhdGVDb21wZXRpdG9yc0Zyb21GaXJlYmFzZSIsImNvbXBldGl0b3JzQnlTZWN0b3IiLCJmb3JFYWNoIiwiY29tcCIsInNlY3RvciIsInRvdGFsRmlzaENvdW50IiwidG90YWxXZWlnaHQiLCJiaWdnZXN0Q2F0Y2giLCJob3VyIiwiZW50cnkiLCJmaW5kIiwiZSIsImNvbXBldGl0b3JJZCIsImlkIiwiaW5jbHVkZXMiLCJzdGF0dXMiLCJmaXNoQ291bnQiLCJncm9zc2VQcmlzZUVudHJ5IiwiZ3Jvc3NlUHJpc2UiLCJwb2ludHMiLCJwdXNoIiwibmFtZSIsImZ1bGxOYW1lIiwiZXF1aXBlIiwiYm94TnVtYmVyIiwiYm94Q29kZSIsInBob3RvIiwiT2JqZWN0Iiwia2V5cyIsInNvcnQiLCJhIiwiYiIsInNlY3RvcnMiLCJnZXRTZWN0b3JCdXR0b25DbGFzcyIsImlzU2VsZWN0ZWQiLCJiYXNlQ2xhc3MiLCJzZWN0b3JDb2xvcnMiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJzZWN0aW9uIiwiY2xhc3NOYW1lIiwiZGl2IiwiaDIiLCJwIiwiYnV0dG9uIiwib25DbGljayIsIm1hcCIsInNsaWNlIiwiY29tcGV0aXRvciIsImluZGV4IiwiaW5pdGlhbCIsIm9wYWNpdHkiLCJzY2FsZSIsImFuaW1hdGUiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJkZWxheSIsInNpemUiLCJ2YXJpYW50IiwiU3RyaW5nIiwicGFkU3RhcnQiLCJzcGFuIiwiaDMiLCJ0b0xvd2VyQ2FzZSIsInN0b3BQcm9wYWdhdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public/BeachMap.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/public/LiveGeneralRanking.tsx":
/*!******************************************************!*\
  !*** ./src/components/public/LiveGeneralRanking.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LiveGeneralRanking; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/FirestoreSyncProvider */ \"(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx\");\n/* harmony import */ var _components_ui_Card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/Card */ \"(app-pages-browser)/./src/components/ui/Card.tsx\");\n/* harmony import */ var _components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/Badge */ \"(app-pages-browser)/./src/components/ui/Badge.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/Button */ \"(app-pages-browser)/./src/components/ui/Button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/medal.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/award.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye-off.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/eye.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Eye,EyeOff,Medal,Search,Trophy!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-up-down.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\nfunction LiveGeneralRanking() {\n    _s();\n    const { competitors: firestoreCompetitors, hourlyEntries: firestoreHourlyEntries, bigCatches: firestoreBigCatches, publicAppearanceSettings: firestorePublicSettings } = (0,_components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__.useFirestore)();\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sectorFilter, setSectorFilter] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"all\");\n    const [sortField, setSortField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"classementGeneral\");\n    const [sortDirection, setSortDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"asc\");\n    const [isExpanded, setIsExpanded] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const sectors = [\n        \"A\",\n        \"B\",\n        \"C\",\n        \"D\",\n        \"E\",\n        \"F\"\n    ];\n    // Convert Firebase data to local format for calculations\n    const hourlyDataByCompetitor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const data = {};\n        firestoreHourlyEntries.forEach((entry)=>{\n            var _entry_timestamp;\n            if (!data[entry.competitorId]) {\n                data[entry.competitorId] = {};\n            }\n            data[entry.competitorId][entry.hour] = {\n                fishCount: entry.fishCount,\n                totalWeight: entry.totalWeight,\n                status: entry.status,\n                timestamp: ((_entry_timestamp = entry.timestamp) === null || _entry_timestamp === void 0 ? void 0 : _entry_timestamp.toDate) ? entry.timestamp.toDate() : new Date()\n            };\n        });\n        return data;\n    }, [\n        firestoreHourlyEntries\n    ]);\n    const bigCatchesByCompetitor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const data = {};\n        firestoreBigCatches.forEach((entry)=>{\n            var _entry_timestamp;\n            data[entry.competitorId] = {\n                grossePrise: entry.grossePrise,\n                status: entry.status,\n                timestamp: ((_entry_timestamp = entry.timestamp) === null || _entry_timestamp === void 0 ? void 0 : _entry_timestamp.toDate) ? entry.timestamp.toDate() : new Date()\n            };\n        });\n        return data;\n    }, [\n        firestoreBigCatches\n    ]);\n    // Calculate live data for all competitors (SAME LOGIC AS ADMIN CLASSEMENT GENERAL)\n    const calculatedCompetitors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        // First, calculate sector rankings\n        const competitorsBySector = {};\n        sectors.forEach((sector)=>{\n            const sectorCompetitors = firestoreCompetitors.filter((comp)=>comp.sector === sector);\n            // Calculate totals for each competitor in this sector\n            const sectorCalculated = sectorCompetitors.map((competitor)=>{\n                let nbPrisesGlobal = 0;\n                let poidsTotalGlobal = 0;\n                let lastValidEntry;\n                // Sum across all 7 hours\n                for(let hour = 1; hour <= 7; hour++){\n                    var _hourlyDataByCompetitor_competitor_id;\n                    const entry = (_hourlyDataByCompetitor_competitor_id = hourlyDataByCompetitor[competitor.id]) === null || _hourlyDataByCompetitor_competitor_id === void 0 ? void 0 : _hourlyDataByCompetitor_competitor_id[hour];\n                    if (entry && [\n                        \"locked_judge\",\n                        \"locked_admin\",\n                        \"offline_judge\",\n                        \"offline_admin\"\n                    ].includes(entry.status)) {\n                        nbPrisesGlobal += entry.fishCount;\n                        poidsTotalGlobal += entry.totalWeight;\n                        if (entry.timestamp && (!lastValidEntry || entry.timestamp > lastValidEntry)) {\n                            lastValidEntry = entry.timestamp;\n                        }\n                    }\n                }\n                // Get grosse prise\n                const grossePriseEntry = bigCatchesByCompetitor[competitor.id];\n                const grossePrise = grossePriseEntry && [\n                    \"locked_judge\",\n                    \"locked_admin\",\n                    \"offline_judge\",\n                    \"offline_admin\"\n                ].includes(grossePriseEntry.status) ? grossePriseEntry.biggestCatch : 0;\n                // Calculate points: (Nb Prises global × 50) + Poids Total global\n                const points = nbPrisesGlobal * 50 + poidsTotalGlobal;\n                return {\n                    id: competitor.id,\n                    boxNumber: competitor.boxNumber,\n                    boxCode: competitor.boxCode,\n                    name: competitor.fullName,\n                    equipe: competitor.equipe,\n                    sector: competitor.sector,\n                    nbPrisesGlobal,\n                    poidsTotalGlobal,\n                    grossePrise,\n                    points,\n                    coefficientSecteur: 0,\n                    classementSecteur: 0,\n                    classementGeneral: 0,\n                    lastValidEntry\n                };\n            });\n            // Calculate sector total for coefficient calculation\n            const sectorTotalNbPrises = sectorCalculated.reduce((sum, comp)=>sum + comp.nbPrisesGlobal, 0);\n            // Calculate coefficients: (Points × Nb Prises global) / Total Nb Prises global Secteur\n            sectorCalculated.forEach((comp)=>{\n                if (sectorTotalNbPrises > 0) {\n                    comp.coefficientSecteur = comp.points * comp.nbPrisesGlobal / sectorTotalNbPrises;\n                } else {\n                    comp.coefficientSecteur = 0;\n                }\n            });\n            // Sort by points (desc) for sector ranking\n            const sectorSorted = [\n                ...sectorCalculated\n            ].sort((a, b)=>{\n                return b.points - a.points; // Sort by Points (desc) only\n            });\n            // Assign sector rankings\n            sectorSorted.forEach((comp, index)=>{\n                comp.classementSecteur = index + 1;\n            });\n            competitorsBySector[sector] = sectorSorted;\n        });\n        // Now build general ranking by place groups\n        const generalRanking = [];\n        // Process each place (1st through 20th)\n        for(let place = 1; place <= 20; place++){\n            const placeGroup = [];\n            // Collect all competitors at this place from each sector\n            sectors.forEach((sector)=>{\n                const sectorCompetitors = competitorsBySector[sector] || [];\n                const competitorAtPlace = sectorCompetitors.find((comp)=>comp.classementSecteur === place);\n                if (competitorAtPlace) {\n                    placeGroup.push(competitorAtPlace);\n                }\n            });\n            // Sort this place group by coefficient (desc), then tie-breakers\n            placeGroup.sort((a, b)=>{\n                // Primary: Coefficient secteur (desc)\n                if (b.coefficientSecteur !== a.coefficientSecteur) {\n                    return b.coefficientSecteur - a.coefficientSecteur;\n                }\n                // Tie-breaker 1: Grosse prise (desc)\n                if (b.grossePrise !== a.grossePrise) {\n                    return b.grossePrise - a.grossePrise;\n                }\n                // Tie-breaker 2: Points (desc)\n                if (b.points !== a.points) {\n                    return b.points - a.points;\n                }\n                // Tie-breaker 3: Earliest last valid entry (asc)\n                if (a.lastValidEntry && b.lastValidEntry) {\n                    return a.lastValidEntry.getTime() - b.lastValidEntry.getTime();\n                } else if (a.lastValidEntry) {\n                    return -1;\n                } else if (b.lastValidEntry) {\n                    return 1;\n                }\n                return 0;\n            });\n            // Add to general ranking\n            generalRanking.push(...placeGroup);\n        }\n        // Handle zero-coefficient competitors (place at bottom with rank 120)\n        const zeroCoeffCompetitors = generalRanking.filter((comp)=>comp.coefficientSecteur === 0);\n        const nonZeroCompetitors = generalRanking.filter((comp)=>comp.coefficientSecteur > 0);\n        // Assign general rankings\n        nonZeroCompetitors.forEach((comp, index)=>{\n            comp.classementGeneral = index + 1;\n        });\n        zeroCoeffCompetitors.forEach((comp)=>{\n            comp.classementGeneral = 120;\n        });\n        return [\n            ...nonZeroCompetitors,\n            ...zeroCoeffCompetitors\n        ];\n    }, [\n        firestoreCompetitors,\n        hourlyDataByCompetitor,\n        bigCatchesByCompetitor\n    ]);\n    // Apply sorting\n    const sortedCompetitors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (sortField === \"classementGeneral\") {\n            return calculatedCompetitors; // Already sorted by general ranking\n        }\n        return [\n            ...calculatedCompetitors\n        ].sort((a, b)=>{\n            let aValue;\n            let bValue;\n            switch(sortField){\n                case \"boxNumber\":\n                    aValue = a.boxNumber;\n                    bValue = b.boxNumber;\n                    break;\n                case \"name\":\n                    aValue = a.name.toLowerCase();\n                    bValue = b.name.toLowerCase();\n                    break;\n                case \"equipe\":\n                    aValue = a.equipe.toLowerCase();\n                    bValue = b.equipe.toLowerCase();\n                    break;\n                case \"nbPrisesGlobal\":\n                    aValue = a.nbPrisesGlobal;\n                    bValue = b.nbPrisesGlobal;\n                    break;\n                case \"grossePrise\":\n                    aValue = a.grossePrise;\n                    bValue = b.grossePrise;\n                    break;\n                case \"classementSecteur\":\n                    aValue = a.classementSecteur;\n                    bValue = b.classementSecteur;\n                    break;\n                case \"coefficientSecteur\":\n                    aValue = a.coefficientSecteur;\n                    bValue = b.coefficientSecteur;\n                    break;\n                default:\n                    return 0;\n            }\n            if (typeof aValue === \"string\" && typeof bValue === \"string\") {\n                return sortDirection === \"desc\" ? bValue.localeCompare(aValue) : aValue.localeCompare(bValue);\n            } else {\n                return sortDirection === \"desc\" ? bValue - aValue : aValue - bValue;\n            }\n        });\n    }, [\n        calculatedCompetitors,\n        sortField,\n        sortDirection\n    ]);\n    // Apply filters\n    const filteredCompetitors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let filtered = sortedCompetitors;\n        // Search filter\n        if (searchQuery) {\n            const query = searchQuery.toLowerCase();\n            filtered = filtered.filter((comp)=>comp.name.toLowerCase().includes(query) || comp.equipe.toLowerCase().includes(query) || comp.boxCode.toLowerCase().includes(query));\n        }\n        // Sector filter\n        if (sectorFilter !== \"all\") {\n            filtered = filtered.filter((comp)=>comp.sector === sectorFilter);\n        }\n        return filtered;\n    }, [\n        sortedCompetitors,\n        searchQuery,\n        sectorFilter\n    ]);\n    // Check if we should auto-expand based on search results\n    const shouldAutoExpand = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (!searchQuery) return false;\n        // Check if any search results are beyond top 10\n        const searchResults = filteredCompetitors;\n        const top10Ids = filteredCompetitors.slice(0, 10).map((c)=>c.id);\n        return searchResults.some((comp)=>!top10Ids.includes(comp.id));\n    }, [\n        searchQuery,\n        filteredCompetitors\n    ]);\n    // Auto-expand when search has results beyond top 10\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        if (shouldAutoExpand && !isExpanded) {\n            setIsExpanded(true);\n        }\n    }, [\n        shouldAutoExpand,\n        isExpanded\n    ]);\n    // Display logic\n    const displayedCompetitors = isExpanded ? filteredCompetitors : filteredCompetitors.slice(0, 10);\n    const hiddenCount = Math.max(0, filteredCompetitors.length - 10);\n    const showToggleButton = filteredCompetitors.length > 10;\n    const getSectorColor = (sector)=>{\n        const colors = {\n            A: \"bg-sectors-A text-white\",\n            B: \"bg-sectors-B text-white\",\n            C: \"bg-sectors-C text-white\",\n            D: \"bg-sectors-D text-white\",\n            E: \"bg-sectors-E text-white\",\n            F: \"bg-sectors-F text-white\"\n        };\n        return colors[sector] || \"bg-gray-500 text-white\";\n    };\n    const handleSort = (field)=>{\n        if (sortField === field) {\n            setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n        } else {\n            setSortField(field);\n            setSortDirection(field === \"classementGeneral\" || field === \"classementSecteur\" ? \"asc\" : \"desc\");\n        }\n    };\n    const formatCoefficient = (value)=>{\n        return value.toLocaleString(\"fr-FR\", {\n            minimumFractionDigits: 3,\n            maximumFractionDigits: 3\n        });\n    };\n    const getRankIcon = (rank)=>{\n        switch(rank){\n            case 1:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    className: \"w-4 h-4 text-yellow-500\"\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                    lineNumber: 359,\n                    columnNumber: 16\n                }, this);\n            case 2:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    className: \"w-4 h-4 text-gray-400\"\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                    lineNumber: 361,\n                    columnNumber: 16\n                }, this);\n            case 3:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                    className: \"w-4 h-4 text-amber-600\"\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                    lineNumber: 363,\n                    columnNumber: 16\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm font-bold text-gray-500\",\n                    children: [\n                        \"#\",\n                        rank\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                    lineNumber: 365,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    const handleDownloadPDF = ()=>{\n        var _firestorePublicSettings_logos, _firestorePublicSettings_logos1;\n        const currentDate = new Date().toLocaleDateString(\"fr-FR\", {\n            timeZone: \"Africa/Tunis\",\n            weekday: \"long\",\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\"\n        });\n        const currentTime = new Date().toLocaleTimeString(\"fr-FR\", {\n            timeZone: \"Africa/Tunis\",\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n            second: \"2-digit\"\n        });\n        const logoHtml = (firestorePublicSettings === null || firestorePublicSettings === void 0 ? void 0 : (_firestorePublicSettings_logos = firestorePublicSettings.logos) === null || _firestorePublicSettings_logos === void 0 ? void 0 : _firestorePublicSettings_logos.light) || (firestorePublicSettings === null || firestorePublicSettings === void 0 ? void 0 : (_firestorePublicSettings_logos1 = firestorePublicSettings.logos) === null || _firestorePublicSettings_logos1 === void 0 ? void 0 : _firestorePublicSettings_logos1.dark) ? '<img src=\"'.concat(firestorePublicSettings.logos.light || firestorePublicSettings.logos.dark, '\" alt=\"Titanium Tunisia Open\" style=\"height: 80px; margin: 0 auto 20px auto; display: block;\" />') : '<div style=\"text-align: center; margin-bottom: 20px;\">\\n           <h1 style=\"color: #0ea5e9; font-size: 24px; margin: 0;\">Titanium Tunisia Open</h1>\\n         </div>';\n        const tableHTML = '\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <meta charset=\"UTF-8\">\\n          <title>Classement G\\xe9n\\xe9ral - Titanium Tunisia Open</title>\\n          <style>\\n            @page { \\n              size: A4; \\n              margin: 20mm; \\n            }\\n            body { \\n              font-family: Arial, sans-serif; \\n              margin: 0; \\n              padding: 0;\\n              font-size: 12px;\\n              line-height: 1.4;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 30px;\\n              border-bottom: 2px solid #0ea5e9;\\n              padding-bottom: 20px;\\n            }\\n            .tagline {\\n              font-style: italic;\\n              color: #666;\\n              margin: 10px 0;\\n              font-size: 14px;\\n            }\\n            .event-info {\\n              font-weight: bold;\\n              color: #0ea5e9;\\n              margin: 10px 0;\\n              font-size: 16px;\\n            }\\n            .disclaimer {\\n              background-color: #fff3cd;\\n              border: 1px solid #ffeaa7;\\n              padding: 10px;\\n              margin: 20px 0;\\n              border-radius: 4px;\\n              font-style: italic;\\n              text-align: center;\\n            }\\n            .meta-info {\\n              text-align: right;\\n              margin-bottom: 20px;\\n              color: #666;\\n              font-size: 11px;\\n            }\\n            table { \\n              width: 100%; \\n              border-collapse: collapse; \\n              margin-top: 20px;\\n              font-size: 11px;\\n            }\\n            th, td { \\n              border: 1px solid #ddd; \\n              padding: 6px 8px; \\n              text-align: left; \\n            }\\n            th { \\n              background-color: #f8f9fa; \\n              font-weight: bold;\\n              font-size: 10px;\\n              text-transform: uppercase;\\n            }\\n            .rank-1 { background-color: #fff3cd; }\\n            .rank-2 { background-color: #f8f9fa; }\\n            .rank-3 { background-color: #ffeaa7; }\\n            .sector-badge {\\n              display: inline-block;\\n              padding: 2px 6px;\\n              border-radius: 4px;\\n              color: white;\\n              font-size: 9px;\\n              font-weight: bold;\\n              margin-left: 4px;\\n            }\\n            .sector-A { background-color: #3b82f6; }\\n            .sector-B { background-color: #10b981; }\\n            .sector-C { background-color: #f59e0b; }\\n            .sector-D { background-color: #ef4444; }\\n            .sector-E { background-color: #8b5cf6; }\\n            .sector-F { background-color: #06b6d4; }\\n            .text-center { text-align: center; }\\n            .font-mono { font-family: \\'Courier New\\', monospace; }\\n          </style>\\n        </head>\\n        <body>\\n          <div class=\"header\">\\n            '.concat(logoHtml, '\\n            <div class=\"tagline\">The most luxurious Surfcasting competition in the world</div>\\n            <div class=\"event-info\">TITANIUM TUNISIA OPEN - 6 septembre 2025 - Raoued, Tunisie</div>\\n            <div class=\"disclaimer\">\\n              Classement provisoire — susceptible d\\'\\xeatre modifi\\xe9 jusqu\\'\\xe0 publication des r\\xe9sultats officiels.\\n            </div>\\n          </div>\\n          \\n          <div class=\"meta-info\">\\n            G\\xe9n\\xe9r\\xe9 le ').concat(currentDate, \" \\xe0 \").concat(currentTime, ' (Raoued, Tunisie)\\n          </div>\\n          \\n          <h2 style=\"color: #0ea5e9; margin-bottom: 20px;\">Classement G\\xe9n\\xe9ral</h2>\\n          \\n          <table>\\n            <thead>\\n              <tr>\\n                <th>Box N\\xb0</th>\\n                <th>Comp\\xe9titeur</th>\\n                <th>\\xc9quipe</th>\\n                <th>Nb Prises global</th>\\n                <th>Grosse prise (g)</th>\\n                <th>Classement secteur</th>\\n                <th>Coefficient secteur</th>\\n                <th>Classement G\\xe9n\\xe9ral</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              ').concat(filteredCompetitors.map((comp)=>'\\n                <tr class=\"'.concat(comp.classementGeneral <= 3 ? \"rank-\".concat(comp.classementGeneral) : \"\", '\">\\n                  <td class=\"font-mono\">').concat(comp.boxCode, \"</td>\\n                  <td>\\n                    \").concat(comp.name, '\\n                    <span class=\"sector-badge sector-').concat(comp.sector, '\">').concat(comp.sector, \"</span>\\n                  </td>\\n                  <td>\").concat(comp.equipe, '</td>\\n                  <td class=\"text-center\">').concat(comp.nbPrisesGlobal, '</td>\\n                  <td class=\"text-center\">').concat(comp.grossePrise > 0 ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(comp.grossePrise) : \"—\", '</td>\\n                  <td class=\"text-center\">').concat(comp.classementSecteur, '</td>\\n                  <td class=\"text-center font-mono\">').concat(formatCoefficient(comp.coefficientSecteur), '</td>\\n                  <td class=\"text-center\"><strong>').concat(comp.classementGeneral, \"</strong></td>\\n                </tr>\\n              \")).join(\"\"), '\\n            </tbody>\\n          </table>\\n          \\n          <div style=\"margin-top: 30px; text-align: center; color: #666; font-size: 10px;\">\\n            Document g\\xe9n\\xe9r\\xe9 automatiquement par le syst\\xe8me Titanium Tunisia Open\\n          </div>\\n        </body>\\n      </html>\\n    ').trim();\n        // Create and download PDF-ready HTML\n        const blob = new Blob([\n            tableHTML\n        ], {\n            type: \"text/html;charset=utf-8\"\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = \"classement-general-\".concat(new Date().toISOString().slice(0, 10), \".html\");\n        a.click();\n        URL.revokeObjectURL(url);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        id: \"classement-general\",\n        className: \"py-16 bg-white dark:bg-gray-900\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-12\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\",\n                            children: \"Classement g\\xe9n\\xe9ral (en direct)\"\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                            lineNumber: 550,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto\",\n                            children: \"Classement global de la comp\\xe9tition, mis \\xe0 jour en temps r\\xe9el\"\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                            lineNumber: 553,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                    lineNumber: 549,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n                    className: \"max-w-7xl mx-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardTitle, {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-3 h-3 bg-green-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 562,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"Classement G\\xe9n\\xe9ral en Direct\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 563,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                        lineNumber: 561,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                        variant: \"outline\",\n                                        size: \"sm\",\n                                        onClick: handleDownloadPDF,\n                                        className: \"flex items-center space-x-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 571,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"T\\xe9l\\xe9charger en PDF\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 572,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                        lineNumber: 565,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                lineNumber: 560,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                            lineNumber: 559,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col sm:flex-row gap-4 mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 relative\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                    className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                    lineNumber: 580,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: searchQuery,\n                                                    onChange: (e)=>setSearchQuery(e.target.value),\n                                                    placeholder: \"Rechercher par nom ou box...\",\n                                                    className: \"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                    lineNumber: 581,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                            lineNumber: 579,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center gap-4\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                                    value: sectorFilter,\n                                                    onChange: (e)=>setSectorFilter(e.target.value),\n                                                    className: \"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\",\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                            value: \"all\",\n                                                            children: \"Tous les secteurs\"\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 595,\n                                                            columnNumber: 19\n                                                        }, this),\n                                                        sectors.map((sector)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                                value: sector,\n                                                                children: [\n                                                                    \"Secteur \",\n                                                                    sector\n                                                                ]\n                                                            }, sector, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 597,\n                                                                columnNumber: 21\n                                                            }, this))\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                    lineNumber: 590,\n                                                    columnNumber: 17\n                                                }, this),\n                                                showToggleButton && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_5__[\"default\"], {\n                                                    variant: \"outline\",\n                                                    onClick: ()=>setIsExpanded(!isExpanded),\n                                                    className: \"flex items-center space-x-2 whitespace-nowrap\",\n                                                    children: isExpanded ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 610,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: \"Masquer le reste\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 611,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                className: \"w-4 h-4\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 615,\n                                                                columnNumber: 25\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                children: [\n                                                                    \"Afficher le reste (\",\n                                                                    hiddenCount,\n                                                                    \")\"\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 616,\n                                                                columnNumber: 25\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                    lineNumber: 603,\n                                                    columnNumber: 19\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                            lineNumber: 589,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                    lineNumber: 578,\n                                    columnNumber: 13\n                                }, this),\n                                searchQuery && !isExpanded && shouldAutoExpand && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mb-6 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg border border-blue-200 dark:border-blue-800\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                                        className: \"text-sm text-blue-800 dark:text-blue-200 text-center\",\n                                        children: [\n                                            \"Des r\\xe9sultats se trouvent au-del\\xe0 du Top 10 —\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setIsExpanded(true),\n                                                className: \"ml-1 underline hover:no-underline font-medium\",\n                                                children: \"Afficher le reste\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 629,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                        lineNumber: 627,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                    lineNumber: 626,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"overflow-x-auto\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                        className: \"w-full\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                                className: \"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"sticky left-0 bg-gray-50 dark:bg-gray-800 px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"boxNumber\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Box N\\xb0\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 649,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 650,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 648,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 644,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"name\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Comp\\xe9titeur\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 658,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 659,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 657,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 653,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"equipe\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"\\xc9quipe\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 667,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 668,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 666,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 662,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"nbPrisesGlobal\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Nb Prises global\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 676,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 677,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 675,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 671,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"grossePrise\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Grosse prise (g)\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 685,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 686,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 684,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 680,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"classementSecteur\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Classement secteur\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 694,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 695,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 693,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 689,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"coefficientSecteur\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Coefficient secteur\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 703,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 704,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 702,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 698,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"classementGeneral\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Classement G\\xe9n\\xe9ral\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 712,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Eye_EyeOff_Medal_Search_Trophy_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 713,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                lineNumber: 711,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 707,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                    lineNumber: 643,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 642,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                className: \"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.AnimatePresence, {\n                                                    children: displayedCompetitors.map((competitor, index)=>{\n                                                        const isTopThree = competitor.classementGeneral <= 3;\n                                                        return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_16__.motion.tr, {\n                                                            initial: {\n                                                                opacity: 0,\n                                                                y: 20\n                                                            },\n                                                            animate: {\n                                                                opacity: 1,\n                                                                y: 0\n                                                            },\n                                                            exit: {\n                                                                opacity: 0,\n                                                                y: -20\n                                                            },\n                                                            transition: {\n                                                                duration: 0.3,\n                                                                delay: index * 0.02\n                                                            },\n                                                            className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(isTopThree && \"bg-yellow-50 dark:bg-yellow-900/10\", \"hover:bg-gray-50 dark:hover:bg-gray-800\"),\n                                                            children: [\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"sticky left-0 bg-white dark:bg-gray-900 px-4 py-4 border-r border-gray-200 dark:border-gray-700\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-mono font-semibold text-gray-900 dark:text-white\",\n                                                                        children: competitor.boxCode\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 737,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 736,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"px-4 py-4 whitespace-nowrap\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center space-x-2\",\n                                                                        children: [\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"font-medium text-gray-900 dark:text-gray-100\",\n                                                                                children: competitor.name\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                                lineNumber: 745,\n                                                                                columnNumber: 31\n                                                                            }, this),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Badge__WEBPACK_IMPORTED_MODULE_4__.Badge, {\n                                                                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(\"text-xs\", getSectorColor(competitor.sector)),\n                                                                                children: competitor.sector\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                                lineNumber: 748,\n                                                                                columnNumber: 31\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 744,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 743,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"px-4 py-4 whitespace-nowrap\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-gray-800 dark:text-gray-200\",\n                                                                        children: competitor.equipe\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 756,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 755,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                        children: competitor.nbPrisesGlobal\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 761,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 760,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                        children: competitor.grossePrise > 0 ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__.formatNumber)(competitor.grossePrise) : \"—\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 768,\n                                                                        columnNumber: 29\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 767,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                    children: competitor.nbPrisesGlobal === 0 && competitor.poidsTotalGlobal === 0 && competitor.grossePrise === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-gray-400 dark:text-gray-500\",\n                                                                        children: \"—\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 776,\n                                                                        columnNumber: 31\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center justify-center space-x-1\",\n                                                                        children: [\n                                                                            competitor.classementSecteur <= 3 && getRankIcon(competitor.classementSecteur),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                                children: competitor.classementSecteur\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                                lineNumber: 780,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 778,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 774,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                    children: competitor.nbPrisesGlobal === 0 && competitor.poidsTotalGlobal === 0 && competitor.grossePrise === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-gray-400 dark:text-gray-500\",\n                                                                        children: \"—\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 790,\n                                                                        columnNumber: 31\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"font-mono text-sm text-gray-800 dark:text-gray-200\",\n                                                                        children: formatCoefficient(competitor.coefficientSecteur)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 792,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 788,\n                                                                    columnNumber: 27\n                                                                }, this),\n                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                    className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                    children: competitor.nbPrisesGlobal === 0 && competitor.poidsTotalGlobal === 0 && competitor.grossePrise === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        className: \"text-gray-400 dark:text-gray-500\",\n                                                                        children: \"—\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 801,\n                                                                        columnNumber: 31\n                                                                    }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                        className: \"flex items-center justify-center space-x-1\",\n                                                                        children: [\n                                                                            competitor.classementGeneral <= 3 && getRankIcon(competitor.classementGeneral),\n                                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_6__.cn)(\"font-bold text-lg\", competitor.classementGeneral === 1 ? \"text-yellow-600\" : competitor.classementGeneral === 2 ? \"text-gray-500\" : competitor.classementGeneral === 3 ? \"text-amber-600\" : competitor.classementGeneral === 120 ? \"text-gray-400\" : \"text-ocean-600\"),\n                                                                                children: competitor.classementGeneral\n                                                                            }, void 0, false, {\n                                                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                                lineNumber: 805,\n                                                                                columnNumber: 33\n                                                                            }, this)\n                                                                        ]\n                                                                    }, void 0, true, {\n                                                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                        lineNumber: 803,\n                                                                        columnNumber: 31\n                                                                    }, this)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                                    lineNumber: 799,\n                                                                    columnNumber: 27\n                                                                }, this)\n                                                            ]\n                                                        }, competitor.id, true, {\n                                                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                            lineNumber: 724,\n                                                            columnNumber: 25\n                                                        }, this);\n                                                    })\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                    lineNumber: 719,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 718,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                        lineNumber: 641,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                    lineNumber: 640,\n                                    columnNumber: 13\n                                }, this),\n                                !isExpanded && hiddenCount > 0 && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6 text-center\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"inline-block px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm text-gray-600 dark:text-gray-400\",\n                                        children: [\n                                            hiddenCount,\n                                            \" autres comp\\xe9titeurs —\",\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                                onClick: ()=>setIsExpanded(true),\n                                                className: \"ml-1 text-ocean-600 dark:text-ocean-400 hover:underline font-medium\",\n                                                children: \"Afficher le reste\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                                lineNumber: 830,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                        lineNumber: 828,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                                    lineNumber: 827,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                            lineNumber: 576,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n                    lineNumber: 558,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n            lineNumber: 548,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/public/LiveGeneralRanking.tsx\",\n        lineNumber: 547,\n        columnNumber: 5\n    }, this);\n}\n_s(LiveGeneralRanking, \"Q8eIV1c+Ivf8QH4VYBgNfqiGrfE=\", false, function() {\n    return [\n        _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__.useFirestore\n    ];\n});\n_c = LiveGeneralRanking;\nvar _c;\n$RefreshReg$(_c, \"LiveGeneralRanking\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy9MaXZlR2VuZXJhbFJhbmtpbmcudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUVrRTtBQUNVO0FBQ0k7QUFDbEM7QUFDRjtBQVd0QjtBQUNrQztBQUNiO0FBQ1Y7QUFtQmxCLFNBQVNzQjs7SUFDdEIsTUFBTSxFQUNKQyxhQUFhQyxvQkFBb0IsRUFDakNDLGVBQWVDLHNCQUFzQixFQUNyQ0MsWUFBWUMsbUJBQW1CLEVBQy9CQywwQkFBMEJDLHVCQUF1QixFQUNsRCxHQUFHM0IseUZBQVlBO0lBQ2hCLE1BQU0sQ0FBQzRCLGFBQWFDLGVBQWUsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2lDLGNBQWNDLGdCQUFnQixHQUFHbEMsK0NBQVFBLENBQVM7SUFDekQsTUFBTSxDQUFDbUMsV0FBV0MsYUFBYSxHQUFHcEMsK0NBQVFBLENBQVM7SUFDbkQsTUFBTSxDQUFDcUMsZUFBZUMsaUJBQWlCLEdBQUd0QywrQ0FBUUEsQ0FBaUI7SUFDbkUsTUFBTSxDQUFDdUMsWUFBWUMsY0FBYyxHQUFHeEMsK0NBQVFBLENBQUM7SUFFN0MsTUFBTXlDLFVBQVU7UUFBQztRQUFLO1FBQUs7UUFBSztRQUFLO1FBQUs7S0FBSTtJQUU5Qyx5REFBeUQ7SUFDekQsTUFBTUMseUJBQXlCeEMsOENBQU9BLENBQUM7UUFDckMsTUFBTXlDLE9BQTRELENBQUM7UUFFbkVqQix1QkFBdUJrQixPQUFPLENBQUNDLENBQUFBO2dCQVFoQkE7WUFQYixJQUFJLENBQUNGLElBQUksQ0FBQ0UsTUFBTUMsWUFBWSxDQUFDLEVBQUU7Z0JBQzdCSCxJQUFJLENBQUNFLE1BQU1DLFlBQVksQ0FBQyxHQUFHLENBQUM7WUFDOUI7WUFDQUgsSUFBSSxDQUFDRSxNQUFNQyxZQUFZLENBQUMsQ0FBQ0QsTUFBTUUsSUFBSSxDQUFDLEdBQUc7Z0JBQ3JDQyxXQUFXSCxNQUFNRyxTQUFTO2dCQUMx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QVU7OENBQ2IsNEVBQUNtQzt3Q0FBSW5DLFdBQVU7OzRDQUNadEI7NENBQVk7MERBQ2IsOERBQUNzRTtnREFDQ1IsU0FBUyxJQUFNdkksY0FBYztnREFDN0IrRixXQUFVOzBEQUNYOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBV25CO0dBcHlCd0JqSDs7UUFNbEJuQixxRkFBWUE7OztLQU5NbUIiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvcHVibGljL0xpdmVHZW5lcmFsUmFua2luZy50c3g/NzVhOSJdLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIGNsaWVudCc7XG5cbmltcG9ydCB7IHVzZVN0YXRlLCB1c2VFZmZlY3QsIHVzZU1lbW8sIHVzZUNhbGxiYWNrIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRmlyZXN0b3JlIH0gZnJvbSAnQC9jb21wb25lbnRzL3Byb3ZpZGVycy9GaXJlc3RvcmVTeW5jUHJvdmlkZXInO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9DYXJkJztcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0JhZGdlJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL0J1dHRvbic7XG5pbXBvcnQgeyBcbiAgU2VhcmNoLFxuICBGaWx0ZXIsXG4gIERvd25sb2FkLFxuICBBcnJvd1VwRG93bixcbiAgVHJvcGh5LFxuICBNZWRhbCxcbiAgQXdhcmQsXG4gIEV5ZSxcbiAgRXllT2ZmXG59IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5pbXBvcnQgeyBtb3Rpb24sIEFuaW1hdGVQcmVzZW5jZSB9IGZyb20gJ2ZyYW1lci1tb3Rpb24nO1xuaW1wb3J0IHsgZm9ybWF0TnVtYmVyIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuaW1wb3J0IHsgY24gfSBmcm9tICdAL2xpYi91dGlscyc7XG5cbmludGVyZmFjZSBDYWxjdWxhdGVkQ29tcGV0aXRvciB7XG4gIGlkOiBzdHJpbmc7XG4gIGJveE51bWJlcjogbnVtYmVyO1xuICBib3hDb2RlOiBzdHJpbmc7XG4gIG5hbWU6IHN0cmluZztcbiAgZXF1aXBlOiBzdHJpbmc7XG4gIHNlY3Rvcjogc3RyaW5nO1xuICBuYlByaXNlc0dsb2JhbDogbnVtYmVyO1xuICBwb2lkc1RvdGFsR2xvYmFsOiBudW1iZXI7XG4gIGdyb3NzZVByaXNlOiBudW1iZXI7XG4gIHBvaW50czogbnVtYmVyO1xuICBjb2VmZmljaWVudFNlY3RldXI6IG51bWJlcjtcbiAgY2xhc3NlbWVudFNlY3RldXI6IG51bWJlcjtcbiAgY2xhc3NlbWVudEdlbmVyYWw6IG51bWJlcjtcbiAgbGFzdFZhbGlkRW50cnk/OiBEYXRlO1xufVxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBMaXZlR2VuZXJhbFJhbmtpbmcoKSB7XG4gIGNvbnN0IHsgXG4gICAgY29tcGV0aXRvcnM6IGZpcmVzdG9yZUNvbXBldGl0b3JzLCBcbiAgICBob3VybHlFbnRyaWVzOiBmaXJlc3RvcmVIb3VybHlFbnRyaWVzLCBcbiAgICBiaWdDYXRjaGVzOiBmaXJlc3RvcmVCaWdDYXRjaGVzLFxuICAgIHB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nczogZmlyZXN0b3JlUHVibGljU2V0dGluZ3NcbiAgfSA9IHVzZUZpcmVzdG9yZSgpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NlY3RvckZpbHRlciwgc2V0U2VjdG9yRmlsdGVyXSA9IHVzZVN0YXRlPHN0cmluZz4oJ2FsbCcpO1xuICBjb25zdCBbc29ydEZpZWxkLCBzZXRTb3J0RmllbGRdID0gdXNlU3RhdGU8c3RyaW5nPignY2xhc3NlbWVudEdlbmVyYWwnKTtcbiAgY29uc3QgW3NvcnREaXJlY3Rpb24sIHNldFNvcnREaXJlY3Rpb25dID0gdXNlU3RhdGU8J2FzYycgfCAnZGVzYyc+KCdhc2MnKTtcbiAgY29uc3QgW2lzRXhwYW5kZWQsIHNldElzRXhwYW5kZWRdID0gdXNlU3RhdGUoZmFsc2UpO1xuICBcbiAgY29uc3Qgc2VjdG9ycyA9IFsnQScsICdCJywgJ0MnLCAnRCcsICdFJywgJ0YnXTtcblxuICAvLyBDb252ZXJ0IEZpcmViYXNlIGRhdGEgdG8gbG9jYWwgZm9ybWF0IGZvciBjYWxjdWxhdGlvbnNcbiAgY29uc3QgaG91cmx5RGF0YUJ5Q29tcGV0aXRvciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRhdGE6IHsgW2NvbXBldGl0b3JJZDogc3RyaW5nXTogeyBbaG91cjogbnVtYmVyXTogYW55IH0gfSA9IHt9O1xuICAgIFxuICAgIGZpcmVzdG9yZUhvdXJseUVudHJpZXMuZm9yRWFjaChlbnRyeSA9PiB7XG4gICAgICBpZiAoIWRhdGFbZW50cnkuY29tcGV0aXRvcklkXSkge1xuICAgICAgICBkYXRhW2VudHJ5LmNvbXBldGl0b3JJZF0gPSB7fTtcbiAgICAgIH1cbiAgICAgIGRhdGFbZW50cnkuY29tcGV0aXRvcklkXVtlbnRyeS5ob3VyXSA9IHtcbiAgICAgICAgZmlzaENvdW50OiBlbnRyeS5maXNoQ291bnQsXG4gICAgICAgIHRvdGFsV2VpZ2h0OiBlbnRyeS50b3RhbFdlaWdodCxcbiAgICAgICAgc3RhdHVzOiBlbnRyeS5zdGF0dXMsXG4gICAgICAgIHRpbWVzdGFtcDogZW50cnkudGltZXN0YW1wPy50b0RhdGUgPyBlbnRyeS50aW1lc3RhbXAudG9EYXRlKCkgOiBuZXcgRGF0ZSgpXG4gICAgICB9O1xuICAgIH0pO1xuICAgIFxuICAgIHJldHVybiBkYXRhO1xuICB9LCBbZmlyZXN0b3JlSG91cmx5RW50cmllc10pO1xuICBcbiAgY29uc3QgYmlnQ2F0Y2hlc0J5Q29tcGV0aXRvciA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGNvbnN0IGRhdGE6IHsgW2NvbXBldGl0b3JJZDogc3RyaW5nXTogYW55IH0gPSB7fTtcbiAgICBcbiAgICBmaXJlc3RvcmVCaWdDYXRjaGVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgZGF0YVtlbnRyeS5jb21wZXRpdG9ySWRdID0ge1xuICAgICAgICBncm9zc2VQcmlzZTogZW50cnkuZ3Jvc3NlUHJpc2UsXG4gICAgICAgIHN0YXR1czogZW50cnkuc3RhdHVzLFxuICAgICAgICB0aW1lc3RhbXA6IGVudHJ5LnRpbWVzdGFtcD8udG9EYXRlID8gZW50cnkudGltZXN0YW1wLnRvRGF0ZSgpIDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gZGF0YTtcbiAgfSwgW2ZpcmVzdG9yZUJpZ0NhdGNoZXNdKTtcblxuICAvLyBDYWxjdWxhdGUgbGl2ZSBkYXRhIGZvciBhbGwgY29tcGV0aXRvcnMgKFNBTUUgTE9HSUMgQVMgQURNSU4gQ0xBU1NFTUVOVCBHRU5FUkFMKVxuICBjb25zdCBjYWxjdWxhdGVkQ29tcGV0aXRvcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICAvLyBGaXJzdCwgY2FsY3VsYXRlIHNlY3RvciByYW5raW5nc1xuICAgIGNvbnN0IGNvbXBldGl0b3JzQnlTZWN0b3I6IHsgW3NlY3Rvcjogc3RyaW5nXTogQ2FsY3VsYXRlZENvbXBldGl0b3JbXSB9ID0ge307XG4gICAgXG4gICAgc2VjdG9ycy5mb3JFYWNoKHNlY3RvciA9PiB7XG4gICAgICBjb25zdCBzZWN0b3JDb21wZXRpdG9ycyA9IGZpcmVzdG9yZUNvbXBldGl0b3JzLmZpbHRlcihjb21wID0+IGNvbXAuc2VjdG9yID09PSBzZWN0b3IpO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgdG90YWxzIGZvciBlYWNoIGNvbXBldGl0b3IgaW4gdGhpcyBzZWN0b3JcbiAgICAgIGNvbnN0IHNlY3RvckNhbGN1bGF0ZWQ6IENhbGN1bGF0ZWRDb21wZXRpdG9yW10gPSBzZWN0b3JDb21wZXRpdG9ycy5tYXAoY29tcGV0aXRvciA9PiB7XG4gICAgICAgIGxldCBuYlByaXNlc0dsb2JhbCA9IDA7XG4gICAgICAgIGxldCBwb2lkc1RvdGFsR2xvYmFsID0gMDtcbiAgICAgICAgbGV0IGxhc3RWYWxpZEVudHJ5OiBEYXRlIHwgdW5kZWZpbmVkO1xuICAgICAgICBcbiAgICAgICAgLy8gU3VtIGFjcm9zcyBhbGwgNyBob3Vyc1xuICAgICAgICBmb3IgKGxldCBob3VyID0gMTsgaG91ciA8PSA3OyBob3VyKyspIHtcbiAgICAgICAgICBjb25zdCBlbnRyeSA9IGhvdXJseURhdGFCeUNvbXBldGl0b3JbY29tcGV0aXRvci5pZF0/Lltob3VyXTtcbiAgICAgICAgICBcbiAgICAgICAgICBpZiAoZW50cnkgJiYgWydsb2NrZWRfanVkZ2UnLCAnbG9ja2VkX2FkbWluJywgJ29mZmxpbmVfanVkZ2UnLCAnb2ZmbGluZV9hZG1pbiddLmluY2x1ZGVzKGVudHJ5LnN0YXR1cykpIHtcbiAgICAgICAgICAgIG5iUHJpc2VzR2xvYmFsICs9IGVudHJ5LmZpc2hDb3VudDtcbiAgICAgICAgICAgIHBvaWRzVG90YWxHbG9iYWwgKz0gZW50cnkudG90YWxXZWlnaHQ7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChlbnRyeS50aW1lc3RhbXAgJiYgKCFsYXN0VmFsaWRFbnRyeSB8fCBlbnRyeS50aW1lc3RhbXAgPiBsYXN0VmFsaWRFbnRyeSkpIHtcbiAgICAgICAgICAgICAgbGFzdFZhbGlkRW50cnkgPSBlbnRyeS50aW1lc3RhbXA7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICAvLyBHZXQgZ3Jvc3NlIHByaXNlXG4gICAgICAgIGNvbnN0IGdyb3NzZVByaXNlRW50cnkgPSBiaWdDYXRjaGVzQnlDb21wZXRpdG9yW2NvbXBldGl0b3IuaWRdO1xuICAgICAgICBjb25zdCBncm9zc2VQcmlzZSA9IGdyb3NzZVByaXNlRW50cnkgJiYgWydsb2NrZWRfanVkZ2UnLCAnbG9ja2VkX2FkbWluJywgJ29mZmxpbmVfanVkZ2UnLCAnb2ZmbGluZV9hZG1pbiddLmluY2x1ZGVzKGdyb3NzZVByaXNlRW50cnkuc3RhdHVzKSBcbiAgICAgICAgICA/IGdyb3NzZVByaXNlRW50cnkuYmlnZ2VzdENhdGNoIFxuICAgICAgICAgIDogMDtcbiAgICAgICAgXG4gICAgICAgIC8vIENhbGN1bGF0ZSBwb2ludHM6IChOYiBQcmlzZXMgZ2xvYmFsIMOXIDUwKSArIFBvaWRzIFRvdGFsIGdsb2JhbFxuICAgICAgICBjb25zdCBwb2ludHMgPSAobmJQcmlzZXNHbG9iYWwgKiA1MCkgKyBwb2lkc1RvdGFsR2xvYmFsO1xuICAgICAgICBcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBpZDogY29tcGV0aXRvci5pZCxcbiAgICAgICAgICBib3hOdW1iZXI6IGNvbXBldGl0b3IuYm94TnVtYmVyLFxuICAgICAgICAgIGJveENvZGU6IGNvbXBldGl0b3IuYm94Q29kZSxcbiAgICAgICAgICBuYW1lOiBjb21wZXRpdG9yLmZ1bGxOYW1lLFxuICAgICAgICAgIGVxdWlwZTogY29tcGV0aXRvci5lcXVpcGUsXG4gICAgICAgICAgc2VjdG9yOiBjb21wZXRpdG9yLnNlY3RvcixcbiAgICAgICAgICBuYlByaXNlc0dsb2JhbCxcbiAgICAgICAgICBwb2lkc1RvdGFsR2xvYmFsLFxuICAgICAgICAgIGdyb3NzZVByaXNlLFxuICAgICAgICAgIHBvaW50cyxcbiAgICAgICAgICBjb2VmZmljaWVudFNlY3RldXI6IDAsIC8vIFdpbGwgYmUgY2FsY3VsYXRlZCBhZnRlciB3ZSBoYXZlIHNlY3RvciB0b3RhbHNcbiAgICAgICAgICBjbGFzc2VtZW50U2VjdGV1cjogMCwgLy8gV2lsbCBiZSBjYWxjdWxhdGVkIGFmdGVyIHNvcnRpbmdcbiAgICAgICAgICBjbGFzc2VtZW50R2VuZXJhbDogMCwgLy8gV2lsbCBiZSBjYWxjdWxhdGVkIGluIGdlbmVyYWwgcmFua2luZ1xuICAgICAgICAgIGxhc3RWYWxpZEVudHJ5XG4gICAgICAgIH07XG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIHNlY3RvciB0b3RhbCBmb3IgY29lZmZpY2llbnQgY2FsY3VsYXRpb25cbiAgICAgIGNvbnN0IHNlY3RvclRvdGFsTmJQcmlzZXMgPSBzZWN0b3JDYWxjdWxhdGVkLnJlZHVjZSgoc3VtLCBjb21wKSA9PiBzdW0gKyBjb21wLm5iUHJpc2VzR2xvYmFsLCAwKTtcbiAgICAgIFxuICAgICAgLy8gQ2FsY3VsYXRlIGNvZWZmaWNpZW50czogKFBvaW50cyDDlyBOYiBQcmlzZXMgZ2xvYmFsKSAvIFRvdGFsIE5iIFByaXNlcyBnbG9iYWwgU2VjdGV1clxuICAgICAgc2VjdG9yQ2FsY3VsYXRlZC5mb3JFYWNoKGNvbXAgPT4ge1xuICAgICAgICBpZiAoc2VjdG9yVG90YWxOYlByaXNlcyA+IDApIHtcbiAgICAgICAgICBjb21wLmNvZWZmaWNpZW50U2VjdGV1ciA9IChjb21wLnBvaW50cyAqIGNvbXAubmJQcmlzZXNHbG9iYWwpIC8gc2VjdG9yVG90YWxOYlByaXNlcztcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjb21wLmNvZWZmaWNpZW50U2VjdGV1ciA9IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTb3J0IGJ5IHBvaW50cyAoZGVzYykgZm9yIHNlY3RvciByYW5raW5nXG4gICAgICBjb25zdCBzZWN0b3JTb3J0ZWQgPSBbLi4uc2VjdG9yQ2FsY3VsYXRlZF0uc29ydCgoYSwgYikgPT4ge1xuICAgICAgICByZXR1cm4gYi5wb2ludHMgLSBhLnBvaW50czsgLy8gU29ydCBieSBQb2ludHMgKGRlc2MpIG9ubHlcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBBc3NpZ24gc2VjdG9yIHJhbmtpbmdzXG4gICAgICBzZWN0b3JTb3J0ZWQuZm9yRWFjaCgoY29tcCwgaW5kZXgpID0+IHtcbiAgICAgICAgY29tcC5jbGFzc2VtZW50U2VjdGV1ciA9IGluZGV4ICsgMTtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICBjb21wZXRpdG9yc0J5U2VjdG9yW3NlY3Rvcl0gPSBzZWN0b3JTb3J0ZWQ7XG4gICAgfSk7XG4gICAgXG4gICAgLy8gTm93IGJ1aWxkIGdlbmVyYWwgcmFua2luZyBieSBwbGFjZSBncm91cHNcbiAgICBjb25zdCBnZW5lcmFsUmFua2luZzogQ2FsY3VsYXRlZENvbXBldGl0b3JbXSA9IFtdO1xuICAgIFxuICAgIC8vIFByb2Nlc3MgZWFjaCBwbGFjZSAoMXN0IHRocm91Z2ggMjB0aClcbiAgICBmb3IgKGxldCBwbGFjZSA9IDE7IHBsYWNlIDw9IDIwOyBwbGFjZSsrKSB7XG4gICAgICBjb25zdCBwbGFjZUdyb3VwOiBDYWxjdWxhdGVkQ29tcGV0aXRvcltdID0gW107XG4gICAgICBcbiAgICAgIC8vIENvbGxlY3QgYWxsIGNvbXBldGl0b3JzIGF0IHRoaXMgcGxhY2UgZnJvbSBlYWNoIHNlY3RvclxuICAgICAgc2VjdG9ycy5mb3JFYWNoKHNlY3RvciA9PiB7XG4gICAgICAgIGNvbnN0IHNlY3RvckNvbXBldGl0b3JzID0gY29tcGV0aXRvcnNCeVNlY3RvcltzZWN0b3JdIHx8IFtdO1xuICAgICAgICBjb25zdCBjb21wZXRpdG9yQXRQbGFjZSA9IHNlY3RvckNvbXBldGl0b3JzLmZpbmQoY29tcCA9PiBjb21wLmNsYXNzZW1lbnRTZWN0ZXVyID09PSBwbGFjZSk7XG4gICAgICAgIGlmIChjb21wZXRpdG9yQXRQbGFjZSkge1xuICAgICAgICAgIHBsYWNlR3JvdXAucHVzaChjb21wZXRpdG9yQXRQbGFjZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBTb3J0IHRoaXMgcGxhY2UgZ3JvdXAgYnkgY29lZmZpY2llbnQgKGRlc2MpLCB0aGVuIHRpZS1icmVha2Vyc1xuICAgICAgcGxhY2VHcm91cC5zb3J0KChhLCBiKSA9PiB7XG4gICAgICAgIC8vIFByaW1hcnk6IENvZWZmaWNpZW50IHNlY3RldXIgKGRlc2MpXG4gICAgICAgIGlmIChiLmNvZWZmaWNpZW50U2VjdGV1ciAhPT0gYS5jb2VmZmljaWVudFNlY3RldXIpIHtcbiAgICAgICAgICByZXR1cm4gYi5jb2VmZmljaWVudFNlY3RldXIgLSBhLmNvZWZmaWNpZW50U2VjdGV1cjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVGllLWJyZWFrZXIgMTogR3Jvc3NlIHByaXNlIChkZXNjKVxuICAgICAgICBpZiAoYi5ncm9zc2VQcmlzZSAhPT0gYS5ncm9zc2VQcmlzZSkge1xuICAgICAgICAgIHJldHVybiBiLmdyb3NzZVByaXNlIC0gYS5ncm9zc2VQcmlzZTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgLy8gVGllLWJyZWFrZXIgMjogUG9pbnRzIChkZXNjKVxuICAgICAgICBpZiAoYi5wb2ludHMgIT09IGEucG9pbnRzKSB7XG4gICAgICAgICAgcmV0dXJuIGIucG9pbnRzIC0gYS5wb2ludHM7XG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIFRpZS1icmVha2VyIDM6IEVhcmxpZXN0IGxhc3QgdmFsaWQgZW50cnkgKGFzYylcbiAgICAgICAgaWYgKGEubGFzdFZhbGlkRW50cnkgJiYgYi5sYXN0VmFsaWRFbnRyeSkge1xuICAgICAgICAgIHJldHVybiBhLmxhc3RWYWxpZEVudHJ5LmdldFRpbWUoKSAtIGIubGFzdFZhbGlkRW50cnkuZ2V0VGltZSgpO1xuICAgICAgICB9IGVsc2UgaWYgKGEubGFzdFZhbGlkRW50cnkpIHtcbiAgICAgICAgICByZXR1cm4gLTE7XG4gICAgICAgIH0gZWxzZSBpZiAoYi5sYXN0VmFsaWRFbnRyeSkge1xuICAgICAgICAgIHJldHVybiAxO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICByZXR1cm4gMDtcbiAgICAgIH0pO1xuICAgICAgXG4gICAgICAvLyBBZGQgdG8gZ2VuZXJhbCByYW5raW5nXG4gICAgICBnZW5lcmFsUmFua2luZy5wdXNoKC4uLnBsYWNlR3JvdXApO1xuICAgIH1cbiAgICBcbiAgICAvLyBIYW5kbGUgemVyby1jb2VmZmljaWVudCBjb21wZXRpdG9ycyAocGxhY2UgYXQgYm90dG9tIHdpdGggcmFuayAxMjApXG4gICAgY29uc3QgemVyb0NvZWZmQ29tcGV0aXRvcnMgPSBnZW5lcmFsUmFua2luZy5maWx0ZXIoY29tcCA9PiBjb21wLmNvZWZmaWNpZW50U2VjdGV1ciA9PT0gMCk7XG4gICAgY29uc3Qgbm9uWmVyb0NvbXBldGl0b3JzID0gZ2VuZXJhbFJhbmtpbmcuZmlsdGVyKGNvbXAgPT4gY29tcC5jb2VmZmljaWVudFNlY3RldXIgPiAwKTtcbiAgICBcbiAgICAvLyBBc3NpZ24gZ2VuZXJhbCByYW5raW5nc1xuICAgIG5vblplcm9Db21wZXRpdG9ycy5mb3JFYWNoKChjb21wLCBpbmRleCkgPT4ge1xuICAgICAgY29tcC5jbGFzc2VtZW50R2VuZXJhbCA9IGluZGV4ICsgMTtcbiAgICB9KTtcbiAgICBcbiAgICB6ZXJvQ29lZmZDb21wZXRpdG9ycy5mb3JFYWNoKGNvbXAgPT4ge1xuICAgICAgY29tcC5jbGFzc2VtZW50R2VuZXJhbCA9IDEyMDtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gWy4uLm5vblplcm9Db21wZXRpdG9ycywgLi4uemVyb0NvZWZmQ29tcGV0aXRvcnNdO1xuICB9LCBbZmlyZXN0b3JlQ29tcGV0aXRvcnMsIGhvdXJseURhdGFCeUNvbXBldGl0b3IsIGJpZ0NhdGNoZXNCeUNvbXBldGl0b3JdKTtcblxuICAvLyBBcHBseSBzb3J0aW5nXG4gIGNvbnN0IHNvcnRlZENvbXBldGl0b3JzID0gdXNlTWVtbygoKSA9PiB7XG4gICAgaWYgKHNvcnRGaWVsZCA9PT0gJ2NsYXNzZW1lbnRHZW5lcmFsJykge1xuICAgICAgcmV0dXJuIGNhbGN1bGF0ZWRDb21wZXRpdG9yczsgLy8gQWxyZWFkeSBzb3J0ZWQgYnkgZ2VuZXJhbCByYW5raW5nXG4gICAgfVxuICAgIFxuICAgIHJldHVybiBbLi4uY2FsY3VsYXRlZENvbXBldGl0b3JzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBsZXQgYVZhbHVlOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgICBsZXQgYlZhbHVlOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgICBcbiAgICAgIHN3aXRjaCAoc29ydEZpZWxkKSB7XG4gICAgICAgIGNhc2UgJ2JveE51bWJlcic6XG4gICAgICAgICAgYVZhbHVlID0gYS5ib3hOdW1iZXI7XG4gICAgICAgICAgYlZhbHVlID0gYi5ib3hOdW1iZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGJWYWx1ZSA9IGIubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlcXVpcGUnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEuZXF1aXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgYlZhbHVlID0gYi5lcXVpcGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbmJQcmlzZXNHbG9iYWwnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEubmJQcmlzZXNHbG9iYWw7XG4gICAgICAgICAgYlZhbHVlID0gYi5uYlByaXNlc0dsb2JhbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZ3Jvc3NlUHJpc2UnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEuZ3Jvc3NlUHJpc2U7XG4gICAgICAgICAgYlZhbHVlID0gYi5ncm9zc2VQcmlzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY2xhc3NlbWVudFNlY3RldXInOlxuICAgICAgICAgIGFWYWx1ZSA9IGEuY2xhc3NlbWVudFNlY3RldXI7XG4gICAgICAgICAgYlZhbHVlID0gYi5jbGFzc2VtZW50U2VjdGV1cjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29lZmZpY2llbnRTZWN0ZXVyJzpcbiAgICAgICAgICBhVmFsdWUgPSBhLmNvZWZmaWNpZW50U2VjdGV1cjtcbiAgICAgICAgICBiVmFsdWUgPSBiLmNvZWZmaWNpZW50U2VjdGV1cjtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHR5cGVvZiBhVmFsdWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBiVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBzb3J0RGlyZWN0aW9uID09PSAnZGVzYycgPyBiVmFsdWUubG9jYWxlQ29tcGFyZShhVmFsdWUpIDogYVZhbHVlLmxvY2FsZUNvbXBhcmUoYlZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzb3J0RGlyZWN0aW9uID09PSAnZGVzYycgPyAoYlZhbHVlIGFzIG51bWJlcikgLSAoYVZhbHVlIGFzIG51bWJlcikgOiAoYVZhbHVlIGFzIG51bWJlcikgLSAoYlZhbHVlIGFzIG51bWJlcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtjYWxjdWxhdGVkQ29tcGV0aXRvcnMsIHNvcnRGaWVsZCwgc29ydERpcmVjdGlvbl0pO1xuXG4gIC8vIEFwcGx5IGZpbHRlcnNcbiAgY29uc3QgZmlsdGVyZWRDb21wZXRpdG9ycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBmaWx0ZXJlZCA9IHNvcnRlZENvbXBldGl0b3JzO1xuICAgIFxuICAgIC8vIFNlYXJjaCBmaWx0ZXJcbiAgICBpZiAoc2VhcmNoUXVlcnkpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGNvbXAgPT4gXG4gICAgICAgIGNvbXAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICBjb21wLmVxdWlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICBjb21wLmJveENvZGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSlcbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFNlY3RvciBmaWx0ZXJcbiAgICBpZiAoc2VjdG9yRmlsdGVyICE9PSAnYWxsJykge1xuICAgICAgZmlsdGVyZWQgPSBmaWx0ZXJlZC5maWx0ZXIoY29tcCA9PiBjb21wLnNlY3RvciA9PT0gc2VjdG9yRmlsdGVyKTtcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuIGZpbHRlcmVkO1xuICB9LCBbc29ydGVkQ29tcGV0aXRvcnMsIHNlYXJjaFF1ZXJ5LCBzZWN0b3JGaWx0ZXJdKTtcblxuICAvLyBDaGVjayBpZiB3ZSBzaG91bGQgYXV0by1leHBhbmQgYmFzZWQgb24gc2VhcmNoIHJlc3VsdHNcbiAgY29uc3Qgc2hvdWxkQXV0b0V4cGFuZCA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGlmICghc2VhcmNoUXVlcnkpIHJldHVybiBmYWxzZTtcbiAgICBcbiAgICAvLyBDaGVjayBpZiBhbnkgc2VhcmNoIHJlc3VsdHMgYXJlIGJleW9uZCB0b3AgMTBcbiAgICBjb25zdCBzZWFyY2hSZXN1bHRzID0gZmlsdGVyZWRDb21wZXRpdG9ycztcbiAgICBjb25zdCB0b3AxMElkcyA9IGZpbHRlcmVkQ29tcGV0aXRvcnMuc2xpY2UoMCwgMTApLm1hcChjID0+IGMuaWQpO1xuICAgIHJldHVybiBzZWFyY2hSZXN1bHRzLnNvbWUoY29tcCA9PiAhdG9wMTBJZHMuaW5jbHVkZXMoY29tcC5pZCkpO1xuICB9LCBbc2VhcmNoUXVlcnksIGZpbHRlcmVkQ29tcGV0aXRvcnNdKTtcblxuICAvLyBBdXRvLWV4cGFuZCB3aGVuIHNlYXJjaCBoYXMgcmVzdWx0cyBiZXlvbmQgdG9wIDEwXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgaWYgKHNob3VsZEF1dG9FeHBhbmQgJiYgIWlzRXhwYW5kZWQpIHtcbiAgICAgIHNldElzRXhwYW5kZWQodHJ1ZSk7XG4gICAgfVxuICB9LCBbc2hvdWxkQXV0b0V4cGFuZCwgaXNFeHBhbmRlZF0pO1xuXG4gIC8vIERpc3BsYXkgbG9naWNcbiAgY29uc3QgZGlzcGxheWVkQ29tcGV0aXRvcnMgPSBpc0V4cGFuZGVkID8gZmlsdGVyZWRDb21wZXRpdG9ycyA6IGZpbHRlcmVkQ29tcGV0aXRvcnMuc2xpY2UoMCwgMTApO1xuICBjb25zdCBoaWRkZW5Db3VudCA9IE1hdGgubWF4KDAsIGZpbHRlcmVkQ29tcGV0aXRvcnMubGVuZ3RoIC0gMTApO1xuICBjb25zdCBzaG93VG9nZ2xlQnV0dG9uID0gZmlsdGVyZWRDb21wZXRpdG9ycy5sZW5ndGggPiAxMDtcblxuICBjb25zdCBnZXRTZWN0b3JDb2xvciA9IChzZWN0b3I6IHN0cmluZykgPT4ge1xuICAgIGNvbnN0IGNvbG9yczogeyBba2V5OiBzdHJpbmddOiBzdHJpbmcgfSA9IHtcbiAgICAgIEE6ICdiZy1zZWN0b3JzLUEgdGV4dC13aGl0ZScsXG4gICAgICBCOiAnYmctc2VjdG9ycy1CIHRleHQtd2hpdGUnLFxuICAgICAgQzogJ2JnLXNlY3RvcnMtQyB0ZXh0LXdoaXRlJyxcbiAgICAgIEQ6ICdiZy1zZWN0b3JzLUQgdGV4dC13aGl0ZScsXG4gICAgICBFOiAnYmctc2VjdG9ycy1FIHRleHQtd2hpdGUnLFxuICAgICAgRjogJ2JnLXNlY3RvcnMtRiB0ZXh0LXdoaXRlJyxcbiAgICB9O1xuICAgIHJldHVybiBjb2xvcnNbc2VjdG9yXSB8fCAnYmctZ3JheS01MDAgdGV4dC13aGl0ZSc7XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlU29ydCA9IChmaWVsZDogc3RyaW5nKSA9PiB7XG4gICAgaWYgKHNvcnRGaWVsZCA9PT0gZmllbGQpIHtcbiAgICAgIHNldFNvcnREaXJlY3Rpb24oc29ydERpcmVjdGlvbiA9PT0gJ2FzYycgPyAnZGVzYycgOiAnYXNjJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHNldFNvcnRGaWVsZChmaWVsZCk7XG4gICAgICBzZXRTb3J0RGlyZWN0aW9uKGZpZWxkID09PSAnY2xhc3NlbWVudEdlbmVyYWwnIHx8IGZpZWxkID09PSAnY2xhc3NlbWVudFNlY3RldXInID8gJ2FzYycgOiAnZGVzYycpO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBmb3JtYXRDb2VmZmljaWVudCA9ICh2YWx1ZTogbnVtYmVyKTogc3RyaW5nID0+IHtcbiAgICByZXR1cm4gdmFsdWUudG9Mb2NhbGVTdHJpbmcoJ2ZyLUZSJywgeyBcbiAgICAgIG1pbmltdW1GcmFjdGlvbkRpZ2l0czogMywgXG4gICAgICBtYXhpbXVtRnJhY3Rpb25EaWdpdHM6IDMgXG4gICAgfSk7XG4gIH07XG5cbiAgY29uc3QgZ2V0UmFua0ljb24gPSAocmFuazogbnVtYmVyKSA9PiB7XG4gICAgc3dpdGNoIChyYW5rKSB7XG4gICAgICBjYXNlIDE6XG4gICAgICAgIHJldHVybiA8VHJvcGh5IGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC15ZWxsb3ctNTAwXCIgLz47XG4gICAgICBjYXNlIDI6XG4gICAgICAgIHJldHVybiA8TWVkYWwgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWdyYXktNDAwXCIgLz47XG4gICAgICBjYXNlIDM6XG4gICAgICAgIHJldHVybiA8QXdhcmQgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LWFtYmVyLTYwMFwiIC8+O1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgcmV0dXJuIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gZm9udC1ib2xkIHRleHQtZ3JheS01MDBcIj4je3Jhbmt9PC9zcGFuPjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgaGFuZGxlRG93bmxvYWRQREYgPSAoKSA9PiB7XG4gICAgY29uc3QgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlRGF0ZVN0cmluZygnZnItRlInLCB7IFxuICAgICAgdGltZVpvbmU6ICdBZnJpY2EvVHVuaXMnLFxuICAgICAgd2Vla2RheTogJ2xvbmcnLFxuICAgICAgeWVhcjogJ251bWVyaWMnLFxuICAgICAgbW9udGg6ICdsb25nJyxcbiAgICAgIGRheTogJ251bWVyaWMnXG4gICAgfSk7XG4gICAgXG4gICAgY29uc3QgY3VycmVudFRpbWUgPSBuZXcgRGF0ZSgpLnRvTG9jYWxlVGltZVN0cmluZygnZnItRlInLCB7XG4gICAgICB0aW1lWm9uZTogJ0FmcmljYS9UdW5pcycsXG4gICAgICBob3VyOiAnMi1kaWdpdCcsXG4gICAgICBtaW51dGU6ICcyLWRpZ2l0JyxcbiAgICAgIHNlY29uZDogJzItZGlnaXQnXG4gICAgfSk7XG5cbiAgICBjb25zdCBsb2dvSHRtbCA9IGZpcmVzdG9yZVB1YmxpY1NldHRpbmdzPy5sb2dvcz8ubGlnaHQgfHwgZmlyZXN0b3JlUHVibGljU2V0dGluZ3M/LmxvZ29zPy5kYXJrXG4gICAgICA/IGA8aW1nIHNyYz1cIiR7ZmlyZXN0b3JlUHVibGljU2V0dGluZ3MubG9nb3MubGlnaHQgfHwgZmlyZXN0b3JlUHVibGljU2V0dGluZ3MubG9nb3MuZGFya31cIiBhbHQ9XCJUaXRhbml1bSBUdW5pc2lhIE9wZW5cIiBzdHlsZT1cImhlaWdodDogODBweDsgbWFyZ2luOiAwIGF1dG8gMjBweCBhdXRvOyBkaXNwbGF5OiBibG9jaztcIiAvPmBcbiAgICAgIDogYDxkaXYgc3R5bGU9XCJ0ZXh0LWFsaWduOiBjZW50ZXI7IG1hcmdpbi1ib3R0b206IDIwcHg7XCI+XG4gICAgICAgICAgIDxoMSBzdHlsZT1cImNvbG9yOiAjMGVhNWU5OyBmb250LXNpemU6IDI0cHg7IG1hcmdpbjogMDtcIj5UaXRhbml1bSBUdW5pc2lhIE9wZW48L2gxPlxuICAgICAgICAgPC9kaXY+YDtcblxuICAgIGNvbnN0IHRhYmxlSFRNTCA9IGBcbiAgICAgIDwhRE9DVFlQRSBodG1sPlxuICAgICAgPGh0bWw+XG4gICAgICAgIDxoZWFkPlxuICAgICAgICAgIDxtZXRhIGNoYXJzZXQ9XCJVVEYtOFwiPlxuICAgICAgICAgIDx0aXRsZT5DbGFzc2VtZW50IEfDqW7DqXJhbCAtIFRpdGFuaXVtIFR1bmlzaWEgT3BlbjwvdGl0bGU+XG4gICAgICAgICAgPHN0eWxlPlxuICAgICAgICAgICAgQHBhZ2UgeyBcbiAgICAgICAgICAgICAgc2l6ZTogQTQ7IFxuICAgICAgICAgICAgICBtYXJnaW46IDIwbW07IFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgYm9keSB7IFxuICAgICAgICAgICAgICBmb250LWZhbWlseTogQXJpYWwsIHNhbnMtc2VyaWY7IFxuICAgICAgICAgICAgICBtYXJnaW46IDA7IFxuICAgICAgICAgICAgICBwYWRkaW5nOiAwO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDEycHg7XG4gICAgICAgICAgICAgIGxpbmUtaGVpZ2h0OiAxLjQ7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuaGVhZGVyIHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAzMHB4O1xuICAgICAgICAgICAgICBib3JkZXItYm90dG9tOiAycHggc29saWQgIzBlYTVlOTtcbiAgICAgICAgICAgICAgcGFkZGluZy1ib3R0b206IDIwcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAudGFnbGluZSB7XG4gICAgICAgICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICAgICAgICAgICAgY29sb3I6ICM2NjY7XG4gICAgICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE0cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZXZlbnQtaW5mbyB7XG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkO1xuICAgICAgICAgICAgICBjb2xvcjogIzBlYTVlOTtcbiAgICAgICAgICAgICAgbWFyZ2luOiAxMHB4IDA7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTZweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5kaXNjbGFpbWVyIHtcbiAgICAgICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogI2ZmZjNjZDtcbiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2ZmZWFhNztcbiAgICAgICAgICAgICAgcGFkZGluZzogMTBweDtcbiAgICAgICAgICAgICAgbWFyZ2luOiAyMHB4IDA7XG4gICAgICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDRweDtcbiAgICAgICAgICAgICAgZm9udC1zdHlsZTogaXRhbGljO1xuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAubWV0YS1pbmZvIHtcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgICAgICAgICAgIG1hcmdpbi1ib3R0b206IDIwcHg7XG4gICAgICAgICAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0YWJsZSB7IFxuICAgICAgICAgICAgICB3aWR0aDogMTAwJTsgXG4gICAgICAgICAgICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7IFxuICAgICAgICAgICAgICBtYXJnaW4tdG9wOiAyMHB4O1xuICAgICAgICAgICAgICBmb250LXNpemU6IDExcHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aCwgdGQgeyBcbiAgICAgICAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2RkZDsgXG4gICAgICAgICAgICAgIHBhZGRpbmc6IDZweCA4cHg7IFxuICAgICAgICAgICAgICB0ZXh0LWFsaWduOiBsZWZ0OyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoIHsgXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IFxuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMHB4O1xuICAgICAgICAgICAgICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnJhbmstMSB7IGJhY2tncm91bmQtY29sb3I6ICNmZmYzY2Q7IH1cbiAgICAgICAgICAgIC5yYW5rLTIgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyB9XG4gICAgICAgICAgICAucmFuay0zIHsgYmFja2dyb3VuZC1jb2xvcjogI2ZmZWFhNzsgfVxuICAgICAgICAgICAgLnNlY3Rvci1iYWRnZSB7XG4gICAgICAgICAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcbiAgICAgICAgICAgICAgcGFkZGluZzogMnB4IDZweDtcbiAgICAgICAgICAgICAgYm9yZGVyLXJhZGl1czogNHB4O1xuICAgICAgICAgICAgICBjb2xvcjogd2hpdGU7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogOXB4O1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgbWFyZ2luLWxlZnQ6IDRweDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5zZWN0b3ItQSB7IGJhY2tncm91bmQtY29sb3I6ICMzYjgyZjY7IH1cbiAgICAgICAgICAgIC5zZWN0b3ItQiB7IGJhY2tncm91bmQtY29sb3I6ICMxMGI5ODE7IH1cbiAgICAgICAgICAgIC5zZWN0b3ItQyB7IGJhY2tncm91bmQtY29sb3I6ICNmNTllMGI7IH1cbiAgICAgICAgICAgIC5zZWN0b3ItRCB7IGJhY2tncm91bmQtY29sb3I6ICNlZjQ0NDQ7IH1cbiAgICAgICAgICAgIC5zZWN0b3ItRSB7IGJhY2tncm91bmQtY29sb3I6ICM4YjVjZjY7IH1cbiAgICAgICAgICAgIC5zZWN0b3ItRiB7IGJhY2tncm91bmQtY29sb3I6ICMwNmI2ZDQ7IH1cbiAgICAgICAgICAgIC50ZXh0LWNlbnRlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxuICAgICAgICAgICAgLmZvbnQtbW9ubyB7IGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7IH1cbiAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8L2hlYWQ+XG4gICAgICAgIDxib2R5PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICR7bG9nb0h0bWx9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFnbGluZVwiPlRoZSBtb3N0IGx1eHVyaW91cyBTdXJmY2FzdGluZyBjb21wZXRpdGlvbiBpbiB0aGUgd29ybGQ8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJldmVudC1pbmZvXCI+VElUQU5JVU0gVFVOSVNJQSBPUEVOIC0gNiBzZXB0ZW1icmUgMjAyNSAtIFJhb3VlZCwgVHVuaXNpZTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc2NsYWltZXJcIj5cbiAgICAgICAgICAgICAgQ2xhc3NlbWVudCBwcm92aXNvaXJlIOKAlCBzdXNjZXB0aWJsZSBkJ8OqdHJlIG1vZGlmacOpIGp1c3F1J8OgIHB1YmxpY2F0aW9uIGRlcyByw6lzdWx0YXRzIG9mZmljaWVscy5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRhLWluZm9cIj5cbiAgICAgICAgICAgIEfDqW7DqXLDqSBsZSAke2N1cnJlbnREYXRlfSDDoCAke2N1cnJlbnRUaW1lfSAoUmFvdWVkLCBUdW5pc2llKVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjMGVhNWU5OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPkNsYXNzZW1lbnQgR8OpbsOpcmFsPC9oMj5cbiAgICAgICAgICBcbiAgICAgICAgICA8dGFibGU+XG4gICAgICAgICAgICA8dGhlYWQ+XG4gICAgICAgICAgICAgIDx0cj5cbiAgICAgICAgICAgICAgICA8dGg+Qm94IE7CsDwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPkNvbXDDqXRpdGV1cjwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPsOJcXVpcGU8L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5OYiBQcmlzZXMgZ2xvYmFsPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+R3Jvc3NlIHByaXNlIChnKTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPkNsYXNzZW1lbnQgc2VjdGV1cjwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPkNvZWZmaWNpZW50IHNlY3RldXI8L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5DbGFzc2VtZW50IEfDqW7DqXJhbDwvdGg+XG4gICAgICAgICAgICAgIDwvdHI+XG4gICAgICAgICAgICA8L3RoZWFkPlxuICAgICAgICAgICAgPHRib2R5PlxuICAgICAgICAgICAgICAke2ZpbHRlcmVkQ29tcGV0aXRvcnMubWFwKGNvbXAgPT4gYFxuICAgICAgICAgICAgICAgIDx0ciBjbGFzcz1cIiR7Y29tcC5jbGFzc2VtZW50R2VuZXJhbCA8PSAzID8gYHJhbmstJHtjb21wLmNsYXNzZW1lbnRHZW5lcmFsfWAgOiAnJ31cIj5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cImZvbnQtbW9ub1wiPiR7Y29tcC5ib3hDb2RlfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgICAgICR7Y29tcC5uYW1lfVxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInNlY3Rvci1iYWRnZSBzZWN0b3ItJHtjb21wLnNlY3Rvcn1cIj4ke2NvbXAuc2VjdG9yfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+JHtjb21wLmVxdWlwZX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj4ke2NvbXAubmJQcmlzZXNHbG9iYWx9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+JHtjb21wLmdyb3NzZVByaXNlID4gMCA/IGZvcm1hdE51bWJlcihjb21wLmdyb3NzZVByaXNlKSA6ICfigJQnfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPiR7Y29tcC5jbGFzc2VtZW50U2VjdGV1cn08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXIgZm9udC1tb25vXCI+JHtmb3JtYXRDb2VmZmljaWVudChjb21wLmNvZWZmaWNpZW50U2VjdGV1cil9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+PHN0cm9uZz4ke2NvbXAuY2xhc3NlbWVudEdlbmVyYWx9PC9zdHJvbmc+PC90ZD5cbiAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICBgKS5qb2luKCcnKX1cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMzBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMHB4O1wiPlxuICAgICAgICAgICAgRG9jdW1lbnQgZ8OpbsOpcsOpIGF1dG9tYXRpcXVlbWVudCBwYXIgbGUgc3lzdMOobWUgVGl0YW5pdW0gVHVuaXNpYSBPcGVuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvYm9keT5cbiAgICAgIDwvaHRtbD5cbiAgICBgLnRyaW0oKTtcblxuICAgIC8vIENyZWF0ZSBhbmQgZG93bmxvYWQgUERGLXJlYWR5IEhUTUxcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3RhYmxlSFRNTF0sIHsgdHlwZTogJ3RleHQvaHRtbDtjaGFyc2V0PXV0Zi04JyB9KTtcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIGEuZG93bmxvYWQgPSBgY2xhc3NlbWVudC1nZW5lcmFsLSR7bmV3IERhdGUoKS50b0lTT1N0cmluZygpLnNsaWNlKDAsIDEwKX0uaHRtbGA7XG4gICAgYS5jbGljaygpO1xuICAgIFVSTC5yZXZva2VPYmplY3RVUkwodXJsKTtcbiAgfTtcblxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGlkPVwiY2xhc3NlbWVudC1nZW5lcmFsXCIgY2xhc3NOYW1lPVwicHktMTYgYmctd2hpdGUgZGFyazpiZy1ncmF5LTkwMFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItMTJcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgbWQ6dGV4dC00eGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTRcIj5cbiAgICAgICAgICAgIENsYXNzZW1lbnQgZ8OpbsOpcmFsIChlbiBkaXJlY3QpXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwIG1heC13LTJ4bCBteC1hdXRvXCI+XG4gICAgICAgICAgICBDbGFzc2VtZW50IGdsb2JhbCBkZSBsYSBjb21ww6l0aXRpb24sIG1pcyDDoCBqb3VyIGVuIHRlbXBzIHLDqWVsXG4gICAgICAgICAgPC9wPlxuICAgICAgICA8L2Rpdj5cblxuICAgICAgICA8Q2FyZCBjbGFzc05hbWU9XCJtYXgtdy03eGwgbXgtYXV0b1wiPlxuICAgICAgICAgIDxDYXJkSGVhZGVyPlxuICAgICAgICAgICAgPENhcmRUaXRsZSBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBqdXN0aWZ5LWJldHdlZW5cIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtMlwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy0zIGgtMyBiZy1ncmVlbi01MDAgcm91bmRlZC1mdWxsIGFuaW1hdGUtcHVsc2VcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPkNsYXNzZW1lbnQgR8OpbsOpcmFsIGVuIERpcmVjdDwvc3Bhbj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxCdXR0b25cbiAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtXCJcbiAgICAgICAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVEb3dubG9hZFBERn1cbiAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIlxuICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgPERvd25sb2FkIGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgIDxzcGFuPlTDqWzDqWNoYXJnZXIgZW4gUERGPC9zcGFuPlxuICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgIDwvQ2FyZFRpdGxlPlxuICAgICAgICAgIDwvQ2FyZEhlYWRlcj5cbiAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICB7LyogRmlsdGVycyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBzbTpmbGV4LXJvdyBnYXAtNCBtYi02XCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIHJlbGF0aXZlXCI+XG4gICAgICAgICAgICAgICAgPFNlYXJjaCBjbGFzc05hbWU9XCJhYnNvbHV0ZSBsZWZ0LTMgdG9wLTEvMiB0cmFuc2Zvcm0gLXRyYW5zbGF0ZS15LTEvMiB0ZXh0LWdyYXktNDAwIHctNCBoLTRcIiAvPlxuICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgdmFsdWU9e3NlYXJjaFF1ZXJ5fVxuICAgICAgICAgICAgICAgICAgb25DaGFuZ2U9eyhlKSA9PiBzZXRTZWFyY2hRdWVyeShlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlJlY2hlcmNoZXIgcGFyIG5vbSBvdSBib3guLi5cIlxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy1mdWxsIHBsLTEwIHByLTQgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBnYXAtNFwiPlxuICAgICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWN0b3JGaWx0ZXJ9XG4gICAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldFNlY3RvckZpbHRlcihlLnRhcmdldC52YWx1ZSl9XG4gICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC0zIHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cImFsbFwiPlRvdXMgbGVzIHNlY3RldXJzPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgICB7c2VjdG9ycy5tYXAoc2VjdG9yID0+IChcbiAgICAgICAgICAgICAgICAgICAgPG9wdGlvbiBrZXk9e3NlY3Rvcn0gdmFsdWU9e3NlY3Rvcn0+U2VjdGV1ciB7c2VjdG9yfTwvb3B0aW9uPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9zZWxlY3Q+XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgey8qIFRvZ2dsZSBCdXR0b24gKi99XG4gICAgICAgICAgICAgICAge3Nob3dUb2dnbGVCdXR0b24gJiYgKFxuICAgICAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgICAgICB2YXJpYW50PVwib3V0bGluZVwiXG4gICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldElzRXhwYW5kZWQoIWlzRXhwYW5kZWQpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTIgd2hpdGVzcGFjZS1ub3dyYXBcIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICB7aXNFeHBhbmRlZCA/IChcbiAgICAgICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICAgICAgPEV5ZU9mZiBjbGFzc05hbWU9XCJ3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPk1hc3F1ZXIgbGUgcmVzdGU8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgPD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxFeWUgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5BZmZpY2hlciBsZSByZXN0ZSAoe2hpZGRlbkNvdW50fSk8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgPC8+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogU2VhcmNoIG5vdGljZSBmb3IgaGlkZGVuIHJlc3VsdHMgKi99XG4gICAgICAgICAgICB7c2VhcmNoUXVlcnkgJiYgIWlzRXhwYW5kZWQgJiYgc2hvdWxkQXV0b0V4cGFuZCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibWItNiBwLTMgYmctYmx1ZS01MCBkYXJrOmJnLWJsdWUtOTAwLzIwIHJvdW5kZWQtbGcgYm9yZGVyIGJvcmRlci1ibHVlLTIwMCBkYXJrOmJvcmRlci1ibHVlLTgwMFwiPlxuICAgICAgICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ibHVlLTgwMCBkYXJrOnRleHQtYmx1ZS0yMDAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgIERlcyByw6lzdWx0YXRzIHNlIHRyb3V2ZW50IGF1LWRlbMOgIGR1IFRvcCAxMCDigJQgXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0V4cGFuZGVkKHRydWUpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC0xIHVuZGVybGluZSBob3Zlcjpuby11bmRlcmxpbmUgZm9udC1tZWRpdW1cIlxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICBBZmZpY2hlciBsZSByZXN0ZVxuICAgICAgICAgICAgICAgICAgPC9idXR0b24+XG4gICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG5cbiAgICAgICAgICAgIHsvKiBUYWJsZSAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwib3ZlcmZsb3cteC1hdXRvXCI+XG4gICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJ3LWZ1bGxcIj5cbiAgICAgICAgICAgICAgICA8dGhlYWQgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwIHN0aWNreSB0b3AtMCB6LTEwXCI+XG4gICAgICAgICAgICAgICAgICA8dHI+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJzdGlja3kgbGVmdC0wIGJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCBweC00IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGJvcmRlci1yIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMCBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KCdib3hOdW1iZXInKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Cb3ggTsKwPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93VXBEb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KCduYW1lJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q29tcMOpdGl0ZXVyPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93VXBEb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KCdlcXVpcGUnKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj7DiXF1aXBlPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93VXBEb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KCduYlByaXNlc0dsb2JhbCcpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPk5iIFByaXNlcyBnbG9iYWw8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dVcERvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNvcnQoJ2dyb3NzZVByaXNlJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+R3Jvc3NlIHByaXNlIChnKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1VwRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnY2xhc3NlbWVudFNlY3RldXInKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DbGFzc2VtZW50IHNlY3RldXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dVcERvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNvcnQoJ2NvZWZmaWNpZW50U2VjdGV1cicpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkNvZWZmaWNpZW50IHNlY3RldXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dVcERvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNvcnQoJ2NsYXNzZW1lbnRHZW5lcmFsJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q2xhc3NlbWVudCBHw6luw6lyYWw8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dVcERvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRib2R5IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS05MDAgZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwIGRhcms6ZGl2aWRlLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICB7ZGlzcGxheWVkQ29tcGV0aXRvcnMubWFwKChjb21wZXRpdG9yLCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGlzVG9wVGhyZWUgPSBjb21wZXRpdG9yLmNsYXNzZW1lbnRHZW5lcmFsIDw9IDM7XG4gICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgICAgICAgICAgICAgIDxtb3Rpb24udHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAga2V5PXtjb21wZXRpdG9yLmlkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICBpbml0aWFsPXt7IG9wYWNpdHk6IDAsIHk6IDIwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGFuaW1hdGU9e3sgb3BhY2l0eTogMSwgeTogMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0PXt7IG9wYWNpdHk6IDAsIHk6IC0yMCB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICB0cmFuc2l0aW9uPXt7IGR1cmF0aW9uOiAwLjMsIGRlbGF5OiBpbmRleCAqIDAuMDIgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtjbihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc1RvcFRocmVlICYmICdiZy15ZWxsb3ctNTAgZGFyazpiZy15ZWxsb3ctOTAwLzEwJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnaG92ZXI6YmctZ3JheS01MCBkYXJrOmhvdmVyOmJnLWdyYXktODAwJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQm94IE51bWJlciAtIFN0aWNreSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInN0aWNreSBsZWZ0LTAgYmctd2hpdGUgZGFyazpiZy1ncmF5LTkwMCBweC00IHB5LTQgYm9yZGVyLXIgYm9yZGVyLWdyYXktMjAwIGRhcms6Ym9yZGVyLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tb25vIGZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGVcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLmJveENvZGV9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvbXBldGl0b3IgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1tZWRpdW0gdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbXBldGl0b3IubmFtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxCYWRnZSBjbGFzc05hbWU9e2NuKCd0ZXh0LXhzJywgZ2V0U2VjdG9yQ29sb3IoY29tcGV0aXRvci5zZWN0b3IpKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLnNlY3Rvcn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvQmFkZ2U+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7Lyogw4lxdWlwZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+e2NvbXBldGl0b3IuZXF1aXBlfTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBOYiBQcmlzZXMgZ2xvYmFsICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNCBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbXBldGl0b3IubmJQcmlzZXNHbG9iYWx9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIEdyb3NzZSBwcmlzZSAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtc2VtaWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLmdyb3NzZVByaXNlID4gMCA/IGZvcm1hdE51bWJlcihjb21wZXRpdG9yLmdyb3NzZVByaXNlKSA6ICfigJQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDbGFzc2VtZW50IHNlY3RldXIgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5uYlByaXNlc0dsb2JhbCA9PT0gMCAmJiBjb21wZXRpdG9yLnBvaWRzVG90YWxHbG9iYWwgPT09IDAgJiYgY29tcGV0aXRvci5ncm9zc2VQcmlzZSA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNTAwXCI+4oCUPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5jbGFzc2VtZW50U2VjdGV1ciA8PSAzICYmIGdldFJhbmtJY29uKGNvbXBldGl0b3IuY2xhc3NlbWVudFNlY3RldXIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbXBldGl0b3IuY2xhc3NlbWVudFNlY3RldXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ29lZmZpY2llbnQgc2VjdGV1ciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLm5iUHJpc2VzR2xvYmFsID09PSAwICYmIGNvbXBldGl0b3IucG9pZHNUb3RhbEdsb2JhbCA9PT0gMCAmJiBjb21wZXRpdG9yLmdyb3NzZVByaXNlID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS01MDBcIj7igJQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbW9ubyB0ZXh0LXNtIHRleHQtZ3JheS04MDAgZGFyazp0ZXh0LWdyYXktMjAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXRDb2VmZmljaWVudChjb21wZXRpdG9yLmNvZWZmaWNpZW50U2VjdGV1cil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDbGFzc2VtZW50IEfDqW7DqXJhbCAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLm5iUHJpc2VzR2xvYmFsID09PSAwICYmIGNvbXBldGl0b3IucG9pZHNUb3RhbEdsb2JhbCA9PT0gMCAmJiBjb21wZXRpdG9yLmdyb3NzZVByaXNlID09PSAwID8gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTQwMCBkYXJrOnRleHQtZ3JheS01MDBcIj7igJQ8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKSA6IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLmNsYXNzZW1lbnRHZW5lcmFsIDw9IDMgJiYgZ2V0UmFua0ljb24oY29tcGV0aXRvci5jbGFzc2VtZW50R2VuZXJhbCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT17Y24oJ2ZvbnQtYm9sZCB0ZXh0LWxnJywgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5jbGFzc2VtZW50R2VuZXJhbCA9PT0gMSA/ICd0ZXh0LXllbGxvdy02MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yLmNsYXNzZW1lbnRHZW5lcmFsID09PSAyID8gJ3RleHQtZ3JheS01MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb21wZXRpdG9yLmNsYXNzZW1lbnRHZW5lcmFsID09PSAzID8gJ3RleHQtYW1iZXItNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5jbGFzc2VtZW50R2VuZXJhbCA9PT0gMTIwID8gJ3RleHQtZ3JheS00MDAnIDpcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAndGV4dC1vY2Vhbi02MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLmNsYXNzZW1lbnRHZW5lcmFsfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9tb3Rpb24udHI+XG4gICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgfSl9XG4gICAgICAgICAgICAgICAgICA8L0FuaW1hdGVQcmVzZW5jZT5cbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBDb2xsYXBzZWQgc3RhdGUgaW5kaWNhdG9yICovfVxuICAgICAgICAgICAgeyFpc0V4cGFuZGVkICYmIGhpZGRlbkNvdW50ID4gMCAmJiAoXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwibXQtNiB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiaW5saW5lLWJsb2NrIHB4LTQgcHktMiBiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktODAwIHJvdW5kZWQtbGcgdGV4dC1zbSB0ZXh0LWdyYXktNjAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPlxuICAgICAgICAgICAgICAgICAge2hpZGRlbkNvdW50fSBhdXRyZXMgY29tcMOpdGl0ZXVycyDigJQgXG4gICAgICAgICAgICAgICAgICA8YnV0dG9uIFxuICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBzZXRJc0V4cGFuZGVkKHRydWUpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJtbC0xIHRleHQtb2NlYW4tNjAwIGRhcms6dGV4dC1vY2Vhbi00MDAgaG92ZXI6dW5kZXJsaW5lIGZvbnQtbWVkaXVtXCJcbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgQWZmaWNoZXIgbGUgcmVzdGVcbiAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgPC9DYXJkPlxuICAgICAgPC9kaXY+XG4gICAgPC9zZWN0aW9uPlxuICApO1xufSJdLCJuYW1lcyI6WyJ1c2VTdGF0ZSIsInVzZUVmZmVjdCIsInVzZU1lbW8iLCJ1c2VGaXJlc3RvcmUiLCJDYXJkIiwiQ2FyZENvbnRlbnQiLCJDYXJkSGVhZGVyIiwiQ2FyZFRpdGxlIiwiQmFkZ2UiLCJCdXR0b24iLCJTZWFyY2giLCJEb3dubG9hZCIsIkFycm93VXBEb3duIiwiVHJvcGh5IiwiTWVkYWwiLCJBd2FyZCIsIkV5ZSIsIkV5ZU9mZiIsIm1vdGlvbiIsIkFuaW1hdGVQcmVzZW5jZSIsImZvcm1hdE51bWJlciIsImNuIiwiTGl2ZUdlbmVyYWxSYW5raW5nIiwiY29tcGV0aXRvcnMiLCJmaXJlc3RvcmVDb21wZXRpdG9ycyIsImhvdXJseUVudHJpZXMiLCJmaXJlc3RvcmVIb3VybHlFbnRyaWVzIiwiYmlnQ2F0Y2hlcyIsImZpcmVzdG9yZUJpZ0NhdGNoZXMiLCJwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MiLCJmaXJlc3RvcmVQdWJsaWNTZXR0aW5ncyIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJzZWN0b3JGaWx0ZXIiLCJzZXRTZWN0b3JGaWx0ZXIiLCJzb3J0RmllbGQiLCJzZXRTb3J0RmllbGQiLCJzb3J0RGlyZWN0aW9uIiwic2V0U29ydERpcmVjdGlvbiIsImlzRXhwYW5kZWQiLCJzZXRJc0V4cGFuZGVkIiwic2VjdG9ycyIsImhvdXJseURhdGFCeUNvbXBldGl0b3IiLCJkYXRhIiwiZm9yRWFjaCIsImVudHJ5IiwiY29tcGV0aXRvcklkIiwiaG91ciIsImZpc2hDb3VudCIsInRvdGFsV2VpZ2h0Iiwic3RhdHVzIiwidGltZXN0YW1wIiwidG9EYXRlIiwiRGF0ZSIsImJpZ0NhdGNoZXNCeUNvbXBldGl0b3IiLCJncm9zc2VQcmlzZSIsImNhbGN1bGF0ZWRDb21wZXRpdG9ycyIsImNvbXBldGl0b3JzQnlTZWN0b3IiLCJzZWN0b3IiLCJzZWN0b3JDb21wZXRpdG9ycyIsImZpbHRlciIsImNvbXAiLCJzZWN0b3JDYWxjdWxhdGVkIiwibWFwIiwiY29tcGV0aXRvciIsIm5iUHJpc2VzR2xvYmFsIiwicG9pZHNUb3RhbEdsb2JhbCIsImxhc3RWYWxpZEVudHJ5IiwiaWQiLCJpbmNsdWRlcyIsImdyb3NzZVByaXNlRW50cnkiLCJiaWdnZXN0Q2F0Y2giLCJwb2ludHMiLCJib3hOdW1iZXIiLCJib3hDb2RlIiwibmFtZSIsImZ1bGxOYW1lIiwiZXF1aXBlIiwiY29lZmZpY2llbnRTZWN0ZXVyIiwiY2xhc3NlbWVudFNlY3RldXIiLCJjbGFzc2VtZW50R2VuZXJhbCIsInNlY3RvclRvdGFsTmJQcmlzZXMiLCJyZWR1Y2UiLCJzdW0iLCJzZWN0b3JTb3J0ZWQiLCJzb3J0IiwiYSIsImIiLCJpbmRleCIsImdlbmVyYWxSYW5raW5nIiwicGxhY2UiLCJwbGFjZUdyb3VwIiwiY29tcGV0aXRvckF0UGxhY2UiLCJmaW5kIiwicHVzaCIsImdldFRpbWUiLCJ6ZXJvQ29lZmZDb21wZXRpdG9ycyIsIm5vblplcm9Db21wZXRpdG9ycyIsInNvcnRlZENvbXBldGl0b3JzIiwiYVZhbHVlIiwiYlZhbHVlIiwidG9Mb3dlckNhc2UiLCJsb2NhbGVDb21wYXJlIiwiZmlsdGVyZWRDb21wZXRpdG9ycyIsImZpbHRlcmVkIiwicXVlcnkiLCJzaG91bGRBdXRvRXhwYW5kIiwic2VhcmNoUmVzdWx0cyIsInRvcDEwSWRzIiwic2xpY2UiLCJjIiwic29tZSIsImRpc3BsYXllZENvbXBldGl0b3JzIiwiaGlkZGVuQ291bnQiLCJNYXRoIiwibWF4IiwibGVuZ3RoIiwic2hvd1RvZ2dsZUJ1dHRvbiIsImdldFNlY3RvckNvbG9yIiwiY29sb3JzIiwiQSIsIkIiLCJDIiwiRCIsIkUiLCJGIiwiaGFuZGxlU29ydCIsImZpZWxkIiwiZm9ybWF0Q29lZmZpY2llbnQiLCJ2YWx1ZSIsInRvTG9jYWxlU3RyaW5nIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZ2V0UmFua0ljb24iLCJyYW5rIiwiY2xhc3NOYW1lIiwic3BhbiIsImhhbmRsZURvd25sb2FkUERGIiwiY3VycmVudERhdGUiLCJ0b0xvY2FsZURhdGVTdHJpbmciLCJ0aW1lWm9uZSIsIndlZWtkYXkiLCJ5ZWFyIiwibW9udGgiLCJkYXkiLCJjdXJyZW50VGltZSIsInRvTG9jYWxlVGltZVN0cmluZyIsIm1pbnV0ZSIsInNlY29uZCIsImxvZ29IdG1sIiwibG9nb3MiLCJsaWdodCIsImRhcmsiLCJ0YWJsZUhUTUwiLCJqb2luIiwidHJpbSIsImJsb2IiLCJCbG9iIiwidHlwZSIsInVybCIsIlVSTCIsImNyZWF0ZU9iamVjdFVSTCIsImRvY3VtZW50IiwiY3JlYXRlRWxlbWVudCIsImhyZWYiLCJkb3dubG9hZCIsInRvSVNPU3RyaW5nIiwiY2xpY2siLCJyZXZva2VPYmplY3RVUkwiLCJzZWN0aW9uIiwiZGl2IiwiaDIiLCJwIiwidmFyaWFudCIsInNpemUiLCJvbkNsaWNrIiwiaW5wdXQiLCJvbkNoYW5nZSIsImUiLCJ0YXJnZXQiLCJwbGFjZWhvbGRlciIsInNlbGVjdCIsIm9wdGlvbiIsImJ1dHRvbiIsInRhYmxlIiwidGhlYWQiLCJ0ciIsInRoIiwidGJvZHkiLCJpc1RvcFRocmVlIiwiaW5pdGlhbCIsIm9wYWNpdHkiLCJ5IiwiYW5pbWF0ZSIsImV4aXQiLCJ0cmFuc2l0aW9uIiwiZHVyYXRpb24iLCJkZWxheSIsInRkIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public/LiveGeneralRanking.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/public/LiveSectorRankings.tsx":
/*!******************************************************!*\
  !*** ./src/components/public/LiveSectorRankings.tsx ***!
  \******************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ LiveSectorRankings; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/FirestoreSyncProvider */ \"(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx\");\n/* harmony import */ var _components_ui_Card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/Card */ \"(app-pages-browser)/./src/components/ui/Card.tsx\");\n/* harmony import */ var _components_ui_Button__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/Button */ \"(app-pages-browser)/./src/components/ui/Button.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/medal.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/award.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/download.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/search.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wifi.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/wifi-off.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowUpDown,Award,Download,Medal,Search,Trophy,Wifi,WifiOff!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-up-down.js\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/components/AnimatePresence/index.mjs\");\n/* harmony import */ var framer_motion__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! framer-motion */ \"(app-pages-browser)/./node_modules/framer-motion/dist/es/render/components/motion/proxy.mjs\");\n/* harmony import */ var _lib_utils__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/lib/utils */ \"(app-pages-browser)/./src/lib/utils.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\nfunction LiveSectorRankings() {\n    _s();\n    const { competitors: firestoreCompetitors, hourlyEntries: firestoreHourlyEntries, bigCatches: firestoreBigCatches, publicAppearanceSettings: firestorePublicSettings } = (0,_components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__.useFirestore)();\n    const sectors = [\n        \"A\",\n        \"B\",\n        \"C\",\n        \"D\",\n        \"E\",\n        \"F\"\n    ];\n    const [activeSector, setActiveSector] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"A\");\n    const [searchQuery, setSearchQuery] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [sortField, setSortField] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"classementSecteur\");\n    const [sortDirection, setSortDirection] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"asc\");\n    const [filterType, setFilterType] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"all\");\n    const [isOnline, setIsOnline] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    // Set initial online status\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        setIsOnline(navigator.onLine);\n        const handleOnline = ()=>setIsOnline(true);\n        const handleOffline = ()=>setIsOnline(false);\n        window.addEventListener(\"online\", handleOnline);\n        window.addEventListener(\"offline\", handleOffline);\n        return ()=>{\n            window.removeEventListener(\"online\", handleOnline);\n            window.removeEventListener(\"offline\", handleOffline);\n        };\n    }, []);\n    // Convert Firebase data to local format for calculations\n    const hourlyDataByCompetitor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const data = {};\n        firestoreHourlyEntries.forEach((entry)=>{\n            var _entry_timestamp;\n            if (!data[entry.competitorId]) {\n                data[entry.competitorId] = {};\n            }\n            data[entry.competitorId][entry.hour] = {\n                fishCount: entry.fishCount,\n                totalWeight: entry.totalWeight,\n                status: entry.status,\n                timestamp: ((_entry_timestamp = entry.timestamp) === null || _entry_timestamp === void 0 ? void 0 : _entry_timestamp.toDate) ? entry.timestamp.toDate() : new Date()\n            };\n        });\n        return data;\n    }, [\n        firestoreHourlyEntries\n    ]);\n    const bigCatchesByCompetitor = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const data = {};\n        firestoreBigCatches.forEach((entry)=>{\n            var _entry_timestamp;\n            data[entry.competitorId] = {\n                grossePrise: entry.grossePrise,\n                status: entry.status,\n                timestamp: ((_entry_timestamp = entry.timestamp) === null || _entry_timestamp === void 0 ? void 0 : _entry_timestamp.toDate) ? entry.timestamp.toDate() : new Date()\n            };\n        });\n        return data;\n    }, [\n        firestoreBigCatches\n    ]);\n    // Calculate live data for current sector (SAME LOGIC AS ADMIN CALCULS LIVE)\n    const calculatedCompetitors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const currentCompetitors = firestoreCompetitors.filter((comp)=>comp.sector === activeSector);\n        // Calculate totals for each competitor\n        const calculated = currentCompetitors.map((competitor)=>{\n            let nbPrisesGlobal = 0;\n            let poidsTotalGlobal = 0;\n            let lastValidEntry;\n            // Sum across all 7 hours\n            for(let hour = 1; hour <= 7; hour++){\n                var _hourlyDataByCompetitor_competitor_id;\n                const entry = (_hourlyDataByCompetitor_competitor_id = hourlyDataByCompetitor[competitor.id]) === null || _hourlyDataByCompetitor_competitor_id === void 0 ? void 0 : _hourlyDataByCompetitor_competitor_id[hour];\n                if (entry && [\n                    \"locked_judge\",\n                    \"locked_admin\",\n                    \"offline_judge\",\n                    \"offline_admin\"\n                ].includes(entry.status)) {\n                    nbPrisesGlobal += entry.fishCount;\n                    poidsTotalGlobal += entry.totalWeight;\n                    if (entry.timestamp && (!lastValidEntry || entry.timestamp > lastValidEntry)) {\n                        lastValidEntry = entry.timestamp;\n                    }\n                }\n            }\n            // Get grosse prise\n            const grossePriseEntry = bigCatchesByCompetitor[competitor.id];\n            const grossePrise = grossePriseEntry && [\n                \"locked_judge\",\n                \"locked_admin\",\n                \"offline_judge\",\n                \"offline_admin\"\n            ].includes(grossePriseEntry.status) ? grossePriseEntry.biggestCatch : 0;\n            // Calculate points: (Nb Prises global × 50) + Poids Total global\n            const points = nbPrisesGlobal * 50 + poidsTotalGlobal;\n            return {\n                id: competitor.id,\n                boxNumber: competitor.boxNumber,\n                boxCode: competitor.boxCode,\n                name: competitor.fullName,\n                equipe: competitor.equipe,\n                sector: competitor.sector,\n                nbPrisesGlobal,\n                poidsTotalGlobal,\n                grossePrise,\n                points,\n                coefficient: 0,\n                classementSecteur: 0,\n                lastValidEntry\n            };\n        });\n        // Calculate sector total for coefficient calculation\n        const sectorTotalNbPrises = calculated.reduce((sum, comp)=>sum + comp.nbPrisesGlobal, 0);\n        // Calculate coefficients: (Points × Nb Prises global) / Total Nb Prises global Secteur\n        calculated.forEach((comp)=>{\n            if (sectorTotalNbPrises > 0) {\n                comp.coefficient = comp.points * comp.nbPrisesGlobal / sectorTotalNbPrises;\n            } else {\n                comp.coefficient = 0;\n            }\n        });\n        // Sort by Points (desc) for sector ranking\n        const sorted = [\n            ...calculated\n        ].sort((a, b)=>{\n            return b.points - a.points; // Sort by Points (desc) only\n        });\n        // Assign sector rankings\n        sorted.forEach((comp, index)=>{\n            comp.classementSecteur = index + 1;\n        });\n        return sorted;\n    }, [\n        firestoreCompetitors,\n        hourlyDataByCompetitor,\n        bigCatchesByCompetitor,\n        activeSector\n    ]);\n    // Calculate sector totals\n    const sectorTotals = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        const totals = {\n            nbPrisesGlobal: 0,\n            poidsTotalGlobal: 0,\n            points: 0,\n            grossePriseMax: 0\n        };\n        calculatedCompetitors.forEach((comp)=>{\n            totals.nbPrisesGlobal += comp.nbPrisesGlobal;\n            totals.poidsTotalGlobal += comp.poidsTotalGlobal;\n            totals.points += comp.points;\n            if (comp.grossePrise > totals.grossePriseMax) {\n                totals.grossePriseMax = comp.grossePrise;\n            }\n        });\n        return totals;\n    }, [\n        calculatedCompetitors\n    ]);\n    // Apply sorting\n    const sortedCompetitors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        if (sortField === \"classementSecteur\") {\n            return calculatedCompetitors; // Already sorted by classement\n        }\n        return [\n            ...calculatedCompetitors\n        ].sort((a, b)=>{\n            let aValue;\n            let bValue;\n            switch(sortField){\n                case \"boxNumber\":\n                    aValue = a.boxNumber;\n                    bValue = b.boxNumber;\n                    break;\n                case \"name\":\n                    aValue = a.name.toLowerCase();\n                    bValue = b.name.toLowerCase();\n                    break;\n                case \"equipe\":\n                    aValue = a.equipe.toLowerCase();\n                    bValue = b.equipe.toLowerCase();\n                    break;\n                case \"points\":\n                    aValue = a.points;\n                    bValue = b.points;\n                    break;\n                case \"nbPrisesGlobal\":\n                    aValue = a.nbPrisesGlobal;\n                    bValue = b.nbPrisesGlobal;\n                    break;\n                case \"poidsTotalGlobal\":\n                    aValue = a.poidsTotalGlobal;\n                    bValue = b.poidsTotalGlobal;\n                    break;\n                case \"grossePrise\":\n                    aValue = a.grossePrise;\n                    bValue = b.grossePrise;\n                    break;\n                case \"coefficient\":\n                    aValue = a.coefficient;\n                    bValue = b.coefficient;\n                    break;\n                default:\n                    return 0;\n            }\n            if (typeof aValue === \"string\" && typeof bValue === \"string\") {\n                return sortDirection === \"desc\" ? bValue.localeCompare(aValue) : aValue.localeCompare(bValue);\n            } else {\n                return sortDirection === \"desc\" ? bValue - aValue : aValue - bValue;\n            }\n        });\n    }, [\n        calculatedCompetitors,\n        sortField,\n        sortDirection\n    ]);\n    // Apply filters\n    const filteredCompetitors = (0,react__WEBPACK_IMPORTED_MODULE_1__.useMemo)(()=>{\n        let filtered = sortedCompetitors;\n        // Search filter\n        if (searchQuery) {\n            const query = searchQuery.toLowerCase();\n            filtered = filtered.filter((comp)=>comp.name.toLowerCase().includes(query) || comp.equipe.toLowerCase().includes(query) || comp.boxCode.toLowerCase().includes(query));\n        }\n        // Type filters\n        switch(filterType){\n            case \"top3\":\n                filtered = filtered.slice(0, 3);\n                break;\n            case \"top10\":\n                filtered = filtered.slice(0, 10);\n                break;\n            case \"withGrossePrise\":\n                filtered = filtered.filter((comp)=>comp.grossePrise > 0);\n                break;\n        }\n        return filtered;\n    }, [\n        sortedCompetitors,\n        searchQuery,\n        filterType\n    ]);\n    const getSectorColor = (sector)=>{\n        const colors = {\n            A: \"bg-sectors-A text-white\",\n            B: \"bg-sectors-B text-white\",\n            C: \"bg-sectors-C text-white\",\n            D: \"bg-sectors-D text-white\",\n            E: \"bg-sectors-E text-white\",\n            F: \"bg-sectors-F text-white\"\n        };\n        return colors[sector] || \"bg-gray-500 text-white\";\n    };\n    const handleSort = (field)=>{\n        if (sortField === field) {\n            setSortDirection(sortDirection === \"asc\" ? \"desc\" : \"asc\");\n        } else {\n            setSortField(field);\n            setSortDirection(field === \"classementSecteur\" ? \"asc\" : \"desc\");\n        }\n    };\n    const formatCoefficient = (value)=>{\n        return value.toLocaleString(\"fr-FR\", {\n            minimumFractionDigits: 3,\n            maximumFractionDigits: 3\n        });\n    };\n    const getRankIcon = (rank)=>{\n        switch(rank){\n            case 1:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"], {\n                    className: \"w-4 h-4 text-yellow-500\"\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                    lineNumber: 323,\n                    columnNumber: 16\n                }, this);\n            case 2:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"], {\n                    className: \"w-4 h-4 text-gray-400\"\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                    lineNumber: 325,\n                    columnNumber: 16\n                }, this);\n            case 3:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_8__[\"default\"], {\n                    className: \"w-4 h-4 text-amber-600\"\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                    lineNumber: 327,\n                    columnNumber: 16\n                }, this);\n            default:\n                return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                    className: \"text-sm font-bold text-gray-500\",\n                    children: [\n                        \"#\",\n                        rank\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                    lineNumber: 329,\n                    columnNumber: 16\n                }, this);\n        }\n    };\n    const handleDownloadPDF = ()=>{\n        var _firestorePublicSettings_logos, _firestorePublicSettings_logos1;\n        const currentDate = new Date().toLocaleDateString(\"fr-FR\", {\n            timeZone: \"Africa/Tunis\",\n            weekday: \"long\",\n            year: \"numeric\",\n            month: \"long\",\n            day: \"numeric\"\n        });\n        const currentTime = new Date().toLocaleTimeString(\"fr-FR\", {\n            timeZone: \"Africa/Tunis\",\n            hour: \"2-digit\",\n            minute: \"2-digit\",\n            second: \"2-digit\"\n        });\n        const logoHtml = (firestorePublicSettings === null || firestorePublicSettings === void 0 ? void 0 : (_firestorePublicSettings_logos = firestorePublicSettings.logos) === null || _firestorePublicSettings_logos === void 0 ? void 0 : _firestorePublicSettings_logos.light) || (firestorePublicSettings === null || firestorePublicSettings === void 0 ? void 0 : (_firestorePublicSettings_logos1 = firestorePublicSettings.logos) === null || _firestorePublicSettings_logos1 === void 0 ? void 0 : _firestorePublicSettings_logos1.dark) ? '<img src=\"'.concat(firestorePublicSettings.logos.light || firestorePublicSettings.logos.dark, '\" alt=\"Titanium Tunisia Open\" style=\"height: 80px; margin: 0 auto 20px auto; display: block;\" />') : '<div style=\"text-align: center; margin-bottom: 20px;\">\\n           <h1 style=\"color: #0ea5e9; font-size: 24px; margin: 0;\">Titanium Tunisia Open</h1>\\n         </div>';\n        const tableHTML = '\\n      <!DOCTYPE html>\\n      <html>\\n        <head>\\n          <meta charset=\"UTF-8\">\\n          <title>Classement Secteur '.concat(activeSector, \" - Titanium Tunisia Open</title>\\n          <style>\\n            @page { \\n              size: A4; \\n              margin: 20mm; \\n            }\\n            body { \\n              font-family: Arial, sans-serif; \\n              margin: 0; \\n              padding: 0;\\n              font-size: 12px;\\n              line-height: 1.4;\\n            }\\n            .header {\\n              text-align: center;\\n              margin-bottom: 30px;\\n              border-bottom: 2px solid #0ea5e9;\\n              padding-bottom: 20px;\\n            }\\n            .tagline {\\n              font-style: italic;\\n              color: #666;\\n              margin: 10px 0;\\n              font-size: 14px;\\n            }\\n            .event-info {\\n              font-weight: bold;\\n              color: #0ea5e9;\\n              margin: 10px 0;\\n              font-size: 16px;\\n            }\\n            .disclaimer {\\n              background-color: #fff3cd;\\n              border: 1px solid #ffeaa7;\\n              padding: 10px;\\n              margin: 20px 0;\\n              border-radius: 4px;\\n              font-style: italic;\\n              text-align: center;\\n            }\\n            .meta-info {\\n              text-align: right;\\n              margin-bottom: 20px;\\n              color: #666;\\n              font-size: 11px;\\n            }\\n            table { \\n              width: 100%; \\n              border-collapse: collapse; \\n              margin-top: 20px;\\n              font-size: 11px;\\n            }\\n            th, td { \\n              border: 1px solid #ddd; \\n              padding: 6px 8px; \\n              text-align: left; \\n            }\\n            th { \\n              background-color: #f8f9fa; \\n              font-weight: bold;\\n              font-size: 10px;\\n              text-transform: uppercase;\\n            }\\n            .rank-1 { background-color: #fff3cd; }\\n            .rank-2 { background-color: #f8f9fa; }\\n            .rank-3 { background-color: #ffeaa7; }\\n            .text-center { text-align: center; }\\n            .font-mono { font-family: 'Courier New', monospace; }\\n            .totals-row { \\n              background-color: #f8f9fa; \\n              border-top: 2px solid #dee2e6; \\n              font-weight: bold; \\n            }\\n          </style>\\n        </head>\\n        <body>\\n          <div class=\\\"header\\\">\\n            \").concat(logoHtml, '\\n            <div class=\"tagline\">The most luxurious Surfcasting competition in the world</div>\\n            <div class=\"event-info\">TITANIUM TUNISIA OPEN - 6 septembre 2025 - Raoued, Tunisie</div>\\n            <div class=\"disclaimer\">\\n              Classement provisoire — susceptible d\\'\\xeatre modifi\\xe9 jusqu\\'\\xe0 publication des r\\xe9sultats officiels.\\n            </div>\\n          </div>\\n          \\n          <div class=\"meta-info\">\\n            G\\xe9n\\xe9r\\xe9 le ').concat(currentDate, \" \\xe0 \").concat(currentTime, ' (Raoued, Tunisie)\\n          </div>\\n          \\n          <h2 style=\"color: #0ea5e9; margin-bottom: 20px;\">Classement Secteur ').concat(activeSector, \"</h2>\\n          \\n          <table>\\n            <thead>\\n              <tr>\\n                <th>Box N\\xb0</th>\\n                <th>Comp\\xe9titeur</th>\\n                <th>\\xc9quipe</th>\\n                <th>Nb Prises global</th>\\n                <th>Poids Total global (g)</th>\\n                <th>Grosse prise (g)</th>\\n                <th>Points</th>\\n                <th>Coefficient secteur</th>\\n                <th>Classement Secteur</th>\\n              </tr>\\n            </thead>\\n            <tbody>\\n              \").concat(filteredCompetitors.map((comp)=>'\\n                <tr class=\"'.concat(comp.classementSecteur <= 3 ? \"rank-\".concat(comp.classementSecteur) : \"\", '\">\\n                  <td class=\"font-mono\">').concat(comp.boxCode, \"</td>\\n                  <td>\").concat(comp.name, \"</td>\\n                  <td>\").concat(comp.equipe, '</td>\\n                  <td class=\"text-center\">').concat(comp.nbPrisesGlobal, '</td>\\n                  <td class=\"text-center\">').concat((0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(comp.poidsTotalGlobal), '</td>\\n                  <td class=\"text-center\">').concat(comp.grossePrise > 0 ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(comp.grossePrise) : \"—\", '</td>\\n                  <td class=\"text-center\">').concat((0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(comp.points), '</td>\\n                  <td class=\"text-center font-mono\">').concat(formatCoefficient(comp.coefficient), '</td>\\n                  <td class=\"text-center\"><strong>').concat(comp.classementSecteur, \"</strong></td>\\n                </tr>\\n              \")).join(\"\"), '\\n              <tr class=\"totals-row\">\\n                <td class=\"font-mono\">TOTAL</td>\\n                <td>—</td>\\n                <td>—</td>\\n                <td class=\"text-center\">').concat((0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.nbPrisesGlobal), '</td>\\n                <td class=\"text-center\">').concat((0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.poidsTotalGlobal), '</td>\\n                <td class=\"text-center\">').concat(sectorTotals.grossePriseMax > 0 ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.grossePriseMax) : \"—\", '</td>\\n                <td class=\"text-center\">').concat((0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.points), '</td>\\n                <td class=\"text-center\">—</td>\\n                <td class=\"text-center\">—</td>\\n              </tr>\\n            </tbody>\\n          </table>\\n          \\n          <div style=\"margin-top: 30px; text-align: center; color: #666; font-size: 10px;\">\\n            Document g\\xe9n\\xe9r\\xe9 automatiquement par le syst\\xe8me Titanium Tunisia Open\\n          </div>\\n        </body>\\n      </html>\\n    ').trim();\n        // Create and download PDF-ready HTML\n        const blob = new Blob([\n            tableHTML\n        ], {\n            type: \"text/html;charset=utf-8\"\n        });\n        const url = URL.createObjectURL(blob);\n        const a = document.createElement(\"a\");\n        a.href = url;\n        a.download = \"classement-secteur-\".concat(activeSector, \"-\").concat(new Date().toISOString().slice(0, 10), \".html\");\n        a.click();\n        URL.revokeObjectURL(url);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        id: \"classement-secteur\",\n        className: \"py-16 bg-gradient-to-br from-sand-50 to-coral-50 dark:from-gray-800 dark:to-gray-900\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-12\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\",\n                            children: \"Classement par secteur (en direct)\"\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                            lineNumber: 514,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto\",\n                            children: \"Classements d\\xe9taill\\xe9s par secteur avec calculs en temps r\\xe9el\"\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                            lineNumber: 517,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                    lineNumber: 513,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n                    className: \"max-w-7xl mx-auto\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardTitle, {\n                                className: \"flex items-center justify-between\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                        className: \"flex items-center gap-2\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                className: \"w-3 h-3 bg-green-500 rounded-full animate-pulse\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                lineNumber: 526,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: [\n                                                    \"Classement Secteur \",\n                                                    activeSector,\n                                                    \" en Direct\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                lineNumber: 527,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                        lineNumber: 525,\n                                        columnNumber: 15\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Button__WEBPACK_IMPORTED_MODULE_4__[\"default\"], {\n                                        variant: \"outline\",\n                                        size: \"sm\",\n                                        onClick: handleDownloadPDF,\n                                        className: \"flex items-center space-x-1\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_9__[\"default\"], {\n                                                className: \"w-4 h-4\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                lineNumber: 535,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                children: \"T\\xe9l\\xe9charger en PDF\"\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                lineNumber: 536,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                        lineNumber: 529,\n                                        columnNumber: 15\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                lineNumber: 524,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                            lineNumber: 523,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-wrap justify-center gap-2 mb-6\",\n                                    children: sectors.map((sector)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"button\", {\n                                            onClick: ()=>setActiveSector(sector),\n                                            className: \"px-4 py-2 rounded-full transition-all font-medium \".concat(activeSector === sector ? getSectorColor(sector) : \"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600\"),\n                                            children: [\n                                                \"Secteur \",\n                                                sector\n                                            ]\n                                        }, sector, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 544,\n                                            columnNumber: 17\n                                        }, this))\n                                }, void 0, false, {\n                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                    lineNumber: 542,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex flex-col sm:flex-row gap-4 mb-6\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex-1 relative\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_10__[\"default\"], {\n                                                    className: \"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 561,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"input\", {\n                                                    type: \"text\",\n                                                    value: searchQuery,\n                                                    onChange: (e)=>setSearchQuery(e.target.value),\n                                                    placeholder: \"Rechercher par nom ou box...\",\n                                                    className: \"w-full pl-10 pr-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 562,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 560,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"select\", {\n                                            value: filterType,\n                                            onChange: (e)=>setFilterType(e.target.value),\n                                            className: \"px-3 py-2 border border-gray-300 dark:border-gray-600 rounded-lg bg-white dark:bg-gray-800 text-gray-900 dark:text-white text-sm\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"all\",\n                                                    children: \"Tous\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 575,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"top3\",\n                                                    children: \"Top 3\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 576,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"top10\",\n                                                    children: \"Top 10\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 577,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"option\", {\n                                                    value: \"withGrossePrise\",\n                                                    children: \"Avec grosse prise\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 578,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 570,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                    lineNumber: 559,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"flex items-center justify-between mb-4 p-3 bg-gray-50 dark:bg-gray-800 rounded-lg\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"flex items-center space-x-2\",\n                                            children: isOnline ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                                        className: \"w-4 h-4 text-green-500\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                        lineNumber: 587,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm text-green-600 dark:text-green-400\",\n                                                        children: \"Connect\\xe9 - Donn\\xe9es en temps r\\xe9el\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                        lineNumber: 588,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.Fragment, {\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                                        className: \"w-4 h-4 text-red-500\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                        lineNumber: 592,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                        className: \"text-sm text-red-600 dark:text-red-400\",\n                                                        children: \"Hors ligne - Derni\\xe8res donn\\xe9es disponibles\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                        lineNumber: 593,\n                                                        columnNumber: 21\n                                                    }, this)\n                                                ]\n                                            }, void 0, true)\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 584,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-xs text-gray-500 dark:text-gray-400\",\n                                            children: [\n                                                filteredCompetitors.length,\n                                                \" comp\\xe9titeur\",\n                                                filteredCompetitors.length > 1 ? \"s\" : \"\",\n                                                \" affich\\xe9\",\n                                                filteredCompetitors.length > 1 ? \"s\" : \"\"\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 597,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                    lineNumber: 583,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"overflow-x-auto\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"table\", {\n                                        className: \"w-full\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"thead\", {\n                                                className: \"bg-gray-50 dark:bg-gray-800 sticky top-0 z-10\",\n                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                    children: [\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"sticky left-0 bg-gray-50 dark:bg-gray-800 px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider border-r border-gray-200 dark:border-gray-700 cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"boxNumber\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Box N\\xb0\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 612,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 613,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 611,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 607,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"name\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Comp\\xe9titeur\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 621,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 622,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 620,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 616,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"equipe\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"\\xc9quipe\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 630,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 631,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 629,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 625,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"nbPrisesGlobal\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Nb Prises global\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 639,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 640,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 638,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 634,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"poidsTotal\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Poids Total global (g)\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 648,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 649,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 647,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 643,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"grossePrise\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Grosse prise (g)\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 657,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 658,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 656,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 652,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"points\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Points\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 666,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 667,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 665,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 661,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"coefficient\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Coefficient secteur\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 675,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 676,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 674,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 670,\n                                                            columnNumber: 21\n                                                        }, this),\n                                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"th\", {\n                                                            className: \"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-400 uppercase tracking-wider cursor-pointer hover:bg-gray-100 dark:hover:bg-gray-700\",\n                                                            onClick: ()=>handleSort(\"classementSecteur\"),\n                                                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                className: \"flex items-center space-x-1\",\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                        children: \"Classement Secteur\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 684,\n                                                                        columnNumber: 25\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowUpDown_Award_Download_Medal_Search_Trophy_Wifi_WifiOff_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                                                        className: \"w-3 h-3\"\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 685,\n                                                                        columnNumber: 25\n                                                                    }, this)\n                                                                ]\n                                                            }, void 0, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 683,\n                                                                columnNumber: 23\n                                                            }, this)\n                                                        }, void 0, false, {\n                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                            lineNumber: 679,\n                                                            columnNumber: 21\n                                                        }, this)\n                                                    ]\n                                                }, void 0, true, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 606,\n                                                    columnNumber: 19\n                                                }, this)\n                                            }, void 0, false, {\n                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                lineNumber: 605,\n                                                columnNumber: 17\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tbody\", {\n                                                className: \"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_14__.AnimatePresence, {\n                                                        children: filteredCompetitors.map((competitor, index)=>{\n                                                            const isTopThree = competitor.classementSecteur <= 3;\n                                                            return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(framer_motion__WEBPACK_IMPORTED_MODULE_15__.motion.tr, {\n                                                                initial: {\n                                                                    opacity: 0,\n                                                                    y: 20\n                                                                },\n                                                                animate: {\n                                                                    opacity: 1,\n                                                                    y: 0\n                                                                },\n                                                                exit: {\n                                                                    opacity: 0,\n                                                                    y: -20\n                                                                },\n                                                                transition: {\n                                                                    duration: 0.3,\n                                                                    delay: index * 0.02\n                                                                },\n                                                                className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(isTopThree && \"bg-yellow-50 dark:bg-yellow-900/10\", \"hover:bg-gray-50 dark:hover:bg-gray-800\"),\n                                                                children: [\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"sticky left-0 bg-white dark:bg-gray-900 px-4 py-4 border-r border-gray-200 dark:border-gray-700\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-mono font-semibold text-gray-900 dark:text-white\",\n                                                                            children: competitor.boxCode\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 709,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 708,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-medium text-gray-900 dark:text-gray-100\",\n                                                                            children: competitor.name\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 716,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 715,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-800 dark:text-gray-200\",\n                                                                            children: competitor.equipe\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 723,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 722,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                            children: competitor.nbPrisesGlobal\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 728,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 727,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                            children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(competitor.poidsTotalGlobal)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 735,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 734,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                        children: competitor.nbPrisesGlobal === 0 && competitor.poidsTotalGlobal === 0 && competitor.grossePrise === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-400 dark:text-gray-500\",\n                                                                            children: \"—\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 743,\n                                                                            columnNumber: 31\n                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-semibold text-gray-900 dark:text-gray-100\",\n                                                                            children: competitor.grossePrise > 0 ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(competitor.grossePrise) : \"—\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 745,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 741,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-bold text-lg text-ocean-600 dark:text-ocean-400\",\n                                                                            children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(competitor.points)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 753,\n                                                                            columnNumber: 29\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 752,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                        children: competitor.nbPrisesGlobal === 0 && competitor.poidsTotalGlobal === 0 && competitor.grossePrise === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-400 dark:text-gray-500\",\n                                                                            children: \"—\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 761,\n                                                                            columnNumber: 31\n                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"font-mono text-sm text-gray-800 dark:text-gray-200\",\n                                                                            children: formatCoefficient(competitor.coefficient)\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 763,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 759,\n                                                                        columnNumber: 27\n                                                                    }, this),\n                                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                        className: \"px-4 py-4 whitespace-nowrap text-center\",\n                                                                        children: competitor.nbPrisesGlobal === 0 && competitor.poidsTotalGlobal === 0 && competitor.grossePrise === 0 ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                            className: \"text-gray-400 dark:text-gray-500\",\n                                                                            children: \"—\"\n                                                                        }, void 0, false, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 772,\n                                                                            columnNumber: 31\n                                                                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                                            className: \"flex items-center justify-center space-x-1\",\n                                                                            children: [\n                                                                                competitor.classementSecteur <= 3 && getRankIcon(competitor.classementSecteur),\n                                                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                                    className: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.cn)(\"font-bold text-lg\", competitor.classementSecteur === 1 ? \"text-yellow-600\" : competitor.classementSecteur === 2 ? \"text-gray-500\" : competitor.classementSecteur === 3 ? \"text-amber-600\" : \"text-ocean-600\"),\n                                                                                    children: competitor.classementSecteur\n                                                                                }, void 0, false, {\n                                                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                                    lineNumber: 776,\n                                                                                    columnNumber: 33\n                                                                                }, this)\n                                                                            ]\n                                                                        }, void 0, true, {\n                                                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                            lineNumber: 774,\n                                                                            columnNumber: 31\n                                                                        }, this)\n                                                                    }, void 0, false, {\n                                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                        lineNumber: 770,\n                                                                        columnNumber: 27\n                                                                    }, this)\n                                                                ]\n                                                            }, competitor.id, true, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 696,\n                                                                columnNumber: 25\n                                                            }, this);\n                                                        })\n                                                    }, void 0, false, {\n                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                        lineNumber: 691,\n                                                        columnNumber: 19\n                                                    }, this),\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"tr\", {\n                                                        className: \"bg-gray-100 dark:bg-gray-800 border-t-2 border-gray-300 dark:border-gray-600\",\n                                                        children: [\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"sticky left-0 bg-gray-100 dark:bg-gray-800 px-4 py-4 border-r border-gray-200 dark:border-gray-700\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold text-gray-900 dark:text-gray-100\",\n                                                                    children: \"TOTAL\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                    lineNumber: 795,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 794,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-gray-500 dark:text-gray-400\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 797,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-gray-500 dark:text-gray-400\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 798,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold text-gray-900 dark:text-gray-100\",\n                                                                    children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.nbPrisesGlobal)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                    lineNumber: 800,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 799,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold text-gray-900 dark:text-gray-100\",\n                                                                    children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.poidsTotalGlobal)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                    lineNumber: 805,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 804,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold text-gray-900 dark:text-gray-100\",\n                                                                    children: sectorTotals.grossePriseMax > 0 ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.grossePriseMax) : \"—\"\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                    lineNumber: 810,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 809,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-center\",\n                                                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"span\", {\n                                                                    className: \"font-bold text-ocean-600 dark:text-ocean-400\",\n                                                                    children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.points)\n                                                                }, void 0, false, {\n                                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                    lineNumber: 815,\n                                                                    columnNumber: 23\n                                                                }, this)\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 814,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-center text-gray-500 dark:text-gray-400\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 819,\n                                                                columnNumber: 21\n                                                            }, this),\n                                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"td\", {\n                                                                className: \"px-4 py-4 text-center text-gray-500 dark:text-gray-400\",\n                                                                children: \"—\"\n                                                            }, void 0, false, {\n                                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                                lineNumber: 820,\n                                                                columnNumber: 21\n                                                            }, this)\n                                                        ]\n                                                    }, void 0, true, {\n                                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                        lineNumber: 793,\n                                                        columnNumber: 19\n                                                    }, this)\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                lineNumber: 690,\n                                                columnNumber: 17\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                        lineNumber: 604,\n                                        columnNumber: 15\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                    lineNumber: 603,\n                                    columnNumber: 13\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"mt-6 grid grid-cols-2 md:grid-cols-4 gap-4\",\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl font-bold text-ocean-600 dark:text-ocean-400\",\n                                                    children: calculatedCompetitors.length\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 829,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                    children: \"Comp\\xe9titeurs\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 832,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 828,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl font-bold text-green-600 dark:text-green-400\",\n                                                    children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatNumber)(sectorTotals.nbPrisesGlobal)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 835,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                    children: \"Prises totales\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 838,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 834,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl font-bold text-blue-600 dark:text-blue-400\",\n                                                    children: (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatWeight)(sectorTotals.poidsTotalGlobal)\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 841,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                    children: \"Poids total\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 844,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 840,\n                                            columnNumber: 15\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"bg-gray-50 dark:bg-gray-800 p-4 rounded-lg text-center\",\n                                            children: [\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-2xl font-bold text-purple-600 dark:text-purple-400\",\n                                                    children: sectorTotals.grossePriseMax > 0 ? (0,_lib_utils__WEBPACK_IMPORTED_MODULE_5__.formatWeight)(sectorTotals.grossePriseMax) : \"—\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 847,\n                                                    columnNumber: 17\n                                                }, this),\n                                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                                    className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                                    children: \"Plus grosse prise\"\n                                                }, void 0, false, {\n                                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                                    lineNumber: 850,\n                                                    columnNumber: 17\n                                                }, this)\n                                            ]\n                                        }, void 0, true, {\n                                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                            lineNumber: 846,\n                                            columnNumber: 15\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                                    lineNumber: 827,\n                                    columnNumber: 13\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                            lineNumber: 540,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n                    lineNumber: 522,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n            lineNumber: 512,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/public/LiveSectorRankings.tsx\",\n        lineNumber: 511,\n        columnNumber: 5\n    }, this);\n}\n_s(LiveSectorRankings, \"gKBXW+dlEffy+fhrFvUWhTgZuWQ=\", false, function() {\n    return [\n        _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__.useFirestore\n    ];\n});\n_c = LiveSectorRankings;\nvar _c;\n$RefreshReg$(_c, \"LiveSectorRankings\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy9MaXZlU2VjdG9yUmFua2luZ3MudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRXFEO0FBQ3VCO0FBQ0k7QUFFcEM7QUFXdEI7QUFDa0M7QUFDYTtBQUNwQztBQXlCbEIsU0FBU3NCOztJQUN0QixNQUFNLEVBQ0pDLGFBQWFDLG9CQUFvQixFQUNqQ0MsZUFBZUMsc0JBQXNCLEVBQ3JDQyxZQUFZQyxtQkFBbUIsRUFDL0JDLDBCQUEwQkMsdUJBQXVCLEVBQ2xELEdBQUczQix5RkFBWUE7SUFFaEIsTUFBTTRCLFVBQVU7UUFBQztRQUFLO1FBQUs7UUFBSztRQUFLO1FBQUs7S0FBSTtJQUM5QyxNQUFNLENBQUNDLGNBQWNDLGdCQUFnQixHQUFHakMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDa0MsYUFBYUMsZUFBZSxHQUFHbkMsK0NBQVFBLENBQUM7SUFDL0MsTUFBTSxDQUFDb0MsV0FBV0MsYUFBYSxHQUFHckMsK0NBQVFBLENBQVM7SUFDbkQsTUFBTSxDQUFDc0MsZUFBZUMsaUJBQWlCLEdBQUd2QywrQ0FBUUEsQ0FBaUI7SUFDbkUsTUFBTSxDQUFDd0MsWUFBWUMsY0FBYyxHQUFHekMsK0NBQVFBLENBQVM7SUFDckQsTUFBTSxDQUFDMEMsVUFBVUMsWUFBWSxHQUFHM0MsK0NBQVFBLENBQUM7SUFFekMsNEJBQTRCO0lBQzVCQyxnREFBU0EsQ0FBQztRQUNSMEMsWUFBWUMsVUFBVUMsTUFBTTtRQUU1QixNQUFNQyxlQUFlLElBQU1ILFlBQVk7UUFDdkMsTUFBTUksZ0JBQWdCLElBQU1KLFlBQVk7UUFFeENLLE9BQU9DLGdCQUFnQixDQUFDLFVBQVVIO1FBQ2xDRSxPQUFPQyxnQkFBZ0IsQ0FBQyxXQUFXRjtRQUVuQyxPQUFPO1lBQ0xDLE9BQU9FLG1CQUFtQixDQUFDLFVBQVVKO1lBQ3JDRSxPQUFPRSxtQkFBbUIsQ0FBQyxXQUFXSDtRQUN4QztJQUNG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Qzs7Ozs7Ozs7Ozs7O3NEQUU1RCw4REFBQ21DOzRDQUFJbkMsV0FBVTs7OERBQ2IsOERBQUNtQztvREFBSW5DLFdBQVU7OERBQ1p6Ryx3REFBWUEsQ0FBQzRFLGFBQWF2QixjQUFjOzs7Ozs7OERBRTNDLDhEQUFDdUY7b0RBQUluQyxXQUFVOzhEQUEyQzs7Ozs7Ozs7Ozs7O3NEQUU1RCw4REFBQ21DOzRDQUFJbkMsV0FBVTs7OERBQ2IsOERBQUNtQztvREFBSW5DLFdBQVU7OERBQ1oxRyx3REFBWUEsQ0FBQzZFLGFBQWF0QixnQkFBZ0I7Ozs7Ozs4REFFN0MsOERBQUNzRjtvREFBSW5DLFdBQVU7OERBQTJDOzs7Ozs7Ozs7Ozs7c0RBRTVELDhEQUFDbUM7NENBQUluQyxXQUFVOzs4REFDYiw4REFBQ21DO29EQUFJbkMsV0FBVTs4REFDWjdCLGFBQWFFLGNBQWMsR0FBRyxJQUFJL0Usd0RBQVlBLENBQUM2RSxhQUFhRSxjQUFjLElBQUk7Ozs7Ozs4REFFakYsOERBQUM4RDtvREFBSW5DLFdBQVU7OERBQTJDOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQVExRTtHQTV5QndCdkc7O1FBTWxCbkIscUZBQVlBOzs7S0FOTW1CIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy9MaXZlU2VjdG9yUmFua2luZ3MudHN4P2M4OWQiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyB1c2VTdGF0ZSwgdXNlRWZmZWN0LCB1c2VNZW1vIH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgdXNlRmlyZXN0b3JlIH0gZnJvbSAnQC9jb21wb25lbnRzL3Byb3ZpZGVycy9GaXJlc3RvcmVTeW5jUHJvdmlkZXInO1xuaW1wb3J0IHsgQ2FyZCwgQ2FyZENvbnRlbnQsIENhcmRIZWFkZXIsIENhcmRUaXRsZSB9IGZyb20gJ0AvY29tcG9uZW50cy91aS9DYXJkJztcbmltcG9ydCB7IEJhZGdlIH0gZnJvbSAnQC9jb21wb25lbnRzL3VpL0JhZGdlJztcbmltcG9ydCBCdXR0b24gZnJvbSAnQC9jb21wb25lbnRzL3VpL0J1dHRvbic7XG5pbXBvcnQgeyBcbiAgU2VhcmNoLFxuICBGaWx0ZXIsXG4gIERvd25sb2FkLFxuICBBcnJvd1VwRG93bixcbiAgVHJvcGh5LFxuICBNZWRhbCxcbiAgQXdhcmQsXG4gIFdpZmksXG4gIFdpZmlPZmZcbn0gZnJvbSAnbHVjaWRlLXJlYWN0JztcbmltcG9ydCB7IG1vdGlvbiwgQW5pbWF0ZVByZXNlbmNlIH0gZnJvbSAnZnJhbWVyLW1vdGlvbic7XG5pbXBvcnQgeyBmb3JtYXRXZWlnaHQsIGZvcm1hdE51bWJlciwgZm9ybWF0VGltZSB9IGZyb20gJ0AvbGliL3V0aWxzJztcbmltcG9ydCB7IGNuIH0gZnJvbSAnQC9saWIvdXRpbHMnO1xuXG5pbnRlcmZhY2UgQ2FsY3VsYXRlZENvbXBldGl0b3Ige1xuICBpZDogc3RyaW5nO1xuICBib3hOdW1iZXI6IG51bWJlcjtcbiAgYm94Q29kZTogc3RyaW5nO1xuICBuYW1lOiBzdHJpbmc7XG4gIGVxdWlwZTogc3RyaW5nO1xuICBzZWN0b3I6IHN0cmluZztcbiAgbmJQcmlzZXNHbG9iYWw6IG51bWJlcjtcbiAgcG9pZHNUb3RhbEdsb2JhbDogbnVtYmVyO1xuICBncm9zc2VQcmlzZTogbnVtYmVyO1xuICBwb2ludHM6IG51bWJlcjtcbiAgY29lZmZpY2llbnQ6IG51bWJlcjtcbiAgY2xhc3NlbWVudFNlY3RldXI6IG51bWJlcjtcbiAgbGFzdFZhbGlkRW50cnk/OiBEYXRlO1xufVxuXG5pbnRlcmZhY2UgU2VjdG9yVG90YWxzIHtcbiAgbmJQcmlzZXNHbG9iYWw6IG51bWJlcjtcbiAgcG9pZHNUb3RhbEdsb2JhbDogbnVtYmVyO1xuICBwb2ludHM6IG51bWJlcjtcbiAgZ3Jvc3NlUHJpc2VNYXg6IG51bWJlcjtcbn1cblxuZXhwb3J0IGRlZmF1bHQgZnVuY3Rpb24gTGl2ZVNlY3RvclJhbmtpbmdzKCkge1xuICBjb25zdCB7IFxuICAgIGNvbXBldGl0b3JzOiBmaXJlc3RvcmVDb21wZXRpdG9ycywgXG4gICAgaG91cmx5RW50cmllczogZmlyZXN0b3JlSG91cmx5RW50cmllcywgXG4gICAgYmlnQ2F0Y2hlczogZmlyZXN0b3JlQmlnQ2F0Y2hlcyxcbiAgICBwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3M6IGZpcmVzdG9yZVB1YmxpY1NldHRpbmdzXG4gIH0gPSB1c2VGaXJlc3RvcmUoKTtcbiAgXG4gIGNvbnN0IHNlY3RvcnMgPSBbJ0EnLCAnQicsICdDJywgJ0QnLCAnRScsICdGJ107XG4gIGNvbnN0IFthY3RpdmVTZWN0b3IsIHNldEFjdGl2ZVNlY3Rvcl0gPSB1c2VTdGF0ZSgnQScpO1xuICBjb25zdCBbc2VhcmNoUXVlcnksIHNldFNlYXJjaFF1ZXJ5XSA9IHVzZVN0YXRlKCcnKTtcbiAgY29uc3QgW3NvcnRGaWVsZCwgc2V0U29ydEZpZWxkXSA9IHVzZVN0YXRlPHN0cmluZz4oJ2NsYXNzZW1lbnRTZWN0ZXVyJyk7XG4gIGNvbnN0IFtzb3J0RGlyZWN0aW9uLCBzZXRTb3J0RGlyZWN0aW9uXSA9IHVzZVN0YXRlPCdhc2MnIHwgJ2Rlc2MnPignYXNjJyk7XG4gIGNvbnN0IFtmaWx0ZXJUeXBlLCBzZXRGaWx0ZXJUeXBlXSA9IHVzZVN0YXRlPHN0cmluZz4oJ2FsbCcpO1xuICBjb25zdCBbaXNPbmxpbmUsIHNldElzT25saW5lXSA9IHVzZVN0YXRlKHRydWUpO1xuXG4gIC8vIFNldCBpbml0aWFsIG9ubGluZSBzdGF0dXNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBzZXRJc09ubGluZShuYXZpZ2F0b3Iub25MaW5lKTtcbiAgICBcbiAgICBjb25zdCBoYW5kbGVPbmxpbmUgPSAoKSA9PiBzZXRJc09ubGluZSh0cnVlKTtcbiAgICBjb25zdCBoYW5kbGVPZmZsaW5lID0gKCkgPT4gc2V0SXNPbmxpbmUoZmFsc2UpO1xuICAgIFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBoYW5kbGVPbmxpbmUpO1xuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdvZmZsaW5lJywgaGFuZGxlT2ZmbGluZSk7XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKCdvbmxpbmUnLCBoYW5kbGVPbmxpbmUpO1xuICAgICAgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ29mZmxpbmUnLCBoYW5kbGVPZmZsaW5lKTtcbiAgICB9O1xuICB9LCBbXSk7XG5cbiAgLy8gQ29udmVydCBGaXJlYmFzZSBkYXRhIHRvIGxvY2FsIGZvcm1hdCBmb3IgY2FsY3VsYXRpb25zXG4gIGNvbnN0IGhvdXJseURhdGFCeUNvbXBldGl0b3IgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBkYXRhOiB7IFtjb21wZXRpdG9ySWQ6IHN0cmluZ106IHsgW2hvdXI6IG51bWJlcl06IGFueSB9IH0gPSB7fTtcbiAgICBcbiAgICBmaXJlc3RvcmVIb3VybHlFbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgaWYgKCFkYXRhW2VudHJ5LmNvbXBldGl0b3JJZF0pIHtcbiAgICAgICAgZGF0YVtlbnRyeS5jb21wZXRpdG9ySWRdID0ge307XG4gICAgICB9XG4gICAgICBkYXRhW2VudHJ5LmNvbXBldGl0b3JJZF1bZW50cnkuaG91cl0gPSB7XG4gICAgICAgIGZpc2hDb3VudDogZW50cnkuZmlzaENvdW50LFxuICAgICAgICB0b3RhbFdlaWdodDogZW50cnkudG90YWxXZWlnaHQsXG4gICAgICAgIHN0YXR1czogZW50cnkuc3RhdHVzLFxuICAgICAgICB0aW1lc3RhbXA6IGVudHJ5LnRpbWVzdGFtcD8udG9EYXRlID8gZW50cnkudGltZXN0YW1wLnRvRGF0ZSgpIDogbmV3IERhdGUoKVxuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICByZXR1cm4gZGF0YTtcbiAgfSwgW2ZpcmVzdG9yZUhvdXJseUVudHJpZXNdKTtcbiAgXG4gIGNvbnN0IGJpZ0NhdGNoZXNCeUNvbXBldGl0b3IgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBkYXRhOiB7IFtjb21wZXRpdG9ySWQ6IHN0cmluZ106IGFueSB9ID0ge307XG4gICAgXG4gICAgZmlyZXN0b3JlQmlnQ2F0Y2hlcy5mb3JFYWNoKGVudHJ5ID0+IHtcbiAgICAgIGRhdGFbZW50cnkuY29tcGV0aXRvcklkXSA9IHtcbiAgICAgICAgZ3Jvc3NlUHJpc2U6IGVudHJ5Lmdyb3NzZVByaXNlLFxuICAgICAgICBzdGF0dXM6IGVudHJ5LnN0YXR1cyxcbiAgICAgICAgdGltZXN0YW1wOiBlbnRyeS50aW1lc3RhbXA/LnRvRGF0ZSA/IGVudHJ5LnRpbWVzdGFtcC50b0RhdGUoKSA6IG5ldyBEYXRlKClcbiAgICAgIH07XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sIFtmaXJlc3RvcmVCaWdDYXRjaGVzXSk7XG5cbiAgLy8gQ2FsY3VsYXRlIGxpdmUgZGF0YSBmb3IgY3VycmVudCBzZWN0b3IgKFNBTUUgTE9HSUMgQVMgQURNSU4gQ0FMQ1VMUyBMSVZFKVxuICBjb25zdCBjYWxjdWxhdGVkQ29tcGV0aXRvcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50Q29tcGV0aXRvcnMgPSBmaXJlc3RvcmVDb21wZXRpdG9ycy5maWx0ZXIoY29tcCA9PiBjb21wLnNlY3RvciA9PT0gYWN0aXZlU2VjdG9yKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgdG90YWxzIGZvciBlYWNoIGNvbXBldGl0b3JcbiAgICBjb25zdCBjYWxjdWxhdGVkOiBDYWxjdWxhdGVkQ29tcGV0aXRvcltdID0gY3VycmVudENvbXBldGl0b3JzLm1hcChjb21wZXRpdG9yID0+IHtcbiAgICAgIGxldCBuYlByaXNlc0dsb2JhbCA9IDA7XG4gICAgICBsZXQgcG9pZHNUb3RhbEdsb2JhbCA9IDA7XG4gICAgICBsZXQgbGFzdFZhbGlkRW50cnk6IERhdGUgfCB1bmRlZmluZWQ7XG4gICAgICBcbiAgICAgIC8vIFN1bSBhY3Jvc3MgYWxsIDcgaG91cnNcbiAgICAgIGZvciAobGV0IGhvdXIgPSAxOyBob3VyIDw9IDc7IGhvdXIrKykge1xuICAgICAgICBjb25zdCBlbnRyeSA9IGhvdXJseURhdGFCeUNvbXBldGl0b3JbY29tcGV0aXRvci5pZF0/Lltob3VyXTtcbiAgICAgICAgXG4gICAgICAgIGlmIChlbnRyeSAmJiBbJ2xvY2tlZF9qdWRnZScsICdsb2NrZWRfYWRtaW4nLCAnb2ZmbGluZV9qdWRnZScsICdvZmZsaW5lX2FkbWluJ10uaW5jbHVkZXMoZW50cnkuc3RhdHVzKSkge1xuICAgICAgICAgIG5iUHJpc2VzR2xvYmFsICs9IGVudHJ5LmZpc2hDb3VudDtcbiAgICAgICAgICBwb2lkc1RvdGFsR2xvYmFsICs9IGVudHJ5LnRvdGFsV2VpZ2h0O1xuICAgICAgICAgIFxuICAgICAgICAgIGlmIChlbnRyeS50aW1lc3RhbXAgJiYgKCFsYXN0VmFsaWRFbnRyeSB8fCBlbnRyeS50aW1lc3RhbXAgPiBsYXN0VmFsaWRFbnRyeSkpIHtcbiAgICAgICAgICAgIGxhc3RWYWxpZEVudHJ5ID0gZW50cnkudGltZXN0YW1wO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBHZXQgZ3Jvc3NlIHByaXNlXG4gICAgICBjb25zdCBncm9zc2VQcmlzZUVudHJ5ID0gYmlnQ2F0Y2hlc0J5Q29tcGV0aXRvcltjb21wZXRpdG9yLmlkXTtcbiAgICAgIGNvbnN0IGdyb3NzZVByaXNlID0gZ3Jvc3NlUHJpc2VFbnRyeSAmJiBbJ2xvY2tlZF9qdWRnZScsICdsb2NrZWRfYWRtaW4nLCAnb2ZmbGluZV9qdWRnZScsICdvZmZsaW5lX2FkbWluJ10uaW5jbHVkZXMoZ3Jvc3NlUHJpc2VFbnRyeS5zdGF0dXMpIFxuICAgICAgICA/IGdyb3NzZVByaXNlRW50cnkuYmlnZ2VzdENhdGNoIFxuICAgICAgICA6IDA7XG4gICAgICBcbiAgICAgIC8vIENhbGN1bGF0ZSBwb2ludHM6IChOYiBQcmlzZXMgZ2xvYmFsIMOXIDUwKSArIFBvaWRzIFRvdGFsIGdsb2JhbFxuICAgICAgY29uc3QgcG9pbnRzID0gKG5iUHJpc2VzR2xvYmFsICogNTApICsgcG9pZHNUb3RhbEdsb2JhbDtcbiAgICAgIFxuICAgICAgcmV0dXJuIHtcbiAgICAgICAgaWQ6IGNvbXBldGl0b3IuaWQsXG4gICAgICAgIGJveE51bWJlcjogY29tcGV0aXRvci5ib3hOdW1iZXIsXG4gICAgICAgIGJveENvZGU6IGNvbXBldGl0b3IuYm94Q29kZSxcbiAgICAgICAgbmFtZTogY29tcGV0aXRvci5mdWxsTmFtZSxcbiAgICAgICAgZXF1aXBlOiBjb21wZXRpdG9yLmVxdWlwZSxcbiAgICAgICAgc2VjdG9yOiBjb21wZXRpdG9yLnNlY3RvcixcbiAgICAgICAgbmJQcmlzZXNHbG9iYWwsXG4gICAgICAgIHBvaWRzVG90YWxHbG9iYWwsXG4gICAgICAgIGdyb3NzZVByaXNlLFxuICAgICAgICBwb2ludHMsXG4gICAgICAgIGNvZWZmaWNpZW50OiAwLCAvLyBXaWxsIGJlIGNhbGN1bGF0ZWQgYWZ0ZXIgd2UgaGF2ZSBzZWN0b3IgdG90YWxzXG4gICAgICAgIGNsYXNzZW1lbnRTZWN0ZXVyOiAwLCAvLyBXaWxsIGJlIGNhbGN1bGF0ZWQgYWZ0ZXIgc29ydGluZ1xuICAgICAgICBsYXN0VmFsaWRFbnRyeVxuICAgICAgfTtcbiAgICB9KTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgc2VjdG9yIHRvdGFsIGZvciBjb2VmZmljaWVudCBjYWxjdWxhdGlvblxuICAgIGNvbnN0IHNlY3RvclRvdGFsTmJQcmlzZXMgPSBjYWxjdWxhdGVkLnJlZHVjZSgoc3VtLCBjb21wKSA9PiBzdW0gKyBjb21wLm5iUHJpc2VzR2xvYmFsLCAwKTtcbiAgICBcbiAgICAvLyBDYWxjdWxhdGUgY29lZmZpY2llbnRzOiAoUG9pbnRzIMOXIE5iIFByaXNlcyBnbG9iYWwpIC8gVG90YWwgTmIgUHJpc2VzIGdsb2JhbCBTZWN0ZXVyXG4gICAgY2FsY3VsYXRlZC5mb3JFYWNoKGNvbXAgPT4ge1xuICAgICAgaWYgKHNlY3RvclRvdGFsTmJQcmlzZXMgPiAwKSB7XG4gICAgICAgIGNvbXAuY29lZmZpY2llbnQgPSAoY29tcC5wb2ludHMgKiBjb21wLm5iUHJpc2VzR2xvYmFsKSAvIHNlY3RvclRvdGFsTmJQcmlzZXM7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjb21wLmNvZWZmaWNpZW50ID0gMDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBcbiAgICAvLyBTb3J0IGJ5IFBvaW50cyAoZGVzYykgZm9yIHNlY3RvciByYW5raW5nXG4gICAgY29uc3Qgc29ydGVkID0gWy4uLmNhbGN1bGF0ZWRdLnNvcnQoKGEsIGIpID0+IHtcbiAgICAgIHJldHVybiBiLnBvaW50cyAtIGEucG9pbnRzOyAvLyBTb3J0IGJ5IFBvaW50cyAoZGVzYykgb25seVxuICAgIH0pO1xuICAgIFxuICAgIC8vIEFzc2lnbiBzZWN0b3IgcmFua2luZ3NcbiAgICBzb3J0ZWQuZm9yRWFjaCgoY29tcCwgaW5kZXgpID0+IHtcbiAgICAgIGNvbXAuY2xhc3NlbWVudFNlY3RldXIgPSBpbmRleCArIDE7XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHNvcnRlZDtcbiAgfSwgW2ZpcmVzdG9yZUNvbXBldGl0b3JzLCBob3VybHlEYXRhQnlDb21wZXRpdG9yLCBiaWdDYXRjaGVzQnlDb21wZXRpdG9yLCBhY3RpdmVTZWN0b3JdKTtcblxuICAvLyBDYWxjdWxhdGUgc2VjdG9yIHRvdGFsc1xuICBjb25zdCBzZWN0b3JUb3RhbHMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBjb25zdCB0b3RhbHM6IFNlY3RvclRvdGFscyA9IHtcbiAgICAgIG5iUHJpc2VzR2xvYmFsOiAwLFxuICAgICAgcG9pZHNUb3RhbEdsb2JhbDogMCxcbiAgICAgIHBvaW50czogMCxcbiAgICAgIGdyb3NzZVByaXNlTWF4OiAwXG4gICAgfTtcbiAgICBcbiAgICBjYWxjdWxhdGVkQ29tcGV0aXRvcnMuZm9yRWFjaChjb21wID0+IHtcbiAgICAgIHRvdGFscy5uYlByaXNlc0dsb2JhbCArPSBjb21wLm5iUHJpc2VzR2xvYmFsO1xuICAgICAgdG90YWxzLnBvaWRzVG90YWxHbG9iYWwgKz0gY29tcC5wb2lkc1RvdGFsR2xvYmFsO1xuICAgICAgdG90YWxzLnBvaW50cyArPSBjb21wLnBvaW50cztcbiAgICAgIGlmIChjb21wLmdyb3NzZVByaXNlID4gdG90YWxzLmdyb3NzZVByaXNlTWF4KSB7XG4gICAgICAgIHRvdGFscy5ncm9zc2VQcmlzZU1heCA9IGNvbXAuZ3Jvc3NlUHJpc2U7XG4gICAgICB9XG4gICAgfSk7XG4gICAgXG4gICAgcmV0dXJuIHRvdGFscztcbiAgfSwgW2NhbGN1bGF0ZWRDb21wZXRpdG9yc10pO1xuXG4gIC8vIEFwcGx5IHNvcnRpbmdcbiAgY29uc3Qgc29ydGVkQ29tcGV0aXRvcnMgPSB1c2VNZW1vKCgpID0+IHtcbiAgICBpZiAoc29ydEZpZWxkID09PSAnY2xhc3NlbWVudFNlY3RldXInKSB7XG4gICAgICByZXR1cm4gY2FsY3VsYXRlZENvbXBldGl0b3JzOyAvLyBBbHJlYWR5IHNvcnRlZCBieSBjbGFzc2VtZW50XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBbLi4uY2FsY3VsYXRlZENvbXBldGl0b3JzXS5zb3J0KChhLCBiKSA9PiB7XG4gICAgICBsZXQgYVZhbHVlOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgICBsZXQgYlZhbHVlOiBudW1iZXIgfCBzdHJpbmc7XG4gICAgICBcbiAgICAgIHN3aXRjaCAoc29ydEZpZWxkKSB7XG4gICAgICAgIGNhc2UgJ2JveE51bWJlcic6XG4gICAgICAgICAgYVZhbHVlID0gYS5ib3hOdW1iZXI7XG4gICAgICAgICAgYlZhbHVlID0gYi5ib3hOdW1iZXI7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIGNhc2UgJ25hbWUnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGJWYWx1ZSA9IGIubmFtZS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICBjYXNlICdlcXVpcGUnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEuZXF1aXBlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgYlZhbHVlID0gYi5lcXVpcGUudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncG9pbnRzJzpcbiAgICAgICAgICBhVmFsdWUgPSBhLnBvaW50cztcbiAgICAgICAgICBiVmFsdWUgPSBiLnBvaW50cztcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnbmJQcmlzZXNHbG9iYWwnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEubmJQcmlzZXNHbG9iYWw7XG4gICAgICAgICAgYlZhbHVlID0gYi5uYlByaXNlc0dsb2JhbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAncG9pZHNUb3RhbEdsb2JhbCc6XG4gICAgICAgICAgYVZhbHVlID0gYS5wb2lkc1RvdGFsR2xvYmFsO1xuICAgICAgICAgIGJWYWx1ZSA9IGIucG9pZHNUb3RhbEdsb2JhbDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnZ3Jvc3NlUHJpc2UnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEuZ3Jvc3NlUHJpc2U7XG4gICAgICAgICAgYlZhbHVlID0gYi5ncm9zc2VQcmlzZTtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgY2FzZSAnY29lZmZpY2llbnQnOlxuICAgICAgICAgIGFWYWx1ZSA9IGEuY29lZmZpY2llbnQ7XG4gICAgICAgICAgYlZhbHVlID0gYi5jb2VmZmljaWVudDtcbiAgICAgICAgICBicmVhaztcbiAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICByZXR1cm4gMDtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHR5cGVvZiBhVmFsdWUgPT09ICdzdHJpbmcnICYmIHR5cGVvZiBiVmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHJldHVybiBzb3J0RGlyZWN0aW9uID09PSAnZGVzYycgPyBiVmFsdWUubG9jYWxlQ29tcGFyZShhVmFsdWUpIDogYVZhbHVlLmxvY2FsZUNvbXBhcmUoYlZhbHVlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBzb3J0RGlyZWN0aW9uID09PSAnZGVzYycgPyAoYlZhbHVlIGFzIG51bWJlcikgLSAoYVZhbHVlIGFzIG51bWJlcikgOiAoYVZhbHVlIGFzIG51bWJlcikgLSAoYlZhbHVlIGFzIG51bWJlcik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sIFtjYWxjdWxhdGVkQ29tcGV0aXRvcnMsIHNvcnRGaWVsZCwgc29ydERpcmVjdGlvbl0pO1xuXG4gIC8vIEFwcGx5IGZpbHRlcnNcbiAgY29uc3QgZmlsdGVyZWRDb21wZXRpdG9ycyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIGxldCBmaWx0ZXJlZCA9IHNvcnRlZENvbXBldGl0b3JzO1xuICAgIFxuICAgIC8vIFNlYXJjaCBmaWx0ZXJcbiAgICBpZiAoc2VhcmNoUXVlcnkpIHtcbiAgICAgIGNvbnN0IHF1ZXJ5ID0gc2VhcmNoUXVlcnkudG9Mb3dlckNhc2UoKTtcbiAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuZmlsdGVyKGNvbXAgPT4gXG4gICAgICAgIGNvbXAubmFtZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICBjb21wLmVxdWlwZS50b0xvd2VyQ2FzZSgpLmluY2x1ZGVzKHF1ZXJ5KSB8fFxuICAgICAgICBjb21wLmJveENvZGUudG9Mb3dlckNhc2UoKS5pbmNsdWRlcyhxdWVyeSlcbiAgICAgICk7XG4gICAgfVxuICAgIFxuICAgIC8vIFR5cGUgZmlsdGVyc1xuICAgIHN3aXRjaCAoZmlsdGVyVHlwZSkge1xuICAgICAgY2FzZSAndG9wMyc6XG4gICAgICAgIGZpbHRlcmVkID0gZmlsdGVyZWQuc2xpY2UoMCwgMyk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAndG9wMTAnOlxuICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLnNsaWNlKDAsIDEwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd3aXRoR3Jvc3NlUHJpc2UnOlxuICAgICAgICBmaWx0ZXJlZCA9IGZpbHRlcmVkLmZpbHRlcihjb21wID0+IGNvbXAuZ3Jvc3NlUHJpc2UgPiAwKTtcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIFxuICAgIHJldHVybiBmaWx0ZXJlZDtcbiAgfSwgW3NvcnRlZENvbXBldGl0b3JzLCBzZWFyY2hRdWVyeSwgZmlsdGVyVHlwZV0pO1xuXG4gIGNvbnN0IGdldFNlY3RvckNvbG9yID0gKHNlY3Rvcjogc3RyaW5nKSA9PiB7XG4gICAgY29uc3QgY29sb3JzOiB7IFtrZXk6IHN0cmluZ106IHN0cmluZyB9ID0ge1xuICAgICAgQTogJ2JnLXNlY3RvcnMtQSB0ZXh0LXdoaXRlJyxcbiAgICAgIEI6ICdiZy1zZWN0b3JzLUIgdGV4dC13aGl0ZScsXG4gICAgICBDOiAnYmctc2VjdG9ycy1DIHRleHQtd2hpdGUnLFxuICAgICAgRDogJ2JnLXNlY3RvcnMtRCB0ZXh0LXdoaXRlJyxcbiAgICAgIEU6ICdiZy1zZWN0b3JzLUUgdGV4dC13aGl0ZScsXG4gICAgICBGOiAnYmctc2VjdG9ycy1GIHRleHQtd2hpdGUnLFxuICAgIH07XG4gICAgcmV0dXJuIGNvbG9yc1tzZWN0b3JdIHx8ICdiZy1ncmF5LTUwMCB0ZXh0LXdoaXRlJztcbiAgfTtcblxuICBjb25zdCBoYW5kbGVTb3J0ID0gKGZpZWxkOiBzdHJpbmcpID0+IHtcbiAgICBpZiAoc29ydEZpZWxkID09PSBmaWVsZCkge1xuICAgICAgc2V0U29ydERpcmVjdGlvbihzb3J0RGlyZWN0aW9uID09PSAnYXNjJyA/ICdkZXNjJyA6ICdhc2MnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc2V0U29ydEZpZWxkKGZpZWxkKTtcbiAgICAgIHNldFNvcnREaXJlY3Rpb24oZmllbGQgPT09ICdjbGFzc2VtZW50U2VjdGV1cicgPyAnYXNjJyA6ICdkZXNjJyk7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGZvcm1hdENvZWZmaWNpZW50ID0gKHZhbHVlOiBudW1iZXIpOiBzdHJpbmcgPT4ge1xuICAgIHJldHVybiB2YWx1ZS50b0xvY2FsZVN0cmluZygnZnItRlInLCB7IFxuICAgICAgbWluaW11bUZyYWN0aW9uRGlnaXRzOiAzLCBcbiAgICAgIG1heGltdW1GcmFjdGlvbkRpZ2l0czogMyBcbiAgICB9KTtcbiAgfTtcblxuICBjb25zdCBnZXRSYW5rSWNvbiA9IChyYW5rOiBudW1iZXIpID0+IHtcbiAgICBzd2l0Y2ggKHJhbmspIHtcbiAgICAgIGNhc2UgMTpcbiAgICAgICAgcmV0dXJuIDxUcm9waHkgY2xhc3NOYW1lPVwidy00IGgtNCB0ZXh0LXllbGxvdy01MDBcIiAvPjtcbiAgICAgIGNhc2UgMjpcbiAgICAgICAgcmV0dXJuIDxNZWRhbCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtZ3JheS00MDBcIiAvPjtcbiAgICAgIGNhc2UgMzpcbiAgICAgICAgcmV0dXJuIDxBd2FyZCBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtYW1iZXItNjAwXCIgLz47XG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm4gPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1zbSBmb250LWJvbGQgdGV4dC1ncmF5LTUwMFwiPiN7cmFua308L3NwYW4+O1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBoYW5kbGVEb3dubG9hZFBERiA9ICgpID0+IHtcbiAgICBjb25zdCBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCdmci1GUicsIHsgXG4gICAgICB0aW1lWm9uZTogJ0FmcmljYS9UdW5pcycsXG4gICAgICB3ZWVrZGF5OiAnbG9uZycsXG4gICAgICB5ZWFyOiAnbnVtZXJpYycsXG4gICAgICBtb250aDogJ2xvbmcnLFxuICAgICAgZGF5OiAnbnVtZXJpYydcbiAgICB9KTtcbiAgICBcbiAgICBjb25zdCBjdXJyZW50VGltZSA9IG5ldyBEYXRlKCkudG9Mb2NhbGVUaW1lU3RyaW5nKCdmci1GUicsIHtcbiAgICAgIHRpbWVab25lOiAnQWZyaWNhL1R1bmlzJyxcbiAgICAgIGhvdXI6ICcyLWRpZ2l0JyxcbiAgICAgIG1pbnV0ZTogJzItZGlnaXQnLFxuICAgICAgc2Vjb25kOiAnMi1kaWdpdCdcbiAgICB9KTtcblxuICAgIGNvbnN0IGxvZ29IdG1sID0gZmlyZXN0b3JlUHVibGljU2V0dGluZ3M/LmxvZ29zPy5saWdodCB8fCBmaXJlc3RvcmVQdWJsaWNTZXR0aW5ncz8ubG9nb3M/LmRhcmtcbiAgICAgID8gYDxpbWcgc3JjPVwiJHtmaXJlc3RvcmVQdWJsaWNTZXR0aW5ncy5sb2dvcy5saWdodCB8fCBmaXJlc3RvcmVQdWJsaWNTZXR0aW5ncy5sb2dvcy5kYXJrfVwiIGFsdD1cIlRpdGFuaXVtIFR1bmlzaWEgT3BlblwiIHN0eWxlPVwiaGVpZ2h0OiA4MHB4OyBtYXJnaW46IDAgYXV0byAyMHB4IGF1dG87IGRpc3BsYXk6IGJsb2NrO1wiIC8+YFxuICAgICAgOiBgPGRpdiBzdHlsZT1cInRleHQtYWxpZ246IGNlbnRlcjsgbWFyZ2luLWJvdHRvbTogMjBweDtcIj5cbiAgICAgICAgICAgPGgxIHN0eWxlPVwiY29sb3I6ICMwZWE1ZTk7IGZvbnQtc2l6ZTogMjRweDsgbWFyZ2luOiAwO1wiPlRpdGFuaXVtIFR1bmlzaWEgT3BlbjwvaDE+XG4gICAgICAgICA8L2Rpdj5gO1xuXG4gICAgY29uc3QgdGFibGVIVE1MID0gYFxuICAgICAgPCFET0NUWVBFIGh0bWw+XG4gICAgICA8aHRtbD5cbiAgICAgICAgPGhlYWQ+XG4gICAgICAgICAgPG1ldGEgY2hhcnNldD1cIlVURi04XCI+XG4gICAgICAgICAgPHRpdGxlPkNsYXNzZW1lbnQgU2VjdGV1ciAke2FjdGl2ZVNlY3Rvcn0gLSBUaXRhbml1bSBUdW5pc2lhIE9wZW48L3RpdGxlPlxuICAgICAgICAgIDxzdHlsZT5cbiAgICAgICAgICAgIEBwYWdlIHsgXG4gICAgICAgICAgICAgIHNpemU6IEE0OyBcbiAgICAgICAgICAgICAgbWFyZ2luOiAyMG1tOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGJvZHkgeyBcbiAgICAgICAgICAgICAgZm9udC1mYW1pbHk6IEFyaWFsLCBzYW5zLXNlcmlmOyBcbiAgICAgICAgICAgICAgbWFyZ2luOiAwOyBcbiAgICAgICAgICAgICAgcGFkZGluZzogMDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAgICAgICAgICAgICBsaW5lLWhlaWdodDogMS40O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmhlYWRlciB7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgICAgICAgICAgICAgbWFyZ2luLWJvdHRvbTogMzBweDtcbiAgICAgICAgICAgICAgYm9yZGVyLWJvdHRvbTogMnB4IHNvbGlkICMwZWE1ZTk7XG4gICAgICAgICAgICAgIHBhZGRpbmctYm90dG9tOiAyMHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLnRhZ2xpbmUge1xuICAgICAgICAgICAgICBmb250LXN0eWxlOiBpdGFsaWM7XG4gICAgICAgICAgICAgIGNvbG9yOiAjNjY2O1xuICAgICAgICAgICAgICBtYXJnaW46IDEwcHggMDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxNHB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLmV2ZW50LWluZm8ge1xuICAgICAgICAgICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgICAgICAgICAgICAgY29sb3I6ICMwZWE1ZTk7XG4gICAgICAgICAgICAgIG1hcmdpbjogMTBweCAwO1xuICAgICAgICAgICAgICBmb250LXNpemU6IDE2cHg7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAuZGlzY2xhaW1lciB7XG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmZmYzY2Q7XG4gICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNmZmVhYTc7XG4gICAgICAgICAgICAgIHBhZGRpbmc6IDEwcHg7XG4gICAgICAgICAgICAgIG1hcmdpbjogMjBweCAwO1xuICAgICAgICAgICAgICBib3JkZXItcmFkaXVzOiA0cHg7XG4gICAgICAgICAgICAgIGZvbnQtc3R5bGU6IGl0YWxpYztcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLm1ldGEtaW5mbyB7XG4gICAgICAgICAgICAgIHRleHQtYWxpZ246IHJpZ2h0O1xuICAgICAgICAgICAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgICAgICAgICAgICBjb2xvcjogIzY2NjtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGFibGUgeyBcbiAgICAgICAgICAgICAgd2lkdGg6IDEwMCU7IFxuICAgICAgICAgICAgICBib3JkZXItY29sbGFwc2U6IGNvbGxhcHNlOyBcbiAgICAgICAgICAgICAgbWFyZ2luLXRvcDogMjBweDtcbiAgICAgICAgICAgICAgZm9udC1zaXplOiAxMXB4O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGgsIHRkIHsgXG4gICAgICAgICAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQ7IFxuICAgICAgICAgICAgICBwYWRkaW5nOiA2cHggOHB4OyBcbiAgICAgICAgICAgICAgdGV4dC1hbGlnbjogbGVmdDsgXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aCB7IFxuICAgICAgICAgICAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZjhmOWZhOyBcbiAgICAgICAgICAgICAgZm9udC13ZWlnaHQ6IGJvbGQ7XG4gICAgICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcbiAgICAgICAgICAgICAgdGV4dC10cmFuc2Zvcm06IHVwcGVyY2FzZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIC5yYW5rLTEgeyBiYWNrZ3JvdW5kLWNvbG9yOiAjZmZmM2NkOyB9XG4gICAgICAgICAgICAucmFuay0yIHsgYmFja2dyb3VuZC1jb2xvcjogI2Y4ZjlmYTsgfVxuICAgICAgICAgICAgLnJhbmstMyB7IGJhY2tncm91bmQtY29sb3I6ICNmZmVhYTc7IH1cbiAgICAgICAgICAgIC50ZXh0LWNlbnRlciB7IHRleHQtYWxpZ246IGNlbnRlcjsgfVxuICAgICAgICAgICAgLmZvbnQtbW9ubyB7IGZvbnQtZmFtaWx5OiAnQ291cmllciBOZXcnLCBtb25vc3BhY2U7IH1cbiAgICAgICAgICAgIC50b3RhbHMtcm93IHsgXG4gICAgICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNmOGY5ZmE7IFxuICAgICAgICAgICAgICBib3JkZXItdG9wOiAycHggc29saWQgI2RlZTJlNjsgXG4gICAgICAgICAgICAgIGZvbnQtd2VpZ2h0OiBib2xkOyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICA8L3N0eWxlPlxuICAgICAgICA8L2hlYWQ+XG4gICAgICAgIDxib2R5PlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJoZWFkZXJcIj5cbiAgICAgICAgICAgICR7bG9nb0h0bWx9XG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFnbGluZVwiPlRoZSBtb3N0IGx1eHVyaW91cyBTdXJmY2FzdGluZyBjb21wZXRpdGlvbiBpbiB0aGUgd29ybGQ8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJldmVudC1pbmZvXCI+VElUQU5JVU0gVFVOSVNJQSBPUEVOIC0gNiBzZXB0ZW1icmUgMjAyNSAtIFJhb3VlZCwgVHVuaXNpZTwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImRpc2NsYWltZXJcIj5cbiAgICAgICAgICAgICAgQ2xhc3NlbWVudCBwcm92aXNvaXJlIOKAlCBzdXNjZXB0aWJsZSBkJ8OqdHJlIG1vZGlmacOpIGp1c3F1J8OgIHB1YmxpY2F0aW9uIGRlcyByw6lzdWx0YXRzIG9mZmljaWVscy5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZXRhLWluZm9cIj5cbiAgICAgICAgICAgIEfDqW7DqXLDqSBsZSAke2N1cnJlbnREYXRlfSDDoCAke2N1cnJlbnRUaW1lfSAoUmFvdWVkLCBUdW5pc2llKVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIFxuICAgICAgICAgIDxoMiBzdHlsZT1cImNvbG9yOiAjMGVhNWU5OyBtYXJnaW4tYm90dG9tOiAyMHB4O1wiPkNsYXNzZW1lbnQgU2VjdGV1ciAke2FjdGl2ZVNlY3Rvcn08L2gyPlxuICAgICAgICAgIFxuICAgICAgICAgIDx0YWJsZT5cbiAgICAgICAgICAgIDx0aGVhZD5cbiAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgIDx0aD5Cb3ggTsKwPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+Q29tcMOpdGl0ZXVyPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+w4lxdWlwZTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPk5iIFByaXNlcyBnbG9iYWw8L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5Qb2lkcyBUb3RhbCBnbG9iYWwgKGcpPC90aD5cbiAgICAgICAgICAgICAgICA8dGg+R3Jvc3NlIHByaXNlIChnKTwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPlBvaW50czwvdGg+XG4gICAgICAgICAgICAgICAgPHRoPkNvZWZmaWNpZW50IHNlY3RldXI8L3RoPlxuICAgICAgICAgICAgICAgIDx0aD5DbGFzc2VtZW50IFNlY3RldXI8L3RoPlxuICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgPC90aGVhZD5cbiAgICAgICAgICAgIDx0Ym9keT5cbiAgICAgICAgICAgICAgJHtmaWx0ZXJlZENvbXBldGl0b3JzLm1hcChjb21wID0+IGBcbiAgICAgICAgICAgICAgICA8dHIgY2xhc3M9XCIke2NvbXAuY2xhc3NlbWVudFNlY3RldXIgPD0gMyA/IGByYW5rLSR7Y29tcC5jbGFzc2VtZW50U2VjdGV1cn1gIDogJyd9XCI+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJmb250LW1vbm9cIj4ke2NvbXAuYm94Q29kZX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkPiR7Y29tcC5uYW1lfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQ+JHtjb21wLmVxdWlwZX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj4ke2NvbXAubmJQcmlzZXNHbG9iYWx9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+JHtmb3JtYXROdW1iZXIoY29tcC5wb2lkc1RvdGFsR2xvYmFsKX08L3RkPlxuICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj4ke2NvbXAuZ3Jvc3NlUHJpc2UgPiAwID8gZm9ybWF0TnVtYmVyKGNvbXAuZ3Jvc3NlUHJpc2UpIDogJ+KAlCd9PC90ZD5cbiAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+JHtmb3JtYXROdW1iZXIoY29tcC5wb2ludHMpfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlciBmb250LW1vbm9cIj4ke2Zvcm1hdENvZWZmaWNpZW50KGNvbXAuY29lZmZpY2llbnQpfTwvdGQ+XG4gICAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPjxzdHJvbmc+JHtjb21wLmNsYXNzZW1lbnRTZWN0ZXVyfTwvc3Ryb25nPjwvdGQ+XG4gICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgYCkuam9pbignJyl9XG4gICAgICAgICAgICAgIDx0ciBjbGFzcz1cInRvdGFscy1yb3dcIj5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJmb250LW1vbm9cIj5UT1RBTDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPuKAlDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkPuKAlDwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj4ke2Zvcm1hdE51bWJlcihzZWN0b3JUb3RhbHMubmJQcmlzZXNHbG9iYWwpfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj4ke2Zvcm1hdE51bWJlcihzZWN0b3JUb3RhbHMucG9pZHNUb3RhbEdsb2JhbCl9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPiR7c2VjdG9yVG90YWxzLmdyb3NzZVByaXNlTWF4ID4gMCA/IGZvcm1hdE51bWJlcihzZWN0b3JUb3RhbHMuZ3Jvc3NlUHJpc2VNYXgpIDogJ+KAlCd9PC90ZD5cbiAgICAgICAgICAgICAgICA8dGQgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPiR7Zm9ybWF0TnVtYmVyKHNlY3RvclRvdGFscy5wb2ludHMpfTwvdGQ+XG4gICAgICAgICAgICAgICAgPHRkIGNsYXNzPVwidGV4dC1jZW50ZXJcIj7igJQ8L3RkPlxuICAgICAgICAgICAgICAgIDx0ZCBjbGFzcz1cInRleHQtY2VudGVyXCI+4oCUPC90ZD5cbiAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgIDwvdGJvZHk+XG4gICAgICAgICAgPC90YWJsZT5cbiAgICAgICAgICBcbiAgICAgICAgICA8ZGl2IHN0eWxlPVwibWFyZ2luLXRvcDogMzBweDsgdGV4dC1hbGlnbjogY2VudGVyOyBjb2xvcjogIzY2NjsgZm9udC1zaXplOiAxMHB4O1wiPlxuICAgICAgICAgICAgRG9jdW1lbnQgZ8OpbsOpcsOpIGF1dG9tYXRpcXVlbWVudCBwYXIgbGUgc3lzdMOobWUgVGl0YW5pdW0gVHVuaXNpYSBPcGVuXG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvYm9keT5cbiAgICAgIDwvaHRtbD5cbiAgICBgLnRyaW0oKTtcblxuICAgIC8vIENyZWF0ZSBhbmQgZG93bmxvYWQgUERGLXJlYWR5IEhUTUxcbiAgICBjb25zdCBibG9iID0gbmV3IEJsb2IoW3RhYmxlSFRNTF0sIHsgdHlwZTogJ3RleHQvaHRtbDtjaGFyc2V0PXV0Zi04JyB9KTtcbiAgICBjb25zdCB1cmwgPSBVUkwuY3JlYXRlT2JqZWN0VVJMKGJsb2IpO1xuICAgIGNvbnN0IGEgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7XG4gICAgYS5ocmVmID0gdXJsO1xuICAgIGEuZG93bmxvYWQgPSBgY2xhc3NlbWVudC1zZWN0ZXVyLSR7YWN0aXZlU2VjdG9yfS0ke25ldyBEYXRlKCkudG9JU09TdHJpbmcoKS5zbGljZSgwLCAxMCl9Lmh0bWxgO1xuICAgIGEuY2xpY2soKTtcbiAgICBVUkwucmV2b2tlT2JqZWN0VVJMKHVybCk7XG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8c2VjdGlvbiBpZD1cImNsYXNzZW1lbnQtc2VjdGV1clwiIGNsYXNzTmFtZT1cInB5LTE2IGJnLWdyYWRpZW50LXRvLWJyIGZyb20tc2FuZC01MCB0by1jb3JhbC01MCBkYXJrOmZyb20tZ3JheS04MDAgZGFyazp0by1ncmF5LTkwMFwiPlxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXIgbXgtYXV0byBweC00XCI+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgbWItMTJcIj5cbiAgICAgICAgICA8aDIgY2xhc3NOYW1lPVwidGV4dC0zeGwgbWQ6dGV4dC00eGwgZm9udC1ib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LXdoaXRlIG1iLTRcIj5cbiAgICAgICAgICAgIENsYXNzZW1lbnQgcGFyIHNlY3RldXIgKGVuIGRpcmVjdClcbiAgICAgICAgICA8L2gyPlxuICAgICAgICAgIDxwIGNsYXNzTmFtZT1cInRleHQteGwgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgbWF4LXctMnhsIG14LWF1dG9cIj5cbiAgICAgICAgICAgIENsYXNzZW1lbnRzIGTDqXRhaWxsw6lzIHBhciBzZWN0ZXVyIGF2ZWMgY2FsY3VscyBlbiB0ZW1wcyByw6llbFxuICAgICAgICAgIDwvcD5cbiAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgPENhcmQgY2xhc3NOYW1lPVwibWF4LXctN3hsIG14LWF1dG9cIj5cbiAgICAgICAgICA8Q2FyZEhlYWRlcj5cbiAgICAgICAgICAgIDxDYXJkVGl0bGUgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInctMyBoLTMgYmctZ3JlZW4tNTAwIHJvdW5kZWQtZnVsbCBhbmltYXRlLXB1bHNlXCIgLz5cbiAgICAgICAgICAgICAgICA8c3Bhbj5DbGFzc2VtZW50IFNlY3RldXIge2FjdGl2ZVNlY3Rvcn0gZW4gRGlyZWN0PC9zcGFuPlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPEJ1dHRvblxuICAgICAgICAgICAgICAgIHZhcmlhbnQ9XCJvdXRsaW5lXCJcbiAgICAgICAgICAgICAgICBzaXplPVwic21cIlxuICAgICAgICAgICAgICAgIG9uQ2xpY2s9e2hhbmRsZURvd25sb2FkUERGfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiXG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICA8RG93bmxvYWQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgICAgICAgPHNwYW4+VMOpbMOpY2hhcmdlciBlbiBQREY8L3NwYW4+XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9DYXJkVGl0bGU+XG4gICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgIDxDYXJkQ29udGVudD5cbiAgICAgICAgICAgIHsvKiBTZWN0b3IgVGFicyAqL31cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LXdyYXAganVzdGlmeS1jZW50ZXIgZ2FwLTIgbWItNlwiPlxuICAgICAgICAgICAgICB7c2VjdG9ycy5tYXAoc2VjdG9yID0+IChcbiAgICAgICAgICAgICAgICA8YnV0dG9uXG4gICAgICAgICAgICAgICAgICBrZXk9e3NlY3Rvcn1cbiAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IHNldEFjdGl2ZVNlY3RvcihzZWN0b3IpfVxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPXtgcHgtNCBweS0yIHJvdW5kZWQtZnVsbCB0cmFuc2l0aW9uLWFsbCBmb250LW1lZGl1bSAke1xuICAgICAgICAgICAgICAgICAgICBhY3RpdmVTZWN0b3IgPT09IHNlY3RvclxuICAgICAgICAgICAgICAgICAgICAgID8gZ2V0U2VjdG9yQ29sb3Ioc2VjdG9yKVxuICAgICAgICAgICAgICAgICAgICAgIDogJ2JnLWdyYXktMTAwIGRhcms6YmctZ3JheS03MDAgdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS0zMDAgaG92ZXI6YmctZ3JheS0yMDAgZGFyazpob3ZlcjpiZy1ncmF5LTYwMCdcbiAgICAgICAgICAgICAgICAgIH1gfVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIFNlY3RldXIge3NlY3Rvcn1cbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICA8L2Rpdj5cblxuICAgICAgICAgICAgey8qIEZpbHRlcnMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC1jb2wgc206ZmxleC1yb3cgZ2FwLTQgbWItNlwiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXgtMSByZWxhdGl2ZVwiPlxuICAgICAgICAgICAgICAgIDxTZWFyY2ggY2xhc3NOYW1lPVwiYWJzb2x1dGUgbGVmdC0zIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgdGV4dC1ncmF5LTQwMCB3LTQgaC00XCIgLz5cbiAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgIHR5cGU9XCJ0ZXh0XCJcbiAgICAgICAgICAgICAgICAgIHZhbHVlPXtzZWFyY2hRdWVyeX1cbiAgICAgICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0U2VhcmNoUXVlcnkoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJSZWNoZXJjaGVyIHBhciBub20gb3UgYm94Li4uXCJcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctZnVsbCBwbC0xMCBwci00IHB5LTIgYm9yZGVyIGJvcmRlci1ncmF5LTMwMCBkYXJrOmJvcmRlci1ncmF5LTYwMCByb3VuZGVkLWxnIGJnLXdoaXRlIGRhcms6YmctZ3JheS04MDAgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgdGV4dC1zbVwiXG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxzZWxlY3RcbiAgICAgICAgICAgICAgICB2YWx1ZT17ZmlsdGVyVHlwZX1cbiAgICAgICAgICAgICAgICBvbkNoYW5nZT17KGUpID0+IHNldEZpbHRlclR5cGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTMgcHktMiBib3JkZXIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwIHJvdW5kZWQtbGcgYmctd2hpdGUgZGFyazpiZy1ncmF5LTgwMCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSB0ZXh0LXNtXCJcbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJhbGxcIj5Ub3VzPC9vcHRpb24+XG4gICAgICAgICAgICAgICAgPG9wdGlvbiB2YWx1ZT1cInRvcDNcIj5Ub3AgMzwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ0b3AxMFwiPlRvcCAxMDwvb3B0aW9uPlxuICAgICAgICAgICAgICAgIDxvcHRpb24gdmFsdWU9XCJ3aXRoR3Jvc3NlUHJpc2VcIj5BdmVjIGdyb3NzZSBwcmlzZTwvb3B0aW9uPlxuICAgICAgICAgICAgICA8L3NlbGVjdD5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogQ29ubmVjdGlvbiBTdGF0dXMgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktYmV0d2VlbiBtYi00IHAtMyBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAgcm91bmRlZC1sZ1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMlwiPlxuICAgICAgICAgICAgICAgIHtpc09ubGluZSA/IChcbiAgICAgICAgICAgICAgICAgIDw+XG4gICAgICAgICAgICAgICAgICAgIDxXaWZpIGNsYXNzTmFtZT1cInctNCBoLTQgdGV4dC1ncmVlbi01MDBcIiAvPlxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDBcIj5Db25uZWN0w6kgLSBEb25uw6llcyBlbiB0ZW1wcyByw6llbDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgIDwvPlxuICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8V2lmaU9mZiBjbGFzc05hbWU9XCJ3LTQgaC00IHRleHQtcmVkLTUwMFwiIC8+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1yZWQtNjAwIGRhcms6dGV4dC1yZWQtNDAwXCI+SG9ycyBsaWduZSAtIERlcm5pw6hyZXMgZG9ubsOpZXMgZGlzcG9uaWJsZXM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXhzIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAge2ZpbHRlcmVkQ29tcGV0aXRvcnMubGVuZ3RofSBjb21ww6l0aXRldXJ7ZmlsdGVyZWRDb21wZXRpdG9ycy5sZW5ndGggPiAxID8gJ3MnIDogJyd9IGFmZmljaMOpe2ZpbHRlcmVkQ29tcGV0aXRvcnMubGVuZ3RoID4gMSA/ICdzJyA6ICcnfVxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICB7LyogVGFibGUgKi99XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cIm92ZXJmbG93LXgtYXV0b1wiPlxuICAgICAgICAgICAgICA8dGFibGUgY2xhc3NOYW1lPVwidy1mdWxsXCI+XG4gICAgICAgICAgICAgICAgPHRoZWFkIGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCBzdGlja3kgdG9wLTAgei0xMFwiPlxuICAgICAgICAgICAgICAgICAgPHRyPlxuICAgICAgICAgICAgICAgICAgICA8dGggXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwic3RpY2t5IGxlZnQtMCBiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAgcHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBib3JkZXItciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDAgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnYm94TnVtYmVyJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Qm94IE7CsDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1VwRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnbmFtZScpfVxuICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJmbGV4IGl0ZW1zLWNlbnRlciBzcGFjZS14LTFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuPkNvbXDDqXRpdGV1cjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1VwRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnZXF1aXBlJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+w4lxdWlwZTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1VwRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnbmJQcmlzZXNHbG9iYWwnKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5OYiBQcmlzZXMgZ2xvYmFsPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93VXBEb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KCdwb2lkc1RvdGFsJyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+UG9pZHMgVG90YWwgZ2xvYmFsIChnKTwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1VwRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnZ3Jvc3NlUHJpc2UnKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Hcm9zc2UgcHJpc2UgKGcpPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgPEFycm93VXBEb3duIGNsYXNzTmFtZT1cInctMyBoLTNcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L3RoPlxuICAgICAgICAgICAgICAgICAgICA8dGggXG4gICAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwicHgtNCBweS0zIHRleHQtbGVmdCB0ZXh0LXhzIGZvbnQtbWVkaXVtIHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwIHVwcGVyY2FzZSB0cmFja2luZy13aWRlciBjdXJzb3ItcG9pbnRlciBob3ZlcjpiZy1ncmF5LTEwMCBkYXJrOmhvdmVyOmJnLWdyYXktNzAwXCJcbiAgICAgICAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiBoYW5kbGVTb3J0KCdwb2ludHMnKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5Qb2ludHM8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dVcERvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICAgIDx0aCBcbiAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJweC00IHB5LTMgdGV4dC1sZWZ0IHRleHQteHMgZm9udC1tZWRpdW0gdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDAgdXBwZXJjYXNlIHRyYWNraW5nLXdpZGVyIGN1cnNvci1wb2ludGVyIGhvdmVyOmJnLWdyYXktMTAwIGRhcms6aG92ZXI6YmctZ3JheS03MDBcIlxuICAgICAgICAgICAgICAgICAgICAgIG9uQ2xpY2s9eygpID0+IGhhbmRsZVNvcnQoJ2NvZWZmaWNpZW50Jyl9XG4gICAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4+Q29lZmZpY2llbnQgc2VjdGV1cjwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxBcnJvd1VwRG93biBjbGFzc05hbWU9XCJ3LTMgaC0zXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC90aD5cbiAgICAgICAgICAgICAgICAgICAgPHRoIFxuICAgICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInB4LTQgcHktMyB0ZXh0LWxlZnQgdGV4dC14cyBmb250LW1lZGl1bSB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMCB1cHBlcmNhc2UgdHJhY2tpbmctd2lkZXIgY3Vyc29yLXBvaW50ZXIgaG92ZXI6YmctZ3JheS0xMDAgZGFyazpob3ZlcjpiZy1ncmF5LTcwMFwiXG4gICAgICAgICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gaGFuZGxlU29ydCgnY2xhc3NlbWVudFNlY3RldXInKX1cbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgc3BhY2UteC0xXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3Bhbj5DbGFzc2VtZW50IFNlY3RldXI8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICA8QXJyb3dVcERvd24gY2xhc3NOYW1lPVwidy0zIGgtM1wiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvdGg+XG4gICAgICAgICAgICAgICAgICA8L3RyPlxuICAgICAgICAgICAgICAgIDwvdGhlYWQ+XG4gICAgICAgICAgICAgICAgPHRib2R5IGNsYXNzTmFtZT1cImJnLXdoaXRlIGRhcms6YmctZ3JheS05MDAgZGl2aWRlLXkgZGl2aWRlLWdyYXktMjAwIGRhcms6ZGl2aWRlLWdyYXktNzAwXCI+XG4gICAgICAgICAgICAgICAgICA8QW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgICB7ZmlsdGVyZWRDb21wZXRpdG9ycy5tYXAoKGNvbXBldGl0b3IsIGluZGV4KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgaXNUb3BUaHJlZSA9IGNvbXBldGl0b3IuY2xhc3NlbWVudFNlY3RldXIgPD0gMztcbiAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPG1vdGlvbi50clxuICAgICAgICAgICAgICAgICAgICAgICAgICBrZXk9e2NvbXBldGl0b3IuaWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWw9e3sgb3BhY2l0eTogMCwgeTogMjAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgYW5pbWF0ZT17eyBvcGFjaXR5OiAxLCB5OiAwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIGV4aXQ9e3sgb3BhY2l0eTogMCwgeTogLTIwIH19XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHRyYW5zaXRpb249e3sgZHVyYXRpb246IDAuMywgZGVsYXk6IGluZGV4ICogMC4wMiB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9e2NuKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzVG9wVGhyZWUgJiYgJ2JnLXllbGxvdy01MCBkYXJrOmJnLXllbGxvdy05MDAvMTAnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdob3ZlcjpiZy1ncmF5LTUwIGRhcms6aG92ZXI6YmctZ3JheS04MDAnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBCb3ggTnVtYmVyIC0gU3RpY2t5ICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwic3RpY2t5IGxlZnQtMCBiZy13aGl0ZSBkYXJrOmJnLWdyYXktOTAwIHB4LTQgcHktNCBib3JkZXItciBib3JkZXItZ3JheS0yMDAgZGFyazpib3JkZXItZ3JheS03MDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1vbm8gZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbXBldGl0b3IuYm94Q29kZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogQ29tcGV0aXRvciAqL31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB3aGl0ZXNwYWNlLW5vd3JhcFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtbWVkaXVtIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5uYW1lfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiDDiXF1aXBlICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNCBweS00IHdoaXRlc3BhY2Utbm93cmFwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwidGV4dC1ncmF5LTgwMCBkYXJrOnRleHQtZ3JheS0yMDBcIj57Y29tcGV0aXRvci5lcXVpcGV9PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIE5iIFByaXNlcyBnbG9iYWwgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5uYlByaXNlc0dsb2JhbH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogUG9pZHMgVG90YWwgZ2xvYmFsICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNCBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1zZW1pYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdE51bWJlcihjb21wZXRpdG9yLnBvaWRzVG90YWxHbG9iYWwpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBHcm9zc2UgcHJpc2UgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5uYlByaXNlc0dsb2JhbCA9PT0gMCAmJiBjb21wZXRpdG9yLnBvaWRzVG90YWxHbG9iYWwgPT09IDAgJiYgY29tcGV0aXRvci5ncm9zc2VQcmlzZSA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNTAwXCI+4oCUPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LXNlbWlib2xkIHRleHQtZ3JheS05MDAgZGFyazp0ZXh0LWdyYXktMTAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtjb21wZXRpdG9yLmdyb3NzZVByaXNlID4gMCA/IGZvcm1hdE51bWJlcihjb21wZXRpdG9yLmdyb3NzZVByaXNlKSA6ICfigJQnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgICB7LyogUG9pbnRzICovfVxuICAgICAgICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNCBweS00IHdoaXRlc3BhY2Utbm93cmFwIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3NOYW1lPVwiZm9udC1ib2xkIHRleHQtbGcgdGV4dC1vY2Vhbi02MDAgZGFyazp0ZXh0LW9jZWFuLTQwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2Zvcm1hdE51bWJlcihjb21wZXRpdG9yLnBvaW50cyl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgey8qIENvZWZmaWNpZW50IHNlY3RldXIgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5uYlByaXNlc0dsb2JhbCA9PT0gMCAmJiBjb21wZXRpdG9yLnBvaWRzVG90YWxHbG9iYWwgPT09IDAgJiYgY29tcGV0aXRvci5ncm9zc2VQcmlzZSA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNTAwXCI+4oCUPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LW1vbm8gdGV4dC1zbSB0ZXh0LWdyYXktODAwIGRhcms6dGV4dC1ncmF5LTIwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0Q29lZmZpY2llbnQoY29tcGV0aXRvci5jb2VmZmljaWVudCl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgIHsvKiBDbGFzc2VtZW50IFNlY3RldXIgKi99XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgd2hpdGVzcGFjZS1ub3dyYXAgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5uYlByaXNlc0dsb2JhbCA9PT0gMCAmJiBjb21wZXRpdG9yLnBvaWRzVG90YWxHbG9iYWwgPT09IDAgJiYgY29tcGV0aXRvci5ncm9zc2VQcmlzZSA9PT0gMCA/IChcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cInRleHQtZ3JheS00MDAgZGFyazp0ZXh0LWdyYXktNTAwXCI+4oCUPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkgOiAoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGp1c3RpZnktY2VudGVyIHNwYWNlLXgtMVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7Y29tcGV0aXRvci5jbGFzc2VtZW50U2VjdGV1ciA8PSAzICYmIGdldFJhbmtJY29uKGNvbXBldGl0b3IuY2xhc3NlbWVudFNlY3RldXIpfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9e2NuKCdmb250LWJvbGQgdGV4dC1sZycsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBldGl0b3IuY2xhc3NlbWVudFNlY3RldXIgPT09IDEgPyAndGV4dC15ZWxsb3ctNjAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5jbGFzc2VtZW50U2VjdGV1ciA9PT0gMiA/ICd0ZXh0LWdyYXktNTAwJyA6XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcGV0aXRvci5jbGFzc2VtZW50U2VjdGV1ciA9PT0gMyA/ICd0ZXh0LWFtYmVyLTYwMCcgOlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICd0ZXh0LW9jZWFuLTYwMCdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge2NvbXBldGl0b3IuY2xhc3NlbWVudFNlY3RldXJ9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L21vdGlvbi50cj5cbiAgICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgICAgICAgIDwvQW5pbWF0ZVByZXNlbmNlPlxuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICB7LyogVG90YWxzIFJvdyAqL31cbiAgICAgICAgICAgICAgICAgIDx0ciBjbGFzc05hbWU9XCJiZy1ncmF5LTEwMCBkYXJrOmJnLWdyYXktODAwIGJvcmRlci10LTIgYm9yZGVyLWdyYXktMzAwIGRhcms6Ym9yZGVyLWdyYXktNjAwXCI+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJzdGlja3kgbGVmdC0wIGJnLWdyYXktMTAwIGRhcms6YmctZ3JheS04MDAgcHgtNCBweS00IGJvcmRlci1yIGJvcmRlci1ncmF5LTIwMCBkYXJrOmJvcmRlci1ncmF5LTcwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPlRPVEFMPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3RkPlxuICAgICAgICAgICAgICAgICAgICA8dGQgY2xhc3NOYW1lPVwicHgtNCBweS00IHRleHQtZ3JheS01MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+4oCUPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPuKAlDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXROdW1iZXIoc2VjdG9yVG90YWxzLm5iUHJpc2VzR2xvYmFsKX1cbiAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzc05hbWU9XCJmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtZ3JheS0xMDBcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtmb3JtYXROdW1iZXIoc2VjdG9yVG90YWxzLnBvaWRzVG90YWxHbG9iYWwpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC1ncmF5LTEwMFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAge3NlY3RvclRvdGFscy5ncm9zc2VQcmlzZU1heCA+IDAgPyBmb3JtYXROdW1iZXIoc2VjdG9yVG90YWxzLmdyb3NzZVByaXNlTWF4KSA6ICfigJQnfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzTmFtZT1cImZvbnQtYm9sZCB0ZXh0LW9jZWFuLTYwMCBkYXJrOnRleHQtb2NlYW4tNDAwXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7Zm9ybWF0TnVtYmVyKHNlY3RvclRvdGFscy5wb2ludHMpfVxuICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgICAgICAgICAgICAgPHRkIGNsYXNzTmFtZT1cInB4LTQgcHktNCB0ZXh0LWNlbnRlciB0ZXh0LWdyYXktNTAwIGRhcms6dGV4dC1ncmF5LTQwMFwiPuKAlDwvdGQ+XG4gICAgICAgICAgICAgICAgICAgIDx0ZCBjbGFzc05hbWU9XCJweC00IHB5LTQgdGV4dC1jZW50ZXIgdGV4dC1ncmF5LTUwMCBkYXJrOnRleHQtZ3JheS00MDBcIj7igJQ8L3RkPlxuICAgICAgICAgICAgICAgICAgPC90cj5cbiAgICAgICAgICAgICAgICA8L3Rib2R5PlxuICAgICAgICAgICAgICA8L3RhYmxlPlxuICAgICAgICAgICAgPC9kaXY+XG5cbiAgICAgICAgICAgIHsvKiBTdW1tYXJ5IFN0YXRzICovfVxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJtdC02IGdyaWQgZ3JpZC1jb2xzLTIgbWQ6Z3JpZC1jb2xzLTQgZ2FwLTRcIj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAgcC00IHJvdW5kZWQtbGcgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LW9jZWFuLTYwMCBkYXJrOnRleHQtb2NlYW4tNDAwXCI+XG4gICAgICAgICAgICAgICAgICB7Y2FsY3VsYXRlZENvbXBldGl0b3JzLmxlbmd0aH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5Db21ww6l0aXRldXJzPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImJnLWdyYXktNTAgZGFyazpiZy1ncmF5LTgwMCBwLTQgcm91bmRlZC1sZyB0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGV4dC0yeGwgZm9udC1ib2xkIHRleHQtZ3JlZW4tNjAwIGRhcms6dGV4dC1ncmVlbi00MDBcIj5cbiAgICAgICAgICAgICAgICAgIHtmb3JtYXROdW1iZXIoc2VjdG9yVG90YWxzLm5iUHJpc2VzR2xvYmFsKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtc20gdGV4dC1ncmF5LTYwMCBkYXJrOnRleHQtZ3JheS00MDBcIj5QcmlzZXMgdG90YWxlczwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJiZy1ncmF5LTUwIGRhcms6YmctZ3JheS04MDAgcC00IHJvdW5kZWQtbGcgdGV4dC1jZW50ZXJcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtMnhsIGZvbnQtYm9sZCB0ZXh0LWJsdWUtNjAwIGRhcms6dGV4dC1ibHVlLTQwMFwiPlxuICAgICAgICAgICAgICAgICAge2Zvcm1hdFdlaWdodChzZWN0b3JUb3RhbHMucG9pZHNUb3RhbEdsb2JhbCl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+UG9pZHMgdG90YWw8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYmctZ3JheS01MCBkYXJrOmJnLWdyYXktODAwIHAtNCByb3VuZGVkLWxnIHRleHQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTJ4bCBmb250LWJvbGQgdGV4dC1wdXJwbGUtNjAwIGRhcms6dGV4dC1wdXJwbGUtNDAwXCI+XG4gICAgICAgICAgICAgICAgICB7c2VjdG9yVG90YWxzLmdyb3NzZVByaXNlTWF4ID4gMCA/IGZvcm1hdFdlaWdodChzZWN0b3JUb3RhbHMuZ3Jvc3NlUHJpc2VNYXgpIDogJ+KAlCd9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+UGx1cyBncm9zc2UgcHJpc2U8L2Rpdj5cbiAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L0NhcmRDb250ZW50PlxuICAgICAgICA8L0NhcmQ+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlTWVtbyIsInVzZUZpcmVzdG9yZSIsIkNhcmQiLCJDYXJkQ29udGVudCIsIkNhcmRIZWFkZXIiLCJDYXJkVGl0bGUiLCJCdXR0b24iLCJTZWFyY2giLCJEb3dubG9hZCIsIkFycm93VXBEb3duIiwiVHJvcGh5IiwiTWVkYWwiLCJBd2FyZCIsIldpZmkiLCJXaWZpT2ZmIiwibW90aW9uIiwiQW5pbWF0ZVByZXNlbmNlIiwiZm9ybWF0V2VpZ2h0IiwiZm9ybWF0TnVtYmVyIiwiY24iLCJMaXZlU2VjdG9yUmFua2luZ3MiLCJjb21wZXRpdG9ycyIsImZpcmVzdG9yZUNvbXBldGl0b3JzIiwiaG91cmx5RW50cmllcyIsImZpcmVzdG9yZUhvdXJseUVudHJpZXMiLCJiaWdDYXRjaGVzIiwiZmlyZXN0b3JlQmlnQ2F0Y2hlcyIsInB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyIsImZpcmVzdG9yZVB1YmxpY1NldHRpbmdzIiwic2VjdG9ycyIsImFjdGl2ZVNlY3RvciIsInNldEFjdGl2ZVNlY3RvciIsInNlYXJjaFF1ZXJ5Iiwic2V0U2VhcmNoUXVlcnkiLCJzb3J0RmllbGQiLCJzZXRTb3J0RmllbGQiLCJzb3J0RGlyZWN0aW9uIiwic2V0U29ydERpcmVjdGlvbiIsImZpbHRlclR5cGUiLCJzZXRGaWx0ZXJUeXBlIiwiaXNPbmxpbmUiLCJzZXRJc09ubGluZSIsIm5hdmlnYXRvciIsIm9uTGluZSIsImhhbmRsZU9ubGluZSIsImhhbmRsZU9mZmxpbmUiLCJ3aW5kb3ciLCJhZGRFdmVudExpc3RlbmVyIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImhvdXJseURhdGFCeUNvbXBldGl0b3IiLCJkYXRhIiwiZm9yRWFjaCIsImVudHJ5IiwiY29tcGV0aXRvcklkIiwiaG91ciIsImZpc2hDb3VudCIsInRvdGFsV2VpZ2h0Iiwic3RhdHVzIiwidGltZXN0YW1wIiwidG9EYXRlIiwiRGF0ZSIsImJpZ0NhdGNoZXNCeUNvbXBldGl0b3IiLCJncm9zc2VQcmlzZSIsImNhbGN1bGF0ZWRDb21wZXRpdG9ycyIsImN1cnJlbnRDb21wZXRpdG9ycyIsImZpbHRlciIsImNvbXAiLCJzZWN0b3IiLCJjYWxjdWxhdGVkIiwibWFwIiwiY29tcGV0aXRvciIsIm5iUHJpc2VzR2xvYmFsIiwicG9pZHNUb3RhbEdsb2JhbCIsImxhc3RWYWxpZEVudHJ5IiwiaWQiLCJpbmNsdWRlcyIsImdyb3NzZVByaXNlRW50cnkiLCJiaWdnZXN0Q2F0Y2giLCJwb2ludHMiLCJib3hOdW1iZXIiLCJib3hDb2RlIiwibmFtZSIsImZ1bGxOYW1lIiwiZXF1aXBlIiwiY29lZmZpY2llbnQiLCJjbGFzc2VtZW50U2VjdGV1ciIsInNlY3RvclRvdGFsTmJQcmlzZXMiLCJyZWR1Y2UiLCJzdW0iLCJzb3J0ZWQiLCJzb3J0IiwiYSIsImIiLCJpbmRleCIsInNlY3RvclRvdGFscyIsInRvdGFscyIsImdyb3NzZVByaXNlTWF4Iiwic29ydGVkQ29tcGV0aXRvcnMiLCJhVmFsdWUiLCJiVmFsdWUiLCJ0b0xvd2VyQ2FzZSIsImxvY2FsZUNvbXBhcmUiLCJmaWx0ZXJlZENvbXBldGl0b3JzIiwiZmlsdGVyZWQiLCJxdWVyeSIsInNsaWNlIiwiZ2V0U2VjdG9yQ29sb3IiLCJjb2xvcnMiLCJBIiwiQiIsIkMiLCJEIiwiRSIsIkYiLCJoYW5kbGVTb3J0IiwiZmllbGQiLCJmb3JtYXRDb2VmZmljaWVudCIsInZhbHVlIiwidG9Mb2NhbGVTdHJpbmciLCJtaW5pbXVtRnJhY3Rpb25EaWdpdHMiLCJtYXhpbXVtRnJhY3Rpb25EaWdpdHMiLCJnZXRSYW5rSWNvbiIsInJhbmsiLCJjbGFzc05hbWUiLCJzcGFuIiwiaGFuZGxlRG93bmxvYWRQREYiLCJjdXJyZW50RGF0ZSIsInRvTG9jYWxlRGF0ZVN0cmluZyIsInRpbWVab25lIiwid2Vla2RheSIsInllYXIiLCJtb250aCIsImRheSIsImN1cnJlbnRUaW1lIiwidG9Mb2NhbGVUaW1lU3RyaW5nIiwibWludXRlIiwic2Vjb25kIiwibG9nb0h0bWwiLCJsb2dvcyIsImxpZ2h0IiwiZGFyayIsInRhYmxlSFRNTCIsImpvaW4iLCJ0cmltIiwiYmxvYiIsIkJsb2IiLCJ0eXBlIiwidXJsIiwiVVJMIiwiY3JlYXRlT2JqZWN0VVJMIiwiZG9jdW1lbnQiLCJjcmVhdGVFbGVtZW50IiwiaHJlZiIsImRvd25sb2FkIiwidG9JU09TdHJpbmciLCJjbGljayIsInJldm9rZU9iamVjdFVSTCIsInNlY3Rpb24iLCJkaXYiLCJoMiIsInAiLCJ2YXJpYW50Iiwic2l6ZSIsIm9uQ2xpY2siLCJidXR0b24iLCJpbnB1dCIsIm9uQ2hhbmdlIiwiZSIsInRhcmdldCIsInBsYWNlaG9sZGVyIiwic2VsZWN0Iiwib3B0aW9uIiwibGVuZ3RoIiwidGFibGUiLCJ0aGVhZCIsInRyIiwidGgiLCJ0Ym9keSIsImlzVG9wVGhyZWUiLCJpbml0aWFsIiwib3BhY2l0eSIsInkiLCJhbmltYXRlIiwiZXhpdCIsInRyYW5zaXRpb24iLCJkdXJhdGlvbiIsImRlbGF5IiwidGQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public/LiveSectorRankings.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/public/StatsDashboard.tsx":
/*!**************************************************!*\
  !*** ./src/components/public/StatsDashboard.tsx ***!
  \**************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ StatsDashboard; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/components/providers/FirestoreSyncProvider */ \"(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx\");\n/* harmony import */ var _components_ui_Card__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/Card */ \"(app-pages-browser)/./src/components/ui/Card.tsx\");\n/* harmony import */ var _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! __barrel_optimize__?names=Fish,Timer,Trophy,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/users.js\");\n/* harmony import */ var _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! __barrel_optimize__?names=Fish,Timer,Trophy,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/fish.js\");\n/* harmony import */ var _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! __barrel_optimize__?names=Fish,Timer,Trophy,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/trophy.js\");\n/* harmony import */ var _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! __barrel_optimize__?names=Fish,Timer,Trophy,Users!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/timer.js\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\nfunction StatsDashboard() {\n    _s();\n    const { competitors: firestoreCompetitors, hourlyEntries: firestoreHourlyEntries, competitionSettings: firestoreCompetitionSettings } = (0,_components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__.useFirestore)();\n    const [stats, setStats] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)({\n        competitors: 120,\n        fishCaught: 0,\n        sectors: 6,\n        hoursLeft: \"0:00:00\"\n    });\n    // Calculate live statistics from Firebase\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const calculateStats = ()=>{\n            let totalFishCaught = 0;\n            let totalCompetitors = firestoreCompetitors.length;\n            // Calculate total fish from Firebase hourly entries\n            firestoreHourlyEntries.forEach((entry)=>{\n                if ([\n                    \"locked_judge\",\n                    \"locked_admin\",\n                    \"offline_judge\",\n                    \"offline_admin\"\n                ].includes(entry.status)) {\n                    totalFishCaught += entry.fishCount || 0;\n                }\n            });\n            // Calculate hours left from Firebase competition settings\n            let hoursLeft = \"0:00:00\";\n            if (firestoreCompetitionSettings === null || firestoreCompetitionSettings === void 0 ? void 0 : firestoreCompetitionSettings.endDateTime) {\n                const now = new Date();\n                const endTime = new Date(firestoreCompetitionSettings.endDateTime);\n                const timeLeft = endTime.getTime() - now.getTime();\n                if (timeLeft > 0) {\n                    const hours = Math.floor(timeLeft / (1000 * 60 * 60));\n                    const minutes = Math.floor(timeLeft % (1000 * 60 * 60) / (1000 * 60));\n                    const seconds = Math.floor(timeLeft % (1000 * 60) / 1000);\n                    hoursLeft = \"\".concat(hours, \":\").concat(String(minutes).padStart(2, \"0\"), \":\").concat(String(seconds).padStart(2, \"0\"));\n                }\n            }\n            setStats({\n                competitors: totalCompetitors,\n                fishCaught: totalFishCaught,\n                sectors: 6,\n                hoursLeft\n            });\n        };\n        calculateStats();\n        // Update every second for live stats\n        const timer = setInterval(calculateStats, 1000);\n        return ()=>{\n            clearInterval(timer);\n        };\n    }, [\n        firestoreCompetitors,\n        firestoreHourlyEntries,\n        firestoreCompetitionSettings\n    ]);\n    const statsData = [\n        {\n            icon: _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_4__[\"default\"],\n            value: stats.competitors.toString(),\n            label: \"Comp\\xe9titeurs\",\n            color: \"text-blue-600\"\n        },\n        {\n            icon: _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_5__[\"default\"],\n            value: stats.fishCaught.toLocaleString(\"fr-FR\"),\n            label: \"Poissons captur\\xe9s\",\n            color: \"text-green-600\"\n        },\n        {\n            icon: _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_6__[\"default\"],\n            value: stats.sectors.toString(),\n            label: \"Secteurs\",\n            color: \"text-yellow-600\"\n        },\n        {\n            icon: _barrel_optimize_names_Fish_Timer_Trophy_Users_lucide_react__WEBPACK_IMPORTED_MODULE_7__[\"default\"],\n            value: stats.hoursLeft,\n            label: \"Heures restantes\",\n            color: \"text-red-600\"\n        }\n    ];\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"section\", {\n        className: \"py-16 bg-white dark:bg-gray-900\",\n        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n            className: \"container mx-auto px-4\",\n            children: [\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"text-center mb-12\",\n                    children: [\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"h2\", {\n                            className: \"text-3xl md:text-4xl font-bold text-gray-900 dark:text-white mb-4\",\n                            children: \"Statistiques de la comp\\xe9tition\"\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                            lineNumber: 79,\n                            columnNumber: 11\n                        }, this),\n                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"p\", {\n                            className: \"text-xl text-gray-600 dark:text-gray-300\",\n                            children: \"Donn\\xe9es de la comp\\xe9tition en temps r\\xe9el\"\n                        }, void 0, false, {\n                            fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                            lineNumber: 82,\n                            columnNumber: 11\n                        }, this)\n                    ]\n                }, void 0, true, {\n                    fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                    lineNumber: 78,\n                    columnNumber: 9\n                }, this),\n                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                    className: \"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6\",\n                    children: statsData.map((stat, index)=>/*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.Card, {\n                            className: \"text-center hover:shadow-lg transition-shadow\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardHeader, {\n                                    className: \"pb-2\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(stat.icon, {\n                                        className: \"w-8 h-8 mx-auto \".concat(stat.color)\n                                    }, void 0, false, {\n                                        fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                                        lineNumber: 91,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                                    lineNumber: 90,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_Card__WEBPACK_IMPORTED_MODULE_3__.CardContent, {\n                                    children: [\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-3xl font-bold text-gray-900 dark:text-white mb-1\",\n                                            children: stat.value\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                                            lineNumber: 94,\n                                            columnNumber: 17\n                                        }, this),\n                                        /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                            className: \"text-sm text-gray-600 dark:text-gray-400\",\n                                            children: stat.label\n                                        }, void 0, false, {\n                                            fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                                            lineNumber: 97,\n                                            columnNumber: 17\n                                        }, this)\n                                    ]\n                                }, void 0, true, {\n                                    fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                                    lineNumber: 93,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, index, true, {\n                            fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                            lineNumber: 89,\n                            columnNumber: 13\n                        }, this))\n                }, void 0, false, {\n                    fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n                    lineNumber: 87,\n                    columnNumber: 9\n                }, this)\n            ]\n        }, void 0, true, {\n            fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n            lineNumber: 77,\n            columnNumber: 7\n        }, this)\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/public/StatsDashboard.tsx\",\n        lineNumber: 76,\n        columnNumber: 5\n    }, this);\n}\n_s(StatsDashboard, \"8ggwpTroY+yeAtr00P/Wy/7trkE=\", false, function() {\n    return [\n        _components_providers_FirestoreSyncProvider__WEBPACK_IMPORTED_MODULE_2__.useFirestore\n    ];\n});\n_c = StatsDashboard;\nvar _c;\n$RefreshReg$(_c, \"StatsDashboard\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3B1YmxpYy9TdGF0c0Rhc2hib2FyZC50c3giLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBRTRDO0FBQ2dDO0FBQ0k7QUFDdEI7QUFFM0MsU0FBU1U7O0lBQ3RCLE1BQU0sRUFDSkMsYUFBYUMsb0JBQW9CLEVBQ2pDQyxlQUFlQyxzQkFBc0IsRUFDckNDLHFCQUFxQkMsNEJBQTRCLEVBQ2xELEdBQUdkLHlGQUFZQTtJQUVoQixNQUFNLENBQUNlLE9BQU9DLFNBQVMsR0FBR2xCLCtDQUFRQSxDQUFDO1FBQ2pDVyxhQUFhO1FBQ2JRLFlBQVk7UUFDWkMsU0FBUztRQUNUQyxXQUFXO0lBQ2I7SUFFQSwwQ0FBMEM7SUFDMUNwQixnREFBU0EsQ0FBQztRQUNSLE1BQU1xQixpQkFBaUI7WUFDckIsSUFBSUMsa0JBQWtCO1lBQ3RCLElBQUlDLG1CQUFtQloscUJBQXFCYSxNQUFNO1lBRWxELG9EQUFvRDtZQUNwRFgsdUJBQXVCWSxPQUFPLENBQUNDLENBQUFBO2dCQUM3QixJQUFJO29CQUFDO29CQUFnQjtvQkFBZ0I7b0JBQWlCO2lCQUFnQixDQUFDQyxRQUFRLENBQUNELE1BQU1FLE1BQU0sR0FBRztvQkFDN0ZOLG1CQUFtQkksTUFBTUcsU0FBUyxJQUFJO2dCQUN4QztZQUNGO1lBRUEsMERBQTBEO1lBQzFELElBQUlULFlBQVk7WUFDaEIsSUFBSUwseUNBQUFBLG1EQUFBQSw2QkFBOEJlLFdBQVcsRUFBRTtnQkFDN0MsTUFBTUMsTUFBTSxJQUFJQztnQkFDaEIsTUFBTUMsVUFBVSxJQUFJRCxLQUFLakIsNkJBQTZCZSxXQUFXO2dCQUNqRSxNQUFNSSxXQUFXRCxRQUFRRSxPQUFPLEtBQUtKLElBQUlJLE9BQU87Z0JBRWhELElBQUlELFdBQVcsR0FBRztvQkFDaEIsTUFBTUUsUUFBUUMsS0FBS0MsS0FBSyxDQUFDSixXQUFZLFFBQU8sS0FBSyxFQUFDO29CQUNsRCxNQUFNSyxVQUFVRixLQUFLQyxLQUFLLENBQUMsV0FBYSxRQUFPLEtBQUssRUFBQyxJQUFPLFFBQU8sRUFBQztvQkFDcEUsTUFBTUUsVUFBVUgsS0FBS0MsS0FBSyxDQUFDLFdBQWEsUUFBTyxFQUFDLElBQU07b0JBQ3REbEIsWUFBWSxHQUFZcUIsT0FBVEwsT0FBTSxLQUF1Q0ssT0FBcENBLE9BQU9GLFNBQVNHLFFBQVEsQ0FBQyxHQUFHLE1BQUssS0FBb0MsT0FBakNELE9BQU9ELFNBQVNFLFFBQVEsQ0FBQyxHQUFHO2dCQUMxRjtZQUNGO1lBRUF6QixTQUFTO2dCQUNQUCxhQUFhYTtnQkFDYkwsWUFBWUk7Z0JBQ1pILFNBQVM7Z0JBQ1RDO1lBQ0Y7UUFDRjtRQUVBQztRQUVBLHFDQUFxQztRQUNyQyxNQUFNc0IsUUFBUUMsWUFBWXZCLGdCQUFnQjtRQUUxQyxPQUFPO1lBQ0x3QixjQUFjRjtRQUNoQjtJQUNGLEdBQUc7UUFBQ2hDO1FBQXNCRTtRQUF3QkU7S0FBNkI7SUFFL0UsTUFBTStCLFlBQVk7UUFDaEI7WUFBRUMsTUFBTXpDLG1HQUFLQTtZQUFFMEMsT0FBT2hDLE1BQU1OLFdBQVcsQ0FBQ3VDLFFBQVE7WUFBSUMsT0FBTztZQUFnQkMsT0FBTztRQUFnQjtRQUNsRztZQUFFSixNQUFNeEMsbUdBQUlBO1lBQUV5QyxPQUFPaEMsTUFBTUUsVUFBVSxDQUFDa0MsY0FBYyxDQUFDO1lBQVVGLE9BQU87WUFBcUJDLE9BQU87UUFBaUI7UUFDbkg7WUFBRUosTUFBTTFDLG1HQUFNQTtZQUFFMkMsT0FBT2hDLE1BQU1HLE9BQU8sQ0FBQzhCLFFBQVE7WUFBSUMsT0FBTztZQUFZQyxPQUFPO1FBQWtCO1FBQzdGO1lBQUVKLE1BQU12QyxtR0FBS0E7WUFBRXdDLE9BQU9oQyxNQUFNSSxTQUFTO1lBQUU4QixPQUFPO1lBQW9CQyxPQUFPO1FBQWU7S0FDekY7SUFFRCxxQkFDRSw4REFBQ0U7UUFBUUMsV0FBVTtrQkFDakIsNEVBQUNDO1lBQUlELFdBQVU7OzhCQUNiLDhEQUFDQztvQkFBSUQsV0FBVTs7c0NBQ2IsOERBQUNFOzRCQUFHRixXQUFVO3NDQUFvRTs7Ozs7O3NDQUdsRiw4REFBQ0c7NEJBQUVILFdBQVU7c0NBQTJDOzs7Ozs7Ozs7Ozs7OEJBSzFELDhEQUFDQztvQkFBSUQsV0FBVTs4QkFDWlIsVUFBVVksR0FBRyxDQUFDLENBQUNDLE1BQU1DLHNCQUNwQiw4REFBQzFELHFEQUFJQTs0QkFBYW9ELFdBQVU7OzhDQUMxQiw4REFBQ2xELDJEQUFVQTtvQ0FBQ2tELFdBQVU7OENBQ3BCLDRFQUFDSyxLQUFLWixJQUFJO3dDQUFDTyxXQUFXLG1CQUE4QixPQUFYSyxLQUFLUixLQUFLOzs7Ozs7Ozs7Ozs4Q0FFckQsOERBQUNoRCw0REFBV0E7O3NEQUNWLDhEQUFDb0Q7NENBQUlELFdBQVU7c0RBQ1pLLEtBQUtYLEtBQUs7Ozs7OztzREFFYiw4REFBQ087NENBQUlELFdBQVU7c0RBQ1pLLEtBQUtULEtBQUs7Ozs7Ozs7Ozs7Ozs7MkJBVE5VOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQnZCO0dBbkd3Qm5EOztRQUtsQlIscUZBQVlBOzs7S0FMTVEiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vc3JjL2NvbXBvbmVudHMvcHVibGljL1N0YXRzRGFzaGJvYXJkLnRzeD83ZGYxIl0sInNvdXJjZXNDb250ZW50IjpbIid1c2UgY2xpZW50JztcblxuaW1wb3J0IHsgdXNlU3RhdGUsIHVzZUVmZmVjdCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IHVzZUZpcmVzdG9yZSB9IGZyb20gJ0AvY29tcG9uZW50cy9wcm92aWRlcnMvRmlyZXN0b3JlU3luY1Byb3ZpZGVyJztcbmltcG9ydCB7IENhcmQsIENhcmRDb250ZW50LCBDYXJkSGVhZGVyLCBDYXJkVGl0bGUgfSBmcm9tICdAL2NvbXBvbmVudHMvdWkvQ2FyZCc7XG5pbXBvcnQgeyBUcm9waHksIFVzZXJzLCBGaXNoLCBUaW1lciB9IGZyb20gJ2x1Y2lkZS1yZWFjdCc7XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIFN0YXRzRGFzaGJvYXJkKCkge1xuICBjb25zdCB7IFxuICAgIGNvbXBldGl0b3JzOiBmaXJlc3RvcmVDb21wZXRpdG9ycywgXG4gICAgaG91cmx5RW50cmllczogZmlyZXN0b3JlSG91cmx5RW50cmllcywgXG4gICAgY29tcGV0aXRpb25TZXR0aW5nczogZmlyZXN0b3JlQ29tcGV0aXRpb25TZXR0aW5ncyBcbiAgfSA9IHVzZUZpcmVzdG9yZSgpO1xuICBcbiAgY29uc3QgW3N0YXRzLCBzZXRTdGF0c10gPSB1c2VTdGF0ZSh7XG4gICAgY29tcGV0aXRvcnM6IDEyMCxcbiAgICBmaXNoQ2F1Z2h0OiAwLFxuICAgIHNlY3RvcnM6IDYsXG4gICAgaG91cnNMZWZ0OiAnMDowMDowMCdcbiAgfSk7XG5cbiAgLy8gQ2FsY3VsYXRlIGxpdmUgc3RhdGlzdGljcyBmcm9tIEZpcmViYXNlXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgY29uc3QgY2FsY3VsYXRlU3RhdHMgPSAoKSA9PiB7XG4gICAgICBsZXQgdG90YWxGaXNoQ2F1Z2h0ID0gMDtcbiAgICAgIGxldCB0b3RhbENvbXBldGl0b3JzID0gZmlyZXN0b3JlQ29tcGV0aXRvcnMubGVuZ3RoO1xuICAgICAgXG4gICAgICAvLyBDYWxjdWxhdGUgdG90YWwgZmlzaCBmcm9tIEZpcmViYXNlIGhvdXJseSBlbnRyaWVzXG4gICAgICBmaXJlc3RvcmVIb3VybHlFbnRyaWVzLmZvckVhY2goZW50cnkgPT4ge1xuICAgICAgICBpZiAoWydsb2NrZWRfanVkZ2UnLCAnbG9ja2VkX2FkbWluJywgJ29mZmxpbmVfanVkZ2UnLCAnb2ZmbGluZV9hZG1pbiddLmluY2x1ZGVzKGVudHJ5LnN0YXR1cykpIHtcbiAgICAgICAgICB0b3RhbEZpc2hDYXVnaHQgKz0gZW50cnkuZmlzaENvdW50IHx8IDA7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuXG4gICAgICAvLyBDYWxjdWxhdGUgaG91cnMgbGVmdCBmcm9tIEZpcmViYXNlIGNvbXBldGl0aW9uIHNldHRpbmdzXG4gICAgICBsZXQgaG91cnNMZWZ0ID0gJzA6MDA6MDAnO1xuICAgICAgaWYgKGZpcmVzdG9yZUNvbXBldGl0aW9uU2V0dGluZ3M/LmVuZERhdGVUaW1lKSB7XG4gICAgICAgIGNvbnN0IG5vdyA9IG5ldyBEYXRlKCk7XG4gICAgICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShmaXJlc3RvcmVDb21wZXRpdGlvblNldHRpbmdzLmVuZERhdGVUaW1lKTtcbiAgICAgICAgY29uc3QgdGltZUxlZnQgPSBlbmRUaW1lLmdldFRpbWUoKSAtIG5vdy5nZXRUaW1lKCk7XG4gICAgICAgIFxuICAgICAgICBpZiAodGltZUxlZnQgPiAwKSB7XG4gICAgICAgICAgY29uc3QgaG91cnMgPSBNYXRoLmZsb29yKHRpbWVMZWZ0IC8gKDEwMDAgKiA2MCAqIDYwKSk7XG4gICAgICAgICAgY29uc3QgbWludXRlcyA9IE1hdGguZmxvb3IoKHRpbWVMZWZ0ICUgKDEwMDAgKiA2MCAqIDYwKSkgLyAoMTAwMCAqIDYwKSk7XG4gICAgICAgICAgY29uc3Qgc2Vjb25kcyA9IE1hdGguZmxvb3IoKHRpbWVMZWZ0ICUgKDEwMDAgKiA2MCkpIC8gMTAwMCk7XG4gICAgICAgICAgaG91cnNMZWZ0ID0gYCR7aG91cnN9OiR7U3RyaW5nKG1pbnV0ZXMpLnBhZFN0YXJ0KDIsICcwJyl9OiR7U3RyaW5nKHNlY29uZHMpLnBhZFN0YXJ0KDIsICcwJyl9YDtcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICBzZXRTdGF0cyh7XG4gICAgICAgIGNvbXBldGl0b3JzOiB0b3RhbENvbXBldGl0b3JzLFxuICAgICAgICBmaXNoQ2F1Z2h0OiB0b3RhbEZpc2hDYXVnaHQsXG4gICAgICAgIHNlY3RvcnM6IDYsXG4gICAgICAgIGhvdXJzTGVmdFxuICAgICAgfSk7XG4gICAgfTtcblxuICAgIGNhbGN1bGF0ZVN0YXRzKCk7XG4gICAgXG4gICAgLy8gVXBkYXRlIGV2ZXJ5IHNlY29uZCBmb3IgbGl2ZSBzdGF0c1xuICAgIGNvbnN0IHRpbWVyID0gc2V0SW50ZXJ2YWwoY2FsY3VsYXRlU3RhdHMsIDEwMDApO1xuICAgIFxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICBjbGVhckludGVydmFsKHRpbWVyKTtcbiAgICB9O1xuICB9LCBbZmlyZXN0b3JlQ29tcGV0aXRvcnMsIGZpcmVzdG9yZUhvdXJseUVudHJpZXMsIGZpcmVzdG9yZUNvbXBldGl0aW9uU2V0dGluZ3NdKTtcblxuICBjb25zdCBzdGF0c0RhdGEgPSBbXG4gICAgeyBpY29uOiBVc2VycywgdmFsdWU6IHN0YXRzLmNvbXBldGl0b3JzLnRvU3RyaW5nKCksIGxhYmVsOiAnQ29tcMOpdGl0ZXVycycsIGNvbG9yOiAndGV4dC1ibHVlLTYwMCcgfSxcbiAgICB7IGljb246IEZpc2gsIHZhbHVlOiBzdGF0cy5maXNoQ2F1Z2h0LnRvTG9jYWxlU3RyaW5nKCdmci1GUicpLCBsYWJlbDogJ1BvaXNzb25zIGNhcHR1csOpcycsIGNvbG9yOiAndGV4dC1ncmVlbi02MDAnIH0sXG4gICAgeyBpY29uOiBUcm9waHksIHZhbHVlOiBzdGF0cy5zZWN0b3JzLnRvU3RyaW5nKCksIGxhYmVsOiAnU2VjdGV1cnMnLCBjb2xvcjogJ3RleHQteWVsbG93LTYwMCcgfSxcbiAgICB7IGljb246IFRpbWVyLCB2YWx1ZTogc3RhdHMuaG91cnNMZWZ0LCBsYWJlbDogJ0hldXJlcyByZXN0YW50ZXMnLCBjb2xvcjogJ3RleHQtcmVkLTYwMCcgfSxcbiAgXTtcblxuICByZXR1cm4gKFxuICAgIDxzZWN0aW9uIGNsYXNzTmFtZT1cInB5LTE2IGJnLXdoaXRlIGRhcms6YmctZ3JheS05MDBcIj5cbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyIG14LWF1dG8gcHgtNFwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInRleHQtY2VudGVyIG1iLTEyXCI+XG4gICAgICAgICAgPGgyIGNsYXNzTmFtZT1cInRleHQtM3hsIG1kOnRleHQtNHhsIGZvbnQtYm9sZCB0ZXh0LWdyYXktOTAwIGRhcms6dGV4dC13aGl0ZSBtYi00XCI+XG4gICAgICAgICAgICBTdGF0aXN0aXF1ZXMgZGUgbGEgY29tcMOpdGl0aW9uXG4gICAgICAgICAgPC9oMj5cbiAgICAgICAgICA8cCBjbGFzc05hbWU9XCJ0ZXh0LXhsIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktMzAwXCI+XG4gICAgICAgICAgICBEb25uw6llcyBkZSBsYSBjb21ww6l0aXRpb24gZW4gdGVtcHMgcsOpZWxcbiAgICAgICAgICA8L3A+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ3JpZCBncmlkLWNvbHMtMSBtZDpncmlkLWNvbHMtMiBsZzpncmlkLWNvbHMtNCBnYXAtNlwiPlxuICAgICAgICAgIHtzdGF0c0RhdGEubWFwKChzdGF0LCBpbmRleCkgPT4gKFxuICAgICAgICAgICAgPENhcmQga2V5PXtpbmRleH0gY2xhc3NOYW1lPVwidGV4dC1jZW50ZXIgaG92ZXI6c2hhZG93LWxnIHRyYW5zaXRpb24tc2hhZG93XCI+XG4gICAgICAgICAgICAgIDxDYXJkSGVhZGVyIGNsYXNzTmFtZT1cInBiLTJcIj5cbiAgICAgICAgICAgICAgICA8c3RhdC5pY29uIGNsYXNzTmFtZT17YHctOCBoLTggbXgtYXV0byAke3N0YXQuY29sb3J9YH0gLz5cbiAgICAgICAgICAgICAgPC9DYXJkSGVhZGVyPlxuICAgICAgICAgICAgICA8Q2FyZENvbnRlbnQ+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LTN4bCBmb250LWJvbGQgdGV4dC1ncmF5LTkwMCBkYXJrOnRleHQtd2hpdGUgbWItMVwiPlxuICAgICAgICAgICAgICAgICAge3N0YXQudmFsdWV9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LXNtIHRleHQtZ3JheS02MDAgZGFyazp0ZXh0LWdyYXktNDAwXCI+XG4gICAgICAgICAgICAgICAgICB7c3RhdC5sYWJlbH1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgPC9DYXJkQ29udGVudD5cbiAgICAgICAgICAgIDwvQ2FyZD5cbiAgICAgICAgICApKX1cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L2Rpdj5cbiAgICA8L3NlY3Rpb24+XG4gICk7XG59Il0sIm5hbWVzIjpbInVzZVN0YXRlIiwidXNlRWZmZWN0IiwidXNlRmlyZXN0b3JlIiwiQ2FyZCIsIkNhcmRDb250ZW50IiwiQ2FyZEhlYWRlciIsIlRyb3BoeSIsIlVzZXJzIiwiRmlzaCIsIlRpbWVyIiwiU3RhdHNEYXNoYm9hcmQiLCJjb21wZXRpdG9ycyIsImZpcmVzdG9yZUNvbXBldGl0b3JzIiwiaG91cmx5RW50cmllcyIsImZpcmVzdG9yZUhvdXJseUVudHJpZXMiLCJjb21wZXRpdGlvblNldHRpbmdzIiwiZmlyZXN0b3JlQ29tcGV0aXRpb25TZXR0aW5ncyIsInN0YXRzIiwic2V0U3RhdHMiLCJmaXNoQ2F1Z2h0Iiwic2VjdG9ycyIsImhvdXJzTGVmdCIsImNhbGN1bGF0ZVN0YXRzIiwidG90YWxGaXNoQ2F1Z2h0IiwidG90YWxDb21wZXRpdG9ycyIsImxlbmd0aCIsImZvckVhY2giLCJlbnRyeSIsImluY2x1ZGVzIiwic3RhdHVzIiwiZmlzaENvdW50IiwiZW5kRGF0ZVRpbWUiLCJub3ciLCJEYXRlIiwiZW5kVGltZSIsInRpbWVMZWZ0IiwiZ2V0VGltZSIsImhvdXJzIiwiTWF0aCIsImZsb29yIiwibWludXRlcyIsInNlY29uZHMiLCJTdHJpbmciLCJwYWRTdGFydCIsInRpbWVyIiwic2V0SW50ZXJ2YWwiLCJjbGVhckludGVydmFsIiwic3RhdHNEYXRhIiwiaWNvbiIsInZhbHVlIiwidG9TdHJpbmciLCJsYWJlbCIsImNvbG9yIiwidG9Mb2NhbGVTdHJpbmciLCJzZWN0aW9uIiwiY2xhc3NOYW1lIiwiZGl2IiwiaDIiLCJwIiwibWFwIiwic3RhdCIsImluZGV4Il0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/public/StatsDashboard.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/firebase.ts":
/*!*****************************!*\
  !*** ./src/lib/firebase.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: function() { return /* binding */ app; },\n/* harmony export */   auth: function() { return /* binding */ auth; },\n/* harmony export */   db: function() { return /* binding */ db; },\n/* harmony export */   storage: function() { return /* binding */ storage; }\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(app-pages-browser)/./node_modules/firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_storage__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! firebase/storage */ \"(app-pages-browser)/./node_modules/firebase/storage/dist/esm/index.esm.js\");\n\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAb72OZaFpAZPTcnyYbXE4uYAP03s3QHI0\",\n    authDomain: \"titanium-f7b50.firebaseapp.com\",\n    projectId: \"titanium-f7b50\",\n    storageBucket: \"titanium-f7b50.firebasestorage.app\",\n    messagingSenderId: \"30259124231\",\n    appId: \"1:30259124231:web:ebaad04109b0400f9af2a2\",\n    measurementId: \"G-2HN2C21SLD\"\n};\n// Initialize Firebase\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApps)().length === 0 ? (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig) : (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.getApp)();\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\nconst db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.getFirestore)(app);\nconst storage = (0,firebase_storage__WEBPACK_IMPORTED_MODULE_3__.getStorage)(app);\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (app);\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmlyZWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBOEQ7QUFDdEI7QUFDVTtBQUNKO0FBRTlDLE1BQU1NLGlCQUFpQjtJQUNyQkMsUUFBUTtJQUNSQyxZQUFZO0lBQ1pDLFdBQVc7SUFDWEMsZUFBZTtJQUNmQyxtQkFBbUI7SUFDbkJDLE9BQU87SUFDUEMsZUFBZTtBQUNqQjtBQUVBLHNCQUFzQjtBQUN0QixNQUFNQyxNQUFNYixxREFBT0EsR0FBR2MsTUFBTSxLQUFLLElBQUlmLDJEQUFhQSxDQUFDTSxrQkFBa0JKLG9EQUFNQTtBQUVwRSxNQUFNYyxPQUFPYixzREFBT0EsQ0FBQ1csS0FBSztBQUMxQixNQUFNRyxLQUFLYixnRUFBWUEsQ0FBQ1UsS0FBSztBQUM3QixNQUFNSSxVQUFVYiw0REFBVUEsQ0FBQ1MsS0FBSztBQUN4QjtBQUNmLCtEQUFlQSxHQUFHQSxFQUFDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9saWIvZmlyZWJhc2UudHM/MTU0MCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBpbml0aWFsaXplQXBwLCBnZXRBcHBzLCBnZXRBcHAgfSBmcm9tICdmaXJlYmFzZS9hcHAnO1xuaW1wb3J0IHsgZ2V0QXV0aCB9IGZyb20gJ2ZpcmViYXNlL2F1dGgnO1xuaW1wb3J0IHsgZ2V0RmlyZXN0b3JlIH0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGdldFN0b3JhZ2UgfSBmcm9tICdmaXJlYmFzZS9zdG9yYWdlJztcblxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogXCJBSXphU3lBYjcyT1phRnBBWlBUY255WWJYRTR1WUFQMDNzM1FISTBcIixcbiAgYXV0aERvbWFpbjogXCJ0aXRhbml1bS1mN2I1MC5maXJlYmFzZWFwcC5jb21cIixcbiAgcHJvamVjdElkOiBcInRpdGFuaXVtLWY3YjUwXCIsXG4gIHN0b3JhZ2VCdWNrZXQ6IFwidGl0YW5pdW0tZjdiNTAuZmlyZWJhc2VzdG9yYWdlLmFwcFwiLFxuICBtZXNzYWdpbmdTZW5kZXJJZDogXCIzMDI1OTEyNDIzMVwiLFxuICBhcHBJZDogXCIxOjMwMjU5MTI0MjMxOndlYjplYmFhZDA0MTA5YjA0MDBmOWFmMmEyXCIsXG4gIG1lYXN1cmVtZW50SWQ6IFwiRy0ySE4yQzIxU0xEXCJcbn07XG5cbi8vIEluaXRpYWxpemUgRmlyZWJhc2VcbmNvbnN0IGFwcCA9IGdldEFwcHMoKS5sZW5ndGggPT09IDAgPyBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKSA6IGdldEFwcCgpO1xuXG5leHBvcnQgY29uc3QgYXV0aCA9IGdldEF1dGgoYXBwKTtcbmV4cG9ydCBjb25zdCBkYiA9IGdldEZpcmVzdG9yZShhcHApO1xuZXhwb3J0IGNvbnN0IHN0b3JhZ2UgPSBnZXRTdG9yYWdlKGFwcCk7XG5leHBvcnQgeyBhcHAgfTtcbmV4cG9ydCBkZWZhdWx0IGFwcDsiXSwibmFtZXMiOlsiaW5pdGlhbGl6ZUFwcCIsImdldEFwcHMiLCJnZXRBcHAiLCJnZXRBdXRoIiwiZ2V0RmlyZXN0b3JlIiwiZ2V0U3RvcmFnZSIsImZpcmViYXNlQ29uZmlnIiwiYXBpS2V5IiwiYXV0aERvbWFpbiIsInByb2plY3RJZCIsInN0b3JhZ2VCdWNrZXQiLCJtZXNzYWdpbmdTZW5kZXJJZCIsImFwcElkIiwibWVhc3VyZW1lbnRJZCIsImFwcCIsImxlbmd0aCIsImF1dGgiLCJkYiIsInN0b3JhZ2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/firebase.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/firebase/storage/dist/esm/index.esm.js":
/*!*************************************************************!*\
  !*** ./node_modules/firebase/storage/dist/esm/index.esm.js ***!
  \*************************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   StorageError: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.StorageError; },\n/* harmony export */   StorageErrorCode: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.StorageErrorCode; },\n/* harmony export */   StringFormat: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.StringFormat; },\n/* harmony export */   _FbsBlob: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._FbsBlob; },\n/* harmony export */   _Location: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._Location; },\n/* harmony export */   _TaskEvent: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._TaskEvent; },\n/* harmony export */   _TaskState: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._TaskState; },\n/* harmony export */   _UploadTask: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._UploadTask; },\n/* harmony export */   _dataFromString: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._dataFromString; },\n/* harmony export */   _getChild: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._getChild; },\n/* harmony export */   _invalidArgument: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._invalidArgument; },\n/* harmony export */   _invalidRootOperation: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__._invalidRootOperation; },\n/* harmony export */   connectStorageEmulator: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.connectStorageEmulator; },\n/* harmony export */   deleteObject: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.deleteObject; },\n/* harmony export */   getBlob: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getBlob; },\n/* harmony export */   getBytes: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getBytes; },\n/* harmony export */   getDownloadURL: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getDownloadURL; },\n/* harmony export */   getMetadata: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getMetadata; },\n/* harmony export */   getStorage: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getStorage; },\n/* harmony export */   getStream: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.getStream; },\n/* harmony export */   list: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.list; },\n/* harmony export */   listAll: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.listAll; },\n/* harmony export */   ref: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.ref; },\n/* harmony export */   updateMetadata: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.updateMetadata; },\n/* harmony export */   uploadBytes: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.uploadBytes; },\n/* harmony export */   uploadBytesResumable: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.uploadBytesResumable; },\n/* harmony export */   uploadString: function() { return /* reexport safe */ _firebase_storage__WEBPACK_IMPORTED_MODULE_0__.uploadString; }\n/* harmony export */ });\n/* harmony import */ var _firebase_storage__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @firebase/storage */ \"(app-pages-browser)/./node_modules/@firebase/storage/dist/index.esm.js\");\n\n//# sourceMappingURL=index.esm.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9zdG9yYWdlL2Rpc3QvZXNtL2luZGV4LmVzbS5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQWtDO0FBQ2xDIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL25vZGVfbW9kdWxlcy9maXJlYmFzZS9zdG9yYWdlL2Rpc3QvZXNtL2luZGV4LmVzbS5qcz9jZTZhIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCAqIGZyb20gJ0BmaXJlYmFzZS9zdG9yYWdlJztcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWluZGV4LmVzbS5qcy5tYXBcbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/firebase/storage/dist/esm/index.esm.js\n"));

/***/ })

});