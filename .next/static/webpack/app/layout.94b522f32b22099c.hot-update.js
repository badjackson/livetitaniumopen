"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/layout",{

/***/ "(app-pages-browser)/./src/app/globals.css":
/*!*****************************!*\
  !*** ./src/app/globals.css ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony default export */ __webpack_exports__[\"default\"] = (\"959f14851583\");\nif (true) { module.hot.accept() }\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9hcHAvZ2xvYmFscy5jc3MiLCJtYXBwaW5ncyI6IjtBQUFBLCtEQUFlLGNBQWM7QUFDN0IsSUFBSSxJQUFVLElBQUksaUJBQWlCIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9hcHAvZ2xvYmFscy5jc3M/OTU4NCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBcIjk1OWYxNDg1MTU4M1wiXG5pZiAobW9kdWxlLmhvdCkgeyBtb2R1bGUuaG90LmFjY2VwdCgpIH1cbiJdLCJuYW1lcyI6W10sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/app/globals.css\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx":
/*!************************************************************!*\
  !*** ./src/components/providers/FirestoreSyncProvider.tsx ***!
  \************************************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ FirestoreSyncProvider; },\n/* harmony export */   useFirestore: function() { return /* binding */ useFirestore; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/firestore-entries */ \"(app-pages-browser)/./src/lib/firestore-entries.ts\");\n/* harmony import */ var _lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/firestore-services */ \"(app-pages-browser)/./src/lib/firestore-services.ts\");\n/* __next_internal_client_entry_do_not_use__ useFirestore,default auto */ \nvar _s = $RefreshSig$(), _s1 = $RefreshSig$();\n\n\n\nconst FirestoreContext = /*#__PURE__*/ (0,react__WEBPACK_IMPORTED_MODULE_1__.createContext)(undefined);\nfunction useFirestore() {\n    _s();\n    const context = (0,react__WEBPACK_IMPORTED_MODULE_1__.useContext)(FirestoreContext);\n    if (context === undefined) {\n        throw new Error(\"useFirestore must be used within a FirestoreSyncProvider\");\n    }\n    return context;\n}\n_s(useFirestore, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nfunction writeAndDispatch(key, value) {\n    if (false) {}\n    const json = JSON.stringify(value);\n    localStorage.setItem(key, json);\n    // synthetic storage event so existing listeners react immediately\n    window.dispatchEvent(new StorageEvent(\"storage\", {\n        key,\n        newValue: json\n    }));\n}\nfunction FirestoreSyncProvider(param) {\n    let { children } = param;\n    _s1();\n    // State\n    const [hourlyEntries, setHourlyEntries] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [bigCatches, setBigCatches] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [competitors, setCompetitors] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [judges, setJudges] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [competitionSettings, setCompetitionSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [publicAppearanceSettings, setPublicAppearanceSettings] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    const [auditLogs, setAuditLogs] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)([]);\n    const [isLoading, setIsLoading] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [error, setError] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(null);\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        let unsubscribers = [];\n        try {\n            // Subscribe to hourly entries\n            const unHourly = (0,_lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__.subscribeHourlyAll)((rows)=>{\n                setHourlyEntries(rows);\n                // Sync to localStorage for compatibility\n                const hourly = {};\n                for (const r of rows){\n                    var _r_timestamp;\n                    var _hourly, _sector, _hourly_sector, _hour;\n                    const sector = r.sector;\n                    const hour = r.hour;\n                    const cId = r.competitorId;\n                    if (!sector || !hour || !cId) continue;\n                    var _;\n                    (_ = (_hourly = hourly)[_sector = sector]) !== null && _ !== void 0 ? _ : _hourly[_sector] = {};\n                    var _1;\n                    (_1 = (_hourly_sector = hourly[sector])[_hour = hour]) !== null && _1 !== void 0 ? _1 : _hourly_sector[_hour] = {};\n                    hourly[sector][hour][cId] = {\n                        competitorId: cId,\n                        boxNumber: r.boxNumber,\n                        fishCount: r.fishCount,\n                        totalWeight: r.totalWeight,\n                        status: r.status,\n                        source: r.source,\n                        timestamp: ((_r_timestamp = r.timestamp) === null || _r_timestamp === void 0 ? void 0 : _r_timestamp.toDate) ? r.timestamp.toDate() : r.timestamp\n                    };\n                }\n                writeAndDispatch(\"hourlyData\", hourly);\n            }, (err)=>{\n                console.warn(\"Firestore hourly_entries subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur hourly entries: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unHourly);\n            // Subscribe to big catches\n            const unBig = (0,_lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__.subscribeBigCatchAll)((rows)=>{\n                setBigCatches(rows);\n                // Sync to localStorage for compatibility\n                const big = {};\n                for (const r of rows){\n                    var _r_timestamp;\n                    var _big, _sector;\n                    const sector = r.sector;\n                    const cId = r.competitorId;\n                    if (!sector || !cId) continue;\n                    var _;\n                    (_ = (_big = big)[_sector = sector]) !== null && _ !== void 0 ? _ : _big[_sector] = {};\n                    big[sector][cId] = {\n                        competitorId: cId,\n                        boxNumber: r.boxNumber,\n                        biggestCatch: r.biggestCatch,\n                        status: r.status,\n                        source: r.source,\n                        timestamp: ((_r_timestamp = r.timestamp) === null || _r_timestamp === void 0 ? void 0 : _r_timestamp.toDate) ? r.timestamp.toDate() : r.timestamp\n                    };\n                }\n                writeAndDispatch(\"grossePriseData\", big);\n            }, (err)=>{\n                console.warn(\"Firestore big_catches subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur big catches: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unBig);\n            // Subscribe to competitors\n            const unCompetitors = (0,_lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__.subscribeCompetitorsAll)((rows)=>{\n                setCompetitors(rows);\n                writeAndDispatch(\"competitors\", rows);\n            }, (err)=>{\n                console.warn(\"Firestore competitors subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur competitors: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unCompetitors);\n            // Subscribe to judges\n            const unJudges = (0,_lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__.subscribeJudgesAll)((rows)=>{\n                setJudges(rows);\n                writeAndDispatch(\"judges\", rows);\n            }, (err)=>{\n                console.warn(\"Firestore judges subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur judges: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unJudges);\n            // Subscribe to competition settings\n            const unSettings = (0,_lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__.subscribeCompetitionSettingsAll)((rows)=>{\n                const settings = rows.length > 0 ? rows[0] : null;\n                setCompetitionSettings(settings);\n                if (settings) {\n                    writeAndDispatch(\"competitionSettings\", settings);\n                }\n            }, (err)=>{\n                console.warn(\"Firestore competition_settings subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur settings: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unSettings);\n            // Subscribe to public appearance settings\n            const unAppearance = (0,_lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__.subscribePublicAppearanceSettingsAll)((rows)=>{\n                const settings = rows.length > 0 ? rows[0] : null;\n                setPublicAppearanceSettings(settings);\n                if (settings) {\n                    writeAndDispatch(\"publicAppearanceSettings\", settings);\n                }\n            }, (err)=>{\n                console.warn(\"Firestore public_appearance_settings subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur appearance: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unAppearance);\n            // Subscribe to audit logs\n            const unAudit = (0,_lib_firestore_entries__WEBPACK_IMPORTED_MODULE_2__.subscribeAuditLogsAll)((rows)=>{\n                setAuditLogs(rows);\n            }, (err)=>{\n                console.warn(\"Firestore audit_logs subscribe error:\", (err === null || err === void 0 ? void 0 : err.code) || (err === null || err === void 0 ? void 0 : err.message) || err);\n                setError(\"Erreur audit: \".concat((err === null || err === void 0 ? void 0 : err.message) || \"Unknown error\"));\n            });\n            unsubscribers.push(unAudit);\n            setIsLoading(false);\n        } catch (e) {\n            console.warn(\"Firestore sync init failed:\", e);\n            setError(\"Erreur d'initialisation: \".concat(e));\n            setIsLoading(false);\n        }\n        return ()=>{\n            unsubscribers.forEach((unsub)=>{\n                try {\n                    unsub();\n                } catch (e) {\n                    console.warn(\"Error unsubscribing:\", e);\n                }\n            });\n        };\n    }, []);\n    // Action handlers\n    const saveHourlyEntry = async (data)=>{\n        try {\n            await (0,_lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__.saveHourlyEntry)(data);\n        } catch (error) {\n            console.error(\"Error saving hourly entry:\", error);\n            throw error;\n        }\n    };\n    const saveBigCatch = async (data)=>{\n        try {\n            await (0,_lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__.saveBigCatch)(data);\n        } catch (error) {\n            console.error(\"Error saving big catch:\", error);\n            throw error;\n        }\n    };\n    const saveCompetitor = async (data)=>{\n        try {\n            await (0,_lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__.saveCompetitor)(data);\n        } catch (error) {\n            console.error(\"Error saving competitor:\", error);\n            throw error;\n        }\n    };\n    const saveJudge = async (data)=>{\n        try {\n            await (0,_lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__.saveJudge)(data);\n        } catch (error) {\n            console.error(\"Error saving judge:\", error);\n            throw error;\n        }\n    };\n    const saveCompetitionSettings = async (data)=>{\n        try {\n            await (0,_lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__.saveCompetitionSettings)(data);\n        } catch (error) {\n            console.error(\"Error saving competition settings:\", error);\n            throw error;\n        }\n    };\n    const savePublicAppearanceSettings = async (data)=>{\n        try {\n            await (0,_lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__.savePublicAppearanceSettings)(data);\n        } catch (error) {\n            console.error(\"Error saving public appearance settings:\", error);\n            throw error;\n        }\n    };\n    const auditLog = async (data)=>{\n        try {\n            await (0,_lib_firestore_services__WEBPACK_IMPORTED_MODULE_3__.logAuditAction)(data);\n        } catch (error) {\n            console.error(\"Error logging audit action:\", error);\n            throw error;\n        }\n    };\n    const contextValue = {\n        // Data\n        hourlyEntries,\n        bigCatches,\n        competitors,\n        judges,\n        competitionSettings,\n        publicAppearanceSettings,\n        auditLogs,\n        // Actions\n        saveHourlyEntry,\n        saveBigCatch,\n        saveCompetitor,\n        saveJudge,\n        saveCompetitionSettings,\n        savePublicAppearanceSettings,\n        auditLog,\n        // Status\n        isLoading,\n        error\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(FirestoreContext.Provider, {\n        value: contextValue,\n        children: children\n    }, void 0, false, {\n        fileName: \"/home/project/src/components/providers/FirestoreSyncProvider.tsx\",\n        lineNumber: 330,\n        columnNumber: 5\n    }, this);\n}\n_s1(FirestoreSyncProvider, \"q+tGzZQC0A00oyxFWg2PI//I+9Y=\");\n_c = FirestoreSyncProvider;\nvar _c;\n$RefreshReg$(_c, \"FirestoreSyncProvider\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9GaXJlc3RvcmVTeW5jUHJvdmlkZXIudHN4IiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQUVrRjtBQVNqRDtBQVNDO0FBbUNsQyxNQUFNeUIsaUNBQW1CekIsb0RBQWFBLENBQW1DMEI7QUFFbEUsU0FBU0M7O0lBQ2QsTUFBTUMsVUFBVTNCLGlEQUFVQSxDQUFDd0I7SUFDM0IsSUFBSUcsWUFBWUYsV0FBVztRQUN6QixNQUFNLElBQUlHLE1BQU07SUFDbEI7SUFDQSxPQUFPRDtBQUNUO0dBTmdCRDtBQVFoQixTQUFTRyxpQkFBaUJDLEdBQVcsRUFBRUMsS0FBVTtJQUMvQyxJQUFJLEtBQWtCLEVBQWEsRUFBTztJQUMxQyxNQUFNQyxPQUFPQyxLQUFLQyxTQUFTLENBQUNIO0lBQzVCSSxhQUFhQyxPQUFPLENBQUNOLEtBQUtFO0lBQzFCLGtFQUFrRTtJQUNsRUssT0FBT0MsYUFBYSxDQUFDLElBQUlDLGFBQWEsV0FBVztRQUFFVDtRQUFLVSxVQUFVUjtJQUFLO0FBQ3pFO0FBRWUsU0FBU1Msc0JBQXNCLEtBQXFDO1FBQXJDLEVBQUVDLFFBQVEsRUFBMkIsR0FBckM7O0lBQzVDLFFBQVE7SUFDUixNQUFNLENBQUNDLGVBQWVDLGlCQUFpQixHQUFHMUMsK0NBQVFBLENBQW1CLEVBQUU7SUFDdkUsTUFBTSxDQUFDMkMsWUFBWUMsY0FBYyxHQUFHNUMsK0NBQVFBLENBQWdCLEVBQUU7SUFDOUQsTUFBTSxDQUFDNkMsYUFBYUMsZUFBZSxHQUFHOUMsK0NBQVFBLENBQWtCLEVBQUU7SUFDbEUsTUFBTSxDQUFDK0MsUUFBUUMsVUFBVSxHQUFHaEQsK0NBQVFBLENBQWEsRUFBRTtJQUNuRCxNQUFNLENBQUNpRCxxQkFBcUJDLHVCQUF1QixHQUFHbEQsK0NBQVFBLENBQWdDO0lBQzlGLE1BQU0sQ0FBQ21ELDBCQUEwQkMsNEJBQTRCLEdBQUdwRCwrQ0FBUUEsQ0FBcUM7SUFDN0csTUFBTSxD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S0FBSyxDQUFDLHVCQUF1QkE7WUFDckMsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTXpDLDBCQUEwQixPQUFPOEU7UUFDckMsSUFBSTtZQUNGLE1BQU03RSxnRkFBa0NBLENBQUM2RTtRQUMzQyxFQUFFLE9BQU9yQyxPQUFPO1lBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLHNDQUFzQ0E7WUFDcEQsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTXZDLCtCQUErQixPQUFPNEU7UUFDMUMsSUFBSTtZQUNGLE1BQU0zRSxxRkFBdUNBLENBQUMyRTtRQUNoRCxFQUFFLE9BQU9yQyxPQUFPO1lBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLDRDQUE0Q0E7WUFDMUQsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTXNDLFdBQVcsT0FBT0Q7UUFDdEIsSUFBSTtZQUNGLE1BQU16RSx1RUFBeUJBLENBQUN5RTtRQUNsQyxFQUFFLE9BQU9yQyxPQUFPO1lBQ2RtQixRQUFRbkIsS0FBSyxDQUFDLCtCQUErQkE7WUFDN0MsTUFBTUE7UUFDUjtJQUNGO0lBRUEsTUFBTXVDLGVBQXFDO1FBQ3pDLE9BQU87UUFDUHZEO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBQ0FFO1FBRUEsVUFBVTtRQUNWN0M7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQUU7UUFDQTZFO1FBRUEsU0FBUztRQUNUeEM7UUFDQUU7SUFDRjtJQUVBLHFCQUNFLDhEQUFDbkMsaUJBQWlCMkUsUUFBUTtRQUFDcEUsT0FBT21FO2tCQUMvQnhEOzs7Ozs7QUFHUDtJQXBRd0JEO0tBQUFBIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy9jb21wb25lbnRzL3Byb3ZpZGVycy9GaXJlc3RvcmVTeW5jUHJvdmlkZXIudHN4PzNmYWUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG5pbXBvcnQgeyBjcmVhdGVDb250ZXh0LCB1c2VDb250ZXh0LCB1c2VFZmZlY3QsIHVzZVN0YXRlLCBSZWFjdE5vZGUgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBcbiAgc3Vic2NyaWJlSG91cmx5QWxsLCBcbiAgc3Vic2NyaWJlQmlnQ2F0Y2hBbGwsXG4gIHN1YnNjcmliZUNvbXBldGl0b3JzQWxsLFxuICBzdWJzY3JpYmVKdWRnZXNBbGwsXG4gIHN1YnNjcmliZUNvbXBldGl0aW9uU2V0dGluZ3NBbGwsXG4gIHN1YnNjcmliZVB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc0FsbCxcbiAgc3Vic2NyaWJlQXVkaXRMb2dzQWxsXG59IGZyb20gJ0AvbGliL2ZpcmVzdG9yZS1lbnRyaWVzJztcbmltcG9ydCB7IFxuICBzYXZlSG91cmx5RW50cnkgYXMgc2F2ZUhvdXJseUVudHJ5VG9GaXJlc3RvcmUsXG4gIHNhdmVCaWdDYXRjaCBhcyBzYXZlQmlnQ2F0Y2hUb0ZpcmVzdG9yZSxcbiAgc2F2ZUNvbXBldGl0b3IgYXMgc2F2ZUNvbXBldGl0b3JUb0ZpcmVzdG9yZSxcbiAgc2F2ZUp1ZGdlIGFzIHNhdmVKdWRnZVRvRmlyZXN0b3JlLFxuICBzYXZlQ29tcGV0aXRpb25TZXR0aW5ncyBhcyBzYXZlQ29tcGV0aXRpb25TZXR0aW5nc1RvRmlyZXN0b3JlLFxuICBzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzIGFzIHNhdmVQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NUb0ZpcmVzdG9yZSxcbiAgbG9nQXVkaXRBY3Rpb24gYXMgbG9nQXVkaXRBY3Rpb25Ub0ZpcmVzdG9yZVxufSBmcm9tICdAL2xpYi9maXJlc3RvcmUtc2VydmljZXMnO1xuaW1wb3J0IHR5cGUgeyBcbiAgSG91cmx5RW50cnlEb2MsIFxuICBCaWdDYXRjaERvYywgXG4gIENvbXBldGl0b3JEb2MsIFxuICBKdWRnZURvYywgXG4gIENvbXBldGl0aW9uU2V0dGluZ3NEb2MsIFxuICBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MsXG4gIEF1ZGl0TG9nRG9jXG59IGZyb20gJ0AvbGliL2ZpcmVzdG9yZS1zZXJ2aWNlcyc7XG5cbmludGVyZmFjZSBGaXJlc3RvcmVDb250ZXh0VHlwZSB7XG4gIC8vIERhdGFcbiAgaG91cmx5RW50cmllczogSG91cmx5RW50cnlEb2NbXTtcbiAgYmlnQ2F0Y2hlczogQmlnQ2F0Y2hEb2NbXTtcbiAgY29tcGV0aXRvcnM6IENvbXBldGl0b3JEb2NbXTtcbiAganVkZ2VzOiBKdWRnZURvY1tdO1xuICBjb21wZXRpdGlvblNldHRpbmdzOiBDb21wZXRpdGlvblNldHRpbmdzRG9jIHwgbnVsbDtcbiAgcHVibGljQXBwZWFyYW5jZVNldHRpbmdzOiBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MgfCBudWxsO1xuICBhdWRpdExvZ3M6IEF1ZGl0TG9nRG9jW107XG4gIFxuICAvLyBBY3Rpb25zXG4gIHNhdmVIb3VybHlFbnRyeTogKGRhdGE6IE9taXQ8SG91cmx5RW50cnlEb2MsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IFByb21pc2U8dm9pZD47XG4gIHNhdmVCaWdDYXRjaDogKGRhdGE6IE9taXQ8QmlnQ2F0Y2hEb2MsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IFByb21pc2U8dm9pZD47XG4gIHNhdmVDb21wZXRpdG9yOiAoZGF0YTogT21pdDxDb21wZXRpdG9yRG9jLCAnbGFzdFVwZGF0ZSc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlSnVkZ2U6IChkYXRhOiBPbWl0PEp1ZGdlRG9jLCAnbGFzdFVwZGF0ZSc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlQ29tcGV0aXRpb25TZXR0aW5nczogKGRhdGE6IE9taXQ8Q29tcGV0aXRpb25TZXR0aW5nc0RvYywgJ3VwZGF0ZWRBdCc+KSA9PiBQcm9taXNlPHZvaWQ+O1xuICBzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzOiAoZGF0YTogT21pdDxQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MsICd1cGRhdGVkQXQnPikgPT4gUHJvbWlzZTx2b2lkPjtcbiAgYXVkaXRMb2c6IChkYXRhOiB7IGFjdGlvbjogc3RyaW5nOyBkZXRhaWxzOiBzdHJpbmc7IG1ldGFkYXRhPzogYW55IH0pID0+IFByb21pc2U8dm9pZD47XG4gIFxuICAvLyBTdGF0dXNcbiAgaXNMb2FkaW5nOiBib29sZWFuO1xuICBlcnJvcjogc3RyaW5nIHwgbnVsbDtcbn1cblxuY29uc3QgRmlyZXN0b3JlQ29udGV4dCA9IGNyZWF0ZUNvbnRleHQ8RmlyZXN0b3JlQ29udGV4dFR5cGUgfCB1bmRlZmluZWQ+KHVuZGVmaW5lZCk7XG5cbmV4cG9ydCBmdW5jdGlvbiB1c2VGaXJlc3RvcmUoKSB7XG4gIGNvbnN0IGNvbnRleHQgPSB1c2VDb250ZXh0KEZpcmVzdG9yZUNvbnRleHQpO1xuICBpZiAoY29udGV4dCA9PT0gdW5kZWZpbmVkKSB7XG4gICAgdGhyb3cgbmV3IEVycm9yKCd1c2VGaXJlc3RvcmUgbXVzdCBiZSB1c2VkIHdpdGhpbiBhIEZpcmVzdG9yZVN5bmNQcm92aWRlcicpO1xuICB9XG4gIHJldHVybiBjb250ZXh0O1xufVxuXG5mdW5jdGlvbiB3cml0ZUFuZERpc3BhdGNoKGtleTogc3RyaW5nLCB2YWx1ZTogYW55KSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuO1xuICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkodmFsdWUpO1xuICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShrZXksIGpzb24pO1xuICAvLyBzeW50aGV0aWMgc3RvcmFnZSBldmVudCBzbyBleGlzdGluZyBsaXN0ZW5lcnMgcmVhY3QgaW1tZWRpYXRlbHlcbiAgd2luZG93LmRpc3BhdGNoRXZlbnQobmV3IFN0b3JhZ2VFdmVudCgnc3RvcmFnZScsIHsga2V5LCBuZXdWYWx1ZToganNvbiB9KSk7XG59XG5cbmV4cG9ydCBkZWZhdWx0IGZ1bmN0aW9uIEZpcmVzdG9yZVN5bmNQcm92aWRlcih7IGNoaWxkcmVuIH06IHsgY2hpbGRyZW46IFJlYWN0Tm9kZSB9KSB7XG4gIC8vIFN0YXRlXG4gIGNvbnN0IFtob3VybHlFbnRyaWVzLCBzZXRIb3VybHlFbnRyaWVzXSA9IHVzZVN0YXRlPEhvdXJseUVudHJ5RG9jW10+KFtdKTtcbiAgY29uc3QgW2JpZ0NhdGNoZXMsIHNldEJpZ0NhdGNoZXNdID0gdXNlU3RhdGU8QmlnQ2F0Y2hEb2NbXT4oW10pO1xuICBjb25zdCBbY29tcGV0aXRvcnMsIHNldENvbXBldGl0b3JzXSA9IHVzZVN0YXRlPENvbXBldGl0b3JEb2NbXT4oW10pO1xuICBjb25zdCBbanVkZ2VzLCBzZXRKdWRnZXNdID0gdXNlU3RhdGU8SnVkZ2VEb2NbXT4oW10pO1xuICBjb25zdCBbY29tcGV0aXRpb25TZXR0aW5ncywgc2V0Q29tcGV0aXRpb25TZXR0aW5nc10gPSB1c2VTdGF0ZTxDb21wZXRpdGlvblNldHRpbmdzRG9jIHwgbnVsbD4obnVsbCk7XG4gIGNvbnN0IFtwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MsIHNldFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc10gPSB1c2VTdGF0ZTxQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MgfCBudWxsPihudWxsKTtcbiAgY29uc3QgW2F1ZGl0TG9ncywgc2V0QXVkaXRMb2dzXSA9IHVzZVN0YXRlPEF1ZGl0TG9nRG9jW10+KFtdKTtcbiAgY29uc3QgW2lzTG9hZGluZywgc2V0SXNMb2FkaW5nXSA9IHVzZVN0YXRlKHRydWUpO1xuICBjb25zdCBbZXJyb3IsIHNldEVycm9yXSA9IHVzZVN0YXRlPHN0cmluZyB8IG51bGw+KG51bGwpO1xuXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgbGV0IHVuc3Vic2NyaWJlcnM6ICgoKSA9PiB2b2lkKVtdID0gW107XG5cbiAgICB0cnkge1xuICAgICAgLy8gU3Vic2NyaWJlIHRvIGhvdXJseSBlbnRyaWVzXG4gICAgICBjb25zdCB1bkhvdXJseSA9IHN1YnNjcmliZUhvdXJseUFsbChcbiAgICAgICAgKHJvd3MpID0+IHtcbiAgICAgICAgICBzZXRIb3VybHlFbnRyaWVzKHJvd3MpO1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIFN5bmMgdG8gbG9jYWxTdG9yYWdlIGZvciBjb21wYXRpYmlsaXR5XG4gICAgICAgICAgY29uc3QgaG91cmx5OiBhbnkgPSB7fTtcbiAgICAgICAgICBmb3IgKGNvbnN0IHIgb2Ygcm93cykge1xuICAgICAgICAgICAgY29uc3Qgc2VjdG9yID0gci5zZWN0b3I7XG4gICAgICAgICAgICBjb25zdCBob3VyID0gci5ob3VyO1xuICAgICAgICAgICAgY29uc3QgY0lkID0gci5jb21wZXRpdG9ySWQ7XG4gICAgICAgICAgICBpZiAoIXNlY3RvciB8fCAhaG91ciB8fCAhY0lkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGhvdXJseVtzZWN0b3JdID8/PSB7fTtcbiAgICAgICAgICAgIGhvdXJseVtzZWN0b3JdW2hvdXJdID8/PSB7fTtcbiAgICAgICAgICAgIGhvdXJseVtzZWN0b3JdW2hvdXJdW2NJZF0gPSB7XG4gICAgICAgICAgICAgIGNvbXBldGl0b3JJZDogY0lkLFxuICAgICAgICAgICAgICBib3hOdW1iZXI6IHIuYm94TnVtYmVyLFxuICAgICAgICAgICAgICBmaXNoQ291bnQ6IHIuZmlzaENvdW50LFxuICAgICAgICAgICAgICB0b3RhbFdlaWdodDogci50b3RhbFdlaWdodCxcbiAgICAgICAgICAgICAgc3RhdHVzOiByLnN0YXR1cyxcbiAgICAgICAgICAgICAgc291cmNlOiByLnNvdXJjZSxcbiAgICAgICAgICAgICAgdGltZXN0YW1wOiByLnRpbWVzdGFtcD8udG9EYXRlID8gci50aW1lc3RhbXAudG9EYXRlKCkgOiByLnRpbWVzdGFtcCxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgfVxuICAgICAgICAgIHdyaXRlQW5kRGlzcGF0Y2goJ2hvdXJseURhdGEnLCBob3VybHkpO1xuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGaXJlc3RvcmUgaG91cmx5X2VudHJpZXMgc3Vic2NyaWJlIGVycm9yOicsIGVycj8uY29kZSB8fCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgICBzZXRFcnJvcihgRXJyZXVyIGhvdXJseSBlbnRyaWVzOiAke2Vycj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1bnN1YnNjcmliZXJzLnB1c2godW5Ib3VybHkpO1xuXG4gICAgICAvLyBTdWJzY3JpYmUgdG8gYmlnIGNhdGNoZXNcbiAgICAgIGNvbnN0IHVuQmlnID0gc3Vic2NyaWJlQmlnQ2F0Y2hBbGwoXG4gICAgICAgIChyb3dzKSA9PiB7XG4gICAgICAgICAgc2V0QmlnQ2F0Y2hlcyhyb3dzKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTeW5jIHRvIGxvY2FsU3RvcmFnZSBmb3IgY29tcGF0aWJpbGl0eVxuICAgICAgICAgIGNvbnN0IGJpZzogYW55ID0ge307XG4gICAgICAgICAgZm9yIChjb25zdCByIG9mIHJvd3MpIHtcbiAgICAgICAgICAgIGNvbnN0IHNlY3RvciA9IHIuc2VjdG9yO1xuICAgICAgICAgICAgY29uc3QgY0lkID0gci5jb21wZXRpdG9ySWQ7XG4gICAgICAgICAgICBpZiAoIXNlY3RvciB8fCAhY0lkKSBjb250aW51ZTtcbiAgICAgICAgICAgIGJpZ1tzZWN0b3JdID8/PSB7fTtcbiAgICAgICAgICAgIGJpZ1tzZWN0b3JdW2NJZF0gPSB7XG4gICAgICAgICAgICAgIGNvbXBldGl0b3JJZDogY0lkLFxuICAgICAgICAgICAgICBib3hOdW1iZXI6IHIuYm94TnVtYmVyLFxuICAgICAgICAgICAgICBiaWdnZXN0Q2F0Y2g6IHIuYmlnZ2VzdENhdGNoLFxuICAgICAgICAgICAgICBzdGF0dXM6IHIuc3RhdHVzLFxuICAgICAgICAgICAgICBzb3VyY2U6IHIuc291cmNlLFxuICAgICAgICAgICAgICB0aW1lc3RhbXA6IHIudGltZXN0YW1wPy50b0RhdGUgPyByLnRpbWVzdGFtcC50b0RhdGUoKSA6IHIudGltZXN0YW1wLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICB9XG4gICAgICAgICAgd3JpdGVBbmREaXNwYXRjaCgnZ3Jvc3NlUHJpc2VEYXRhJywgYmlnKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIGJpZ19jYXRjaGVzIHN1YnNjcmliZSBlcnJvcjonLCBlcnI/LmNvZGUgfHwgZXJyPy5tZXNzYWdlIHx8IGVycik7XG4gICAgICAgICAgc2V0RXJyb3IoYEVycmV1ciBiaWcgY2F0Y2hlczogJHtlcnI/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuQmlnKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIGNvbXBldGl0b3JzXG4gICAgICBjb25zdCB1bkNvbXBldGl0b3JzID0gc3Vic2NyaWJlQ29tcGV0aXRvcnNBbGwoXG4gICAgICAgIChyb3dzKSA9PiB7XG4gICAgICAgICAgc2V0Q29tcGV0aXRvcnMocm93cyk7XG4gICAgICAgICAgd3JpdGVBbmREaXNwYXRjaCgnY29tcGV0aXRvcnMnLCByb3dzKTtcbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIGNvbXBldGl0b3JzIHN1YnNjcmliZSBlcnJvcjonLCBlcnI/LmNvZGUgfHwgZXJyPy5tZXNzYWdlIHx8IGVycik7XG4gICAgICAgICAgc2V0RXJyb3IoYEVycmV1ciBjb21wZXRpdG9yczogJHtlcnI/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuQ29tcGV0aXRvcnMpO1xuXG4gICAgICAvLyBTdWJzY3JpYmUgdG8ganVkZ2VzXG4gICAgICBjb25zdCB1bkp1ZGdlcyA9IHN1YnNjcmliZUp1ZGdlc0FsbChcbiAgICAgICAgKHJvd3MpID0+IHtcbiAgICAgICAgICBzZXRKdWRnZXMocm93cyk7XG4gICAgICAgICAgd3JpdGVBbmREaXNwYXRjaCgnanVkZ2VzJywgcm93cyk7XG4gICAgICAgIH0sXG4gICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmVzdG9yZSBqdWRnZXMgc3Vic2NyaWJlIGVycm9yOicsIGVycj8uY29kZSB8fCBlcnI/Lm1lc3NhZ2UgfHwgZXJyKTtcbiAgICAgICAgICBzZXRFcnJvcihgRXJyZXVyIGp1ZGdlczogJHtlcnI/Lm1lc3NhZ2UgfHwgJ1Vua25vd24gZXJyb3InfWApO1xuICAgICAgICB9XG4gICAgICApO1xuICAgICAgdW5zdWJzY3JpYmVycy5wdXNoKHVuSnVkZ2VzKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIGNvbXBldGl0aW9uIHNldHRpbmdzXG4gICAgICBjb25zdCB1blNldHRpbmdzID0gc3Vic2NyaWJlQ29tcGV0aXRpb25TZXR0aW5nc0FsbChcbiAgICAgICAgKHJvd3MpID0+IHtcbiAgICAgICAgICBjb25zdCBzZXR0aW5ncyA9IHJvd3MubGVuZ3RoID4gMCA/IHJvd3NbMF0gOiBudWxsO1xuICAgICAgICAgIHNldENvbXBldGl0aW9uU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICAgICAgd3JpdGVBbmREaXNwYXRjaCgnY29tcGV0aXRpb25TZXR0aW5ncycsIHNldHRpbmdzKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIChlcnIpID0+IHtcbiAgICAgICAgICBjb25zb2xlLndhcm4oJ0ZpcmVzdG9yZSBjb21wZXRpdGlvbl9zZXR0aW5ncyBzdWJzY3JpYmUgZXJyb3I6JywgZXJyPy5jb2RlIHx8IGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgIHNldEVycm9yKGBFcnJldXIgc2V0dGluZ3M6ICR7ZXJyPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHVuc3Vic2NyaWJlcnMucHVzaCh1blNldHRpbmdzKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIHB1YmxpYyBhcHBlYXJhbmNlIHNldHRpbmdzXG4gICAgICBjb25zdCB1bkFwcGVhcmFuY2UgPSBzdWJzY3JpYmVQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NBbGwoXG4gICAgICAgIChyb3dzKSA9PiB7XG4gICAgICAgICAgY29uc3Qgc2V0dGluZ3MgPSByb3dzLmxlbmd0aCA+IDAgPyByb3dzWzBdIDogbnVsbDtcbiAgICAgICAgICBzZXRQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3Moc2V0dGluZ3MpO1xuICAgICAgICAgIGlmIChzZXR0aW5ncykge1xuICAgICAgICAgICAgd3JpdGVBbmREaXNwYXRjaCgncHVibGljQXBwZWFyYW5jZVNldHRpbmdzJywgc2V0dGluZ3MpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgKGVycikgPT4ge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRmlyZXN0b3JlIHB1YmxpY19hcHBlYXJhbmNlX3NldHRpbmdzIHN1YnNjcmliZSBlcnJvcjonLCBlcnI/LmNvZGUgfHwgZXJyPy5tZXNzYWdlIHx8IGVycik7XG4gICAgICAgICAgc2V0RXJyb3IoYEVycmV1ciBhcHBlYXJhbmNlOiAke2Vycj8ubWVzc2FnZSB8fCAnVW5rbm93biBlcnJvcid9YCk7XG4gICAgICAgIH1cbiAgICAgICk7XG4gICAgICB1bnN1YnNjcmliZXJzLnB1c2godW5BcHBlYXJhbmNlKTtcblxuICAgICAgLy8gU3Vic2NyaWJlIHRvIGF1ZGl0IGxvZ3NcbiAgICAgIGNvbnN0IHVuQXVkaXQgPSBzdWJzY3JpYmVBdWRpdExvZ3NBbGwoXG4gICAgICAgIChyb3dzKSA9PiB7XG4gICAgICAgICAgc2V0QXVkaXRMb2dzKHJvd3MpO1xuICAgICAgICB9LFxuICAgICAgICAoZXJyKSA9PiB7XG4gICAgICAgICAgY29uc29sZS53YXJuKCdGaXJlc3RvcmUgYXVkaXRfbG9ncyBzdWJzY3JpYmUgZXJyb3I6JywgZXJyPy5jb2RlIHx8IGVycj8ubWVzc2FnZSB8fCBlcnIpO1xuICAgICAgICAgIHNldEVycm9yKGBFcnJldXIgYXVkaXQ6ICR7ZXJyPy5tZXNzYWdlIHx8ICdVbmtub3duIGVycm9yJ31gKTtcbiAgICAgICAgfVxuICAgICAgKTtcbiAgICAgIHVuc3Vic2NyaWJlcnMucHVzaCh1bkF1ZGl0KTtcblxuICAgICAgc2V0SXNMb2FkaW5nKGZhbHNlKTtcbiAgICB9IGNhdGNoIChlKSB7XG4gICAgICBjb25zb2xlLndhcm4oJ0ZpcmVzdG9yZSBzeW5jIGluaXQgZmFpbGVkOicsIGUpO1xuICAgICAgc2V0RXJyb3IoYEVycmV1ciBkJ2luaXRpYWxpc2F0aW9uOiAke2V9YCk7XG4gICAgICBzZXRJc0xvYWRpbmcoZmFsc2UpO1xuICAgIH1cblxuICAgIHJldHVybiAoKSA9PiB7XG4gICAgICB1bnN1YnNjcmliZXJzLmZvckVhY2godW5zdWIgPT4ge1xuICAgICAgICB0cnkgeyBcbiAgICAgICAgICB1bnN1YigpOyBcbiAgICAgICAgfSBjYXRjaCAoZSkge1xuICAgICAgICAgIGNvbnNvbGUud2FybignRXJyb3IgdW5zdWJzY3JpYmluZzonLCBlKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfTtcbiAgfSwgW10pO1xuXG4gIC8vIEFjdGlvbiBoYW5kbGVyc1xuICBjb25zdCBzYXZlSG91cmx5RW50cnkgPSBhc3luYyAoZGF0YTogT21pdDxIb3VybHlFbnRyeURvYywgJ2lkJyB8ICd0aW1lc3RhbXAnPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzYXZlSG91cmx5RW50cnlUb0ZpcmVzdG9yZShkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGhvdXJseSBlbnRyeTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUJpZ0NhdGNoID0gYXN5bmMgKGRhdGE6IE9taXQ8QmlnQ2F0Y2hEb2MsICdpZCcgfCAndGltZXN0YW1wJz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZUJpZ0NhdGNoVG9GaXJlc3RvcmUoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBiaWcgY2F0Y2g6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IHNhdmVDb21wZXRpdG9yID0gYXN5bmMgKGRhdGE6IE9taXQ8Q29tcGV0aXRvckRvYywgJ2xhc3RVcGRhdGUnPikgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBzYXZlQ29tcGV0aXRvclRvRmlyZXN0b3JlKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgY29tcGV0aXRvcjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUp1ZGdlID0gYXN5bmMgKGRhdGE6IE9taXQ8SnVkZ2VEb2MsICdsYXN0VXBkYXRlJz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZUp1ZGdlVG9GaXJlc3RvcmUoZGF0YSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBqdWRnZTonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3Qgc2F2ZUNvbXBldGl0aW9uU2V0dGluZ3MgPSBhc3luYyAoZGF0YTogT21pdDxDb21wZXRpdGlvblNldHRpbmdzRG9jLCAndXBkYXRlZEF0Jz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZUNvbXBldGl0aW9uU2V0dGluZ3NUb0ZpcmVzdG9yZShkYXRhKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNvbXBldGl0aW9uIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIHRocm93IGVycm9yO1xuICAgIH1cbiAgfTtcblxuICBjb25zdCBzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzID0gYXN5bmMgKGRhdGE6IE9taXQ8UHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jLCAndXBkYXRlZEF0Jz4pID0+IHtcbiAgICB0cnkge1xuICAgICAgYXdhaXQgc2F2ZVB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc1RvRmlyZXN0b3JlKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcHVibGljIGFwcGVhcmFuY2Ugc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgdGhyb3cgZXJyb3I7XG4gICAgfVxuICB9O1xuXG4gIGNvbnN0IGF1ZGl0TG9nID0gYXN5bmMgKGRhdGE6IHsgYWN0aW9uOiBzdHJpbmc7IGRldGFpbHM6IHN0cmluZzsgbWV0YWRhdGE/OiBhbnkgfSkgPT4ge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBsb2dBdWRpdEFjdGlvblRvRmlyZXN0b3JlKGRhdGEpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsb2dnaW5nIGF1ZGl0IGFjdGlvbjonLCBlcnJvcik7XG4gICAgICB0aHJvdyBlcnJvcjtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgY29udGV4dFZhbHVlOiBGaXJlc3RvcmVDb250ZXh0VHlwZSA9IHtcbiAgICAvLyBEYXRhXG4gICAgaG91cmx5RW50cmllcyxcbiAgICBiaWdDYXRjaGVzLFxuICAgIGNvbXBldGl0b3JzLFxuICAgIGp1ZGdlcyxcbiAgICBjb21wZXRpdGlvblNldHRpbmdzLFxuICAgIHB1YmxpY0FwcGVhcmFuY2VTZXR0aW5ncyxcbiAgICBhdWRpdExvZ3MsXG4gICAgXG4gICAgLy8gQWN0aW9uc1xuICAgIHNhdmVIb3VybHlFbnRyeSxcbiAgICBzYXZlQmlnQ2F0Y2gsXG4gICAgc2F2ZUNvbXBldGl0b3IsXG4gICAgc2F2ZUp1ZGdlLFxuICAgIHNhdmVDb21wZXRpdGlvblNldHRpbmdzLFxuICAgIHNhdmVQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MsXG4gICAgYXVkaXRMb2csXG4gICAgXG4gICAgLy8gU3RhdHVzXG4gICAgaXNMb2FkaW5nLFxuICAgIGVycm9yXG4gIH07XG5cbiAgcmV0dXJuIChcbiAgICA8RmlyZXN0b3JlQ29udGV4dC5Qcm92aWRlciB2YWx1ZT17Y29udGV4dFZhbHVlfT5cbiAgICAgIHtjaGlsZHJlbn1cbiAgICA8L0ZpcmVzdG9yZUNvbnRleHQuUHJvdmlkZXI+XG4gICk7XG59Il0sIm5hbWVzIjpbImNyZWF0ZUNvbnRleHQiLCJ1c2VDb250ZXh0IiwidXNlRWZmZWN0IiwidXNlU3RhdGUiLCJzdWJzY3JpYmVIb3VybHlBbGwiLCJzdWJzY3JpYmVCaWdDYXRjaEFsbCIsInN1YnNjcmliZUNvbXBldGl0b3JzQWxsIiwic3Vic2NyaWJlSnVkZ2VzQWxsIiwic3Vic2NyaWJlQ29tcGV0aXRpb25TZXR0aW5nc0FsbCIsInN1YnNjcmliZVB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc0FsbCIsInN1YnNjcmliZUF1ZGl0TG9nc0FsbCIsInNhdmVIb3VybHlFbnRyeSIsInNhdmVIb3VybHlFbnRyeVRvRmlyZXN0b3JlIiwic2F2ZUJpZ0NhdGNoIiwic2F2ZUJpZ0NhdGNoVG9GaXJlc3RvcmUiLCJzYXZlQ29tcGV0aXRvciIsInNhdmVDb21wZXRpdG9yVG9GaXJlc3RvcmUiLCJzYXZlSnVkZ2UiLCJzYXZlSnVkZ2VUb0ZpcmVzdG9yZSIsInNhdmVDb21wZXRpdGlvblNldHRpbmdzIiwic2F2ZUNvbXBldGl0aW9uU2V0dGluZ3NUb0ZpcmVzdG9yZSIsInNhdmVQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MiLCJzYXZlUHVibGljQXBwZWFyYW5jZVNldHRpbmdzVG9GaXJlc3RvcmUiLCJsb2dBdWRpdEFjdGlvbiIsImxvZ0F1ZGl0QWN0aW9uVG9GaXJlc3RvcmUiLCJGaXJlc3RvcmVDb250ZXh0IiwidW5kZWZpbmVkIiwidXNlRmlyZXN0b3JlIiwiY29udGV4dCIsIkVycm9yIiwid3JpdGVBbmREaXNwYXRjaCIsImtleSIsInZhbHVlIiwianNvbiIsIkpTT04iLCJzdHJpbmdpZnkiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwid2luZG93IiwiZGlzcGF0Y2hFdmVudCIsIlN0b3JhZ2VFdmVudCIsIm5ld1ZhbHVlIiwiRmlyZXN0b3JlU3luY1Byb3ZpZGVyIiwiY2hpbGRyZW4iLCJob3VybHlFbnRyaWVzIiwic2V0SG91cmx5RW50cmllcyIsImJpZ0NhdGNoZXMiLCJzZXRCaWdDYXRjaGVzIiwiY29tcGV0aXRvcnMiLCJzZXRDb21wZXRpdG9ycyIsImp1ZGdlcyIsInNldEp1ZGdlcyIsImNvbXBldGl0aW9uU2V0dGluZ3MiLCJzZXRDb21wZXRpdGlvblNldHRpbmdzIiwicHVibGljQXBwZWFyYW5jZVNldHRpbmdzIiwic2V0UHVibGljQXBwZWFyYW5jZVNldHRpbmdzIiwiYXVkaXRMb2dzIiwic2V0QXVkaXRMb2dzIiwiaXNMb2FkaW5nIiwic2V0SXNMb2FkaW5nIiwiZXJyb3IiLCJzZXRFcnJvciIsInVuc3Vic2NyaWJlcnMiLCJ1bkhvdXJseSIsInJvd3MiLCJob3VybHkiLCJyIiwic2VjdG9yIiwiaG91ciIsImNJZCIsImNvbXBldGl0b3JJZCIsImJveE51bWJlciIsImZpc2hDb3VudCIsInRvdGFsV2VpZ2h0Iiwic3RhdHVzIiwic291cmNlIiwidGltZXN0YW1wIiwidG9EYXRlIiwiZXJyIiwiY29uc29sZSIsIndhcm4iLCJjb2RlIiwibWVzc2FnZSIsInB1c2giLCJ1bkJpZyIsImJpZyIsImJpZ2dlc3RDYXRjaCIsInVuQ29tcGV0aXRvcnMiLCJ1bkp1ZGdlcyIsInVuU2V0dGluZ3MiLCJzZXR0aW5ncyIsImxlbmd0aCIsInVuQXBwZWFyYW5jZSIsInVuQXVkaXQiLCJlIiwiZm9yRWFjaCIsInVuc3ViIiwiZGF0YSIsImF1ZGl0TG9nIiwiY29udGV4dFZhbHVlIiwiUHJvdmlkZXIiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/components/providers/FirestoreSyncProvider.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/firebase.ts":
/*!*****************************!*\
  !*** ./src/lib/firebase.ts ***!
  \*****************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   app: function() { return /* binding */ app; },\n/* harmony export */   auth: function() { return /* binding */ auth; }\n/* harmony export */ });\n/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ \"(app-pages-browser)/./node_modules/firebase/app/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/auth */ \"(app-pages-browser)/./node_modules/firebase/auth/dist/esm/index.esm.js\");\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n\n\n\nconst firebaseConfig = {\n    apiKey: \"AIzaSyAb72OZaFpAZPTcnyYbXE4uYAP03s3QHI0\" || 0,\n    authDomain: \"titanium-f7b50.firebaseapp.com\" || 0,\n    projectId: \"titanium-f7b50\" || 0,\n    storageBucket: \"titanium-f7b50.firebasestorage.app\" || 0,\n    messagingSenderId: \"30259124231\" || 0,\n    appId: \"1:30259124231:web:ebaad04109b0400f9af2a2\" || 0\n};\nconst app = (0,firebase_app__WEBPACK_IMPORTED_MODULE_0__.initializeApp)(firebaseConfig);\nconst auth = (0,firebase_auth__WEBPACK_IMPORTED_MODULE_1__.getAuth)(app);\n// Initialize Firestore with error handling\nlet db;\ntry {\n    db = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.initializeFirestore)(app, {\n        localCache: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.persistentLocalCache)({\n            tabManager: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_2__.persistentMultipleTabManager)()\n        })\n    });\n} catch (error) {\n    console.warn(\"Firestore initialization failed, using fallback:\", error);\n// Fallback for development\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmlyZWJhc2UudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7QUFBNkM7QUFDTDtBQUtaO0FBRTVCLE1BQU1LLGlCQUFpQjtJQUNyQkMsUUFBUUMseUNBQWtDLElBQUksQ0FBeUM7SUFDdkZHLFlBQVlILGdDQUFzQyxJQUFJLENBQWdDO0lBQ3RGSyxXQUFXTCxnQkFBcUMsSUFBSSxDQUFnQjtJQUNwRU8sZUFBZVAsb0NBQXlDLElBQUksQ0FBNEI7SUFDeEZTLG1CQUFtQlQsYUFBd0MsSUFBSSxDQUFhO0lBQzVFVyxPQUFPWCwwQ0FBaUMsSUFBSSxDQUEwQztBQUN4RjtBQUVPLE1BQU1hLE1BQU1wQiwyREFBYUEsQ0FBQ0ssZ0JBQWdCO0FBQzFDLE1BQU1nQixPQUFPcEIsc0RBQU9BLENBQUNtQixLQUFLO0FBRWpDLDJDQUEyQztBQUMzQyxJQUFJRTtBQUNKLElBQUk7SUFDRkEsS0FBS3BCLHVFQUFtQkEsQ0FBQ2tCLEtBQUs7UUFDNUJHLFlBQVlwQix3RUFBb0JBLENBQUM7WUFBRXFCLFlBQVlwQixnRkFBNEJBO1FBQUc7SUFDaEY7QUFDRixFQUFFLE9BQU9xQixPQUFPO0lBQ2RDLFFBQVFDLElBQUksQ0FBQyxvREFBb0RGO0FBQ2pFLDJCQUEyQjtBQUM3QiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2ZpcmViYXNlLnRzPzE1NDAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgaW5pdGlhbGl6ZUFwcCB9IGZyb20gJ2ZpcmViYXNlL2FwcCc7XG5pbXBvcnQgeyBnZXRBdXRoIH0gZnJvbSAnZmlyZWJhc2UvYXV0aCc7XG5pbXBvcnQge1xuICBpbml0aWFsaXplRmlyZXN0b3JlLFxuICBwZXJzaXN0ZW50TG9jYWxDYWNoZSxcbiAgcGVyc2lzdGVudE11bHRpcGxlVGFiTWFuYWdlcixcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcblxuY29uc3QgZmlyZWJhc2VDb25maWcgPSB7XG4gIGFwaUtleTogcHJvY2Vzcy5lbnYuTkVYVF9QVUJMSUNfRkJfQVBJX0tFWSB8fCBcIkFJemFTeUFiNzJPWmFGcEFaUFRjbnlZYlhFNHVZQVAwM3MzUUhJMFwiLFxuICBhdXRoRG9tYWluOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GQl9BVVRIX0RPTUFJTiB8fCBcInRpdGFuaXVtLWY3YjUwLmZpcmViYXNlYXBwLmNvbVwiLFxuICBwcm9qZWN0SWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZCX1BST0pFQ1RfSUQgfHwgXCJ0aXRhbml1bS1mN2I1MFwiLFxuICBzdG9yYWdlQnVja2V0OiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GQl9TVE9SQUdFX0JVQ0tFVCB8fCBcInRpdGFuaXVtLWY3YjUwLmFwcHNwb3QuY29tXCIsXG4gIG1lc3NhZ2luZ1NlbmRlcklkOiBwcm9jZXNzLmVudi5ORVhUX1BVQkxJQ19GQl9NU0dfU0VOREVSX0lEIHx8IFwiMzAyNTkxMjQyMzFcIixcbiAgYXBwSWQ6IHByb2Nlc3MuZW52Lk5FWFRfUFVCTElDX0ZCX0FQUF9JRCB8fCBcIjE6MzAyNTkxMjQyMzE6d2ViOmViYWFkMDQxMDliMDQwMGY5YWYyYTJcIixcbn07XG5cbmV4cG9ydCBjb25zdCBhcHAgPSBpbml0aWFsaXplQXBwKGZpcmViYXNlQ29uZmlnKTtcbmV4cG9ydCBjb25zdCBhdXRoID0gZ2V0QXV0aChhcHApO1xuXG4vLyBJbml0aWFsaXplIEZpcmVzdG9yZSB3aXRoIGVycm9yIGhhbmRsaW5nXG5sZXQgZGI7XG50cnkge1xuICBkYiA9IGluaXRpYWxpemVGaXJlc3RvcmUoYXBwLCB7XG4gICAgbG9jYWxDYWNoZTogcGVyc2lzdGVudExvY2FsQ2FjaGUoeyB0YWJNYW5hZ2VyOiBwZXJzaXN0ZW50TXVsdGlwbGVUYWJNYW5hZ2VyKCkgfSksXG4gIH0pO1xufSBjYXRjaCAoZXJyb3IpIHtcbiAgY29uc29sZS53YXJuKCdGaXJlc3RvcmUgaW5pdGlhbGl6YXRpb24gZmFpbGVkLCB1c2luZyBmYWxsYmFjazonLCBlcnJvcik7XG4gIC8vIEZhbGxiYWNrIGZvciBkZXZlbG9wbWVudFxufSJdLCJuYW1lcyI6WyJpbml0aWFsaXplQXBwIiwiZ2V0QXV0aCIsImluaXRpYWxpemVGaXJlc3RvcmUiLCJwZXJzaXN0ZW50TG9jYWxDYWNoZSIsInBlcnNpc3RlbnRNdWx0aXBsZVRhYk1hbmFnZXIiLCJmaXJlYmFzZUNvbmZpZyIsImFwaUtleSIsInByb2Nlc3MiLCJlbnYiLCJORVhUX1BVQkxJQ19GQl9BUElfS0VZIiwiYXV0aERvbWFpbiIsIk5FWFRfUFVCTElDX0ZCX0FVVEhfRE9NQUlOIiwicHJvamVjdElkIiwiTkVYVF9QVUJMSUNfRkJfUFJPSkVDVF9JRCIsInN0b3JhZ2VCdWNrZXQiLCJORVhUX1BVQkxJQ19GQl9TVE9SQUdFX0JVQ0tFVCIsIm1lc3NhZ2luZ1NlbmRlcklkIiwiTkVYVF9QVUJMSUNfRkJfTVNHX1NFTkRFUl9JRCIsImFwcElkIiwiTkVYVF9QVUJMSUNfRkJfQVBQX0lEIiwiYXBwIiwiYXV0aCIsImRiIiwibG9jYWxDYWNoZSIsInRhYk1hbmFnZXIiLCJlcnJvciIsImNvbnNvbGUiLCJ3YXJuIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/firebase.ts\n"));

/***/ }),

/***/ "(app-pages-browser)/./src/lib/firestore-services.ts":
/*!***************************************!*\
  !*** ./src/lib/firestore-services.ts ***!
  \***************************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   BigCatchService: function() { return /* binding */ BigCatchService; },\n/* harmony export */   COLLECTIONS: function() { return /* binding */ COLLECTIONS; },\n/* harmony export */   CompetitionSettingsService: function() { return /* binding */ CompetitionSettingsService; },\n/* harmony export */   CompetitorService: function() { return /* binding */ CompetitorService; },\n/* harmony export */   HourlyEntryService: function() { return /* binding */ HourlyEntryService; },\n/* harmony export */   JudgeService: function() { return /* binding */ JudgeService; },\n/* harmony export */   PublicAppearanceService: function() { return /* binding */ PublicAppearanceService; }\n/* harmony export */ });\n/* harmony import */ var firebase_firestore__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/firestore */ \"(app-pages-browser)/./node_modules/firebase/firestore/dist/esm/index.esm.js\");\n/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./firebase */ \"(app-pages-browser)/./src/lib/firebase.ts\");\n\n\n// Collection names\nconst COLLECTIONS = {\n    COMPETITORS: \"competitors\",\n    HOURLY_ENTRIES: \"hourly_entries\",\n    BIG_CATCHES: \"big_catches\",\n    JUDGES: \"judges\",\n    COMPETITION_SETTINGS: \"competitionSettings\",\n    PUBLIC_APPEARANCE_SETTINGS: \"publicAppearanceSettings\"\n};\n// Competitor Service\nclass CompetitorService {\n    static async saveCompetitor(competitor) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS, competitor.id);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...competitor,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving competitor:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getAllCompetitors() {\n        try {\n            const querySnapshot = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDocs)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS));\n            return querySnapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n        } catch (error) {\n            console.error(\"Error getting competitors:\", error);\n            return [];\n        }\n    }\n    static subscribeToCompetitors(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS), (snapshot)=>{\n            const competitors = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            callback(competitors);\n        }, (error)=>{\n            console.error(\"Error listening to competitors:\", error);\n        });\n    }\n    static async deleteCompetitor(id) {\n        try {\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.deleteDoc)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITORS, id));\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error deleting competitor:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n}\n// Hourly Entry Service\nclass HourlyEntryService {\n    static async saveHourlyEntry(entry) {\n        try {\n            const docId = \"\".concat(entry.sector, \"-\").concat(entry.hour, \"-\").concat(entry.competitorId);\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.HOURLY_ENTRIES, docId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...entry,\n                id: docId,\n                timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving hourly entry:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static subscribeToHourlyEntries(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.HOURLY_ENTRIES), (snapshot)=>{\n            const entries = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            callback(entries);\n        }, (error)=>{\n            console.error(\"Error listening to hourly entries:\", error);\n        });\n    }\n}\n// Big Catch Service\nclass BigCatchService {\n    static async saveBigCatch(entry) {\n        try {\n            const docId = \"\".concat(entry.sector, \"-\").concat(entry.competitorId);\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.BIG_CATCHES, docId);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...entry,\n                id: docId,\n                timestamp: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving big catch:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static subscribeToBigCatches(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.BIG_CATCHES), (snapshot)=>{\n            const entries = snapshot.docs.map((doc)=>({\n                    id: doc.id,\n                    ...doc.data()\n                }));\n            callback(entries);\n        }, (error)=>{\n            console.error(\"Error listening to big catches:\", error);\n        });\n    }\n}\n// Judge Service\nclass JudgeService {\n    static async saveJudge(judge) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.JUDGES, judge.uid);\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...judge,\n                createdAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)(),\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving judge:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getJudgeByUid(uid) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.JUDGES, uid);\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return {\n                    uid: docSnap.id,\n                    ...docSnap.data()\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error getting judge:\", error);\n            return null;\n        }\n    }\n    static subscribeToJudges(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.collection)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.JUDGES), (snapshot)=>{\n            const judges = snapshot.docs.map((doc)=>({\n                    uid: doc.id,\n                    ...doc.data()\n                }));\n            callback(judges);\n        }, (error)=>{\n            console.error(\"Error listening to judges:\", error);\n        });\n    }\n}\n// Competition Settings Service\nclass CompetitionSettingsService {\n    static async saveSettings(settings) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITION_SETTINGS, \"main\");\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...settings,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving competition settings:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getSettings() {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITION_SETTINGS, \"main\");\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return {\n                    id: docSnap.id,\n                    ...docSnap.data()\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error getting competition settings:\", error);\n            return null;\n        }\n    }\n    static subscribeToSettings(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.COMPETITION_SETTINGS, \"main\"), (doc)=>{\n            if (doc.exists()) {\n                callback({\n                    id: doc.id,\n                    ...doc.data()\n                });\n            } else {\n                callback(null);\n            }\n        }, (error)=>{\n            console.error(\"Error listening to competition settings:\", error);\n        });\n    }\n}\n// Public Appearance Settings Service\nclass PublicAppearanceService {\n    static async saveSettings(settings) {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.PUBLIC_APPEARANCE_SETTINGS, \"main\");\n            await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.setDoc)(docRef, {\n                ...settings,\n                updatedAt: (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.serverTimestamp)()\n            }, {\n                merge: true\n            });\n            return {\n                success: true\n            };\n        } catch (error) {\n            console.error(\"Error saving public appearance settings:\", error);\n            return {\n                success: false,\n                error\n            };\n        }\n    }\n    static async getSettings() {\n        try {\n            const docRef = (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.PUBLIC_APPEARANCE_SETTINGS, \"main\");\n            const docSnap = await (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.getDoc)(docRef);\n            if (docSnap.exists()) {\n                return {\n                    id: docSnap.id,\n                    ...docSnap.data()\n                };\n            }\n            return null;\n        } catch (error) {\n            console.error(\"Error getting public appearance settings:\", error);\n            return null;\n        }\n    }\n    static subscribeToSettings(callback) {\n        return (0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.onSnapshot)((0,firebase_firestore__WEBPACK_IMPORTED_MODULE_0__.doc)(_firebase__WEBPACK_IMPORTED_MODULE_1__.db, COLLECTIONS.PUBLIC_APPEARANCE_SETTINGS, \"main\"), (doc)=>{\n            if (doc.exists()) {\n                callback({\n                    id: doc.id,\n                    ...doc.data()\n                });\n            } else {\n                callback(null);\n            }\n        }, (error)=>{\n            console.error(\"Error listening to public appearance settings:\", error);\n            // Provide fallback null data on permission errors\n            callback(null);\n        });\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvZmlyZXN0b3JlLXNlcnZpY2VzLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7OztBQWM0QjtBQUNJO0FBRWhDLG1CQUFtQjtBQUNaLE1BQU1TLGNBQWM7SUFDekJDLGFBQWE7SUFDYkMsZ0JBQWdCO0lBQ2hCQyxhQUFhO0lBQ2JDLFFBQVE7SUFDUkMsc0JBQXNCO0lBQ3RCQyw0QkFBNEI7QUFDOUIsRUFBVztBQTJGWCxxQkFBcUI7QUFDZCxNQUFNQztJQUNYLGFBQWFDLGVBQWVDLFVBQTBELEVBQUU7UUFDdEYsSUFBSTtZQUNGLE1BQU1DLFNBQVNsQix1REFBR0EsQ0FBQ08seUNBQUVBLEVBQUVDLFlBQVlDLFdBQVcsRUFBRVEsV0FBV0UsRUFBRTtZQUM3RCxNQUFNbEIsMERBQU1BLENBQUNpQixRQUFRO2dCQUNuQixHQUFHRCxVQUFVO2dCQUNiRyxXQUFXZCxtRUFBZUE7Z0JBQzFCZSxXQUFXZixtRUFBZUE7WUFDNUIsR0FBRztnQkFBRWdCLE9BQU87WUFBSztZQUNqQixPQUFPO2dCQUFFQyxTQUFTO1lBQUs7UUFDekIsRUFBRSxPQUFPQyxPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw0QkFBNEJBO1lBQzFDLE9BQU87Z0JBQUVELFNBQVM7Z0JBQU9DO1lBQU07UUFDakM7SUFDRjtJQUVBLGFBQWFFLG9CQUE4QztRQUN6RCxJQUFJO1lBQ0YsTUFBTUMsZ0JBQWdCLE1BQU14QiwyREFBT0EsQ0FBQ0osOERBQVVBLENBQUNRLHlDQUFFQSxFQUFFQyxZQUFZQyxXQUFXO1lBQzFFLE9BQU9rQixjQUFjQyxJQUFJLENBQUNDLEdBQUcsQ0FBQzdCLENBQUFBLE1BQVE7b0JBQ3BDbUIsSUFBSW5CLElBQUltQixFQUFFO29CQUNWLEdBQUduQixJQUFJOEIsSUFBSSxFQUFFO2dCQUNmO1FBQ0YsRUFBRSxPQUFPTixPQUFPO1lBQ2RDLFFBQVFELEtBQUssQ0FBQyw4QkFBOEJBO1lBQzVDLE9BQU8sRUFBRTtRQUNYO0lB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LEVBQUU7WUFDL0QsTUFBTXdDLFVBQVUsTUFBTXBELDBEQUFNQSxDQUFDZ0I7WUFFN0IsSUFBSW9DLFFBQVFDLE1BQU0sSUFBSTtnQkFDcEIsT0FBTztvQkFBRXBDLElBQUltQyxRQUFRbkMsRUFBRTtvQkFBRSxHQUFHbUMsUUFBUXhCLElBQUksRUFBRTtnQkFBQztZQUM3QztZQUNBLE9BQU87UUFDVCxFQUFFLE9BQU9OLE9BQU87WUFDZEMsUUFBUUQsS0FBSyxDQUFDLDZDQUE2Q0E7WUFDM0QsT0FBTztRQUNUO0lBQ0Y7SUFFQSxPQUFPc0Msb0JBQW9COUIsUUFBZ0UsRUFBRTtRQUMzRixPQUFPM0IsOERBQVVBLENBQ2ZMLHVEQUFHQSxDQUFDTyx5Q0FBRUEsRUFBRUMsWUFBWU0sMEJBQTBCLEVBQUUsU0FDaEQsQ0FBQ2Q7WUFDQyxJQUFJQSxJQUFJdUQsTUFBTSxJQUFJO2dCQUNoQnZCLFNBQVM7b0JBQUViLElBQUluQixJQUFJbUIsRUFBRTtvQkFBRSxHQUFHbkIsSUFBSThCLElBQUksRUFBRTtnQkFBQztZQUN2QyxPQUFPO2dCQUNMRSxTQUFTO1lBQ1g7UUFDRixHQUNBLENBQUNSO1lBQ0NDLFFBQVFELEtBQUssQ0FBQyxrREFBa0RBO1lBQ2hFLGtEQUFrRDtZQUNsRFEsU0FBUztRQUNYO0lBRUo7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL2ZpcmVzdG9yZS1zZXJ2aWNlcy50cz8xNDQxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFxuICBjb2xsZWN0aW9uLCBcbiAgZG9jLCBcbiAgc2V0RG9jLCBcbiAgZ2V0RG9jLCBcbiAgZ2V0RG9jcywgXG4gIHVwZGF0ZURvYywgXG4gIGRlbGV0ZURvYywgXG4gIHF1ZXJ5LCBcbiAgd2hlcmUsIFxuICBvcmRlckJ5LCBcbiAgb25TbmFwc2hvdCxcbiAgc2VydmVyVGltZXN0YW1wLFxuICBUaW1lc3RhbXBcbn0gZnJvbSAnZmlyZWJhc2UvZmlyZXN0b3JlJztcbmltcG9ydCB7IGRiIH0gZnJvbSAnLi9maXJlYmFzZSc7XG5cbi8vIENvbGxlY3Rpb24gbmFtZXNcbmV4cG9ydCBjb25zdCBDT0xMRUNUSU9OUyA9IHtcbiAgQ09NUEVUSVRPUlM6ICdjb21wZXRpdG9ycycsXG4gIEhPVVJMWV9FTlRSSUVTOiAnaG91cmx5X2VudHJpZXMnLFxuICBCSUdfQ0FUQ0hFUzogJ2JpZ19jYXRjaGVzJyxcbiAgSlVER0VTOiAnanVkZ2VzJyxcbiAgQ09NUEVUSVRJT05fU0VUVElOR1M6ICdjb21wZXRpdGlvblNldHRpbmdzJyxcbiAgUFVCTElDX0FQUEVBUkFOQ0VfU0VUVElOR1M6ICdwdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3MnXG59IGFzIGNvbnN0O1xuXG4vLyBDb21wZXRpdG9yIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBDb21wZXRpdG9yRG9jIHtcbiAgaWQ6IHN0cmluZztcbiAgc2VjdG9yOiBzdHJpbmc7XG4gIGJveE51bWJlcjogbnVtYmVyO1xuICBib3hDb2RlOiBzdHJpbmc7XG4gIGZ1bGxOYW1lOiBzdHJpbmc7XG4gIGVxdWlwZTogc3RyaW5nO1xuICBwaG90bzogc3RyaW5nO1xuICBzdGF0dXM6ICdhY3RpdmUnIHwgJ2luYWN0aXZlJztcbiAgY3JlYXRlZEF0OiBUaW1lc3RhbXA7XG4gIHVwZGF0ZWRBdDogVGltZXN0YW1wO1xufVxuXG4vLyBIb3VybHkgZW50cnkgaW50ZXJmYWNlXG5leHBvcnQgaW50ZXJmYWNlIEhvdXJseUVudHJ5RG9jIHtcbiAgaWQ6IHN0cmluZztcbiAgc2VjdG9yOiBzdHJpbmc7XG4gIGhvdXI6IG51bWJlcjtcbiAgY29tcGV0aXRvcklkOiBzdHJpbmc7XG4gIGJveE51bWJlcjogbnVtYmVyO1xuICBmaXNoQ291bnQ6IG51bWJlcjtcbiAgdG90YWxXZWlnaHQ6IG51bWJlcjtcbiAgc3RhdHVzOiAnZW1wdHknIHwgJ2luX3Byb2dyZXNzJyB8ICdsb2NrZWRfanVkZ2UnIHwgJ2xvY2tlZF9hZG1pbicgfCAnb2ZmbGluZV9qdWRnZScgfCAnb2ZmbGluZV9hZG1pbicgfCAnZXJyb3InO1xuICBzb3VyY2U6ICdKdWRnZScgfCAnQWRtaW4nO1xuICB1cGRhdGVkQnk6IHN0cmluZztcbiAgdGltZXN0YW1wOiBUaW1lc3RhbXA7XG59XG5cbi8vIEJpZyBjYXRjaCBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgQmlnQ2F0Y2hEb2Mge1xuICBpZDogc3RyaW5nO1xuICBzZWN0b3I6IHN0cmluZztcbiAgY29tcGV0aXRvcklkOiBzdHJpbmc7XG4gIGJveE51bWJlcjogbnVtYmVyO1xuICBiaWdnZXN0Q2F0Y2g6IG51bWJlcjtcbiAgc3RhdHVzOiAnZW1wdHknIHwgJ2luX3Byb2dyZXNzJyB8ICdsb2NrZWRfanVkZ2UnIHwgJ2xvY2tlZF9hZG1pbicgfCAnb2ZmbGluZV9qdWRnZScgfCAnb2ZmbGluZV9hZG1pbicgfCAnZXJyb3InO1xuICBzb3VyY2U6ICdKdWRnZScgfCAnQWRtaW4nO1xuICB1cGRhdGVkQnk6IHN0cmluZztcbiAgdGltZXN0YW1wOiBUaW1lc3RhbXA7XG59XG5cbi8vIEp1ZGdlIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBKdWRnZURvYyB7XG4gIHVpZDogc3RyaW5nO1xuICByb2xlOiAnYWRtaW4nIHwgJ2p1ZGdlJztcbiAgc2VjdG9yOiBzdHJpbmcgfCBudWxsO1xuICBuYW1lOiBzdHJpbmc7XG4gIHVzZXJuYW1lOiBzdHJpbmc7XG4gIGVtYWlsOiBzdHJpbmc7XG4gIHN0YXR1czogJ2FjdGl2ZScgfCAnaW5hY3RpdmUnO1xuICBjcmVhdGVkQXQ6IFRpbWVzdGFtcDtcbiAgdXBkYXRlZEF0OiBUaW1lc3RhbXA7XG59XG5cbi8vIENvbXBldGl0aW9uIHNldHRpbmdzIGludGVyZmFjZVxuZXhwb3J0IGludGVyZmFjZSBDb21wZXRpdGlvblNldHRpbmdzRG9jIHtcbiAgaWQ6IHN0cmluZztcbiAgc3RhcnREYXRlVGltZTogc3RyaW5nO1xuICBlbmREYXRlVGltZTogc3RyaW5nO1xuICBzb3VuZEVuYWJsZWQ6IGJvb2xlYW47XG4gIHVwZGF0ZWRBdDogVGltZXN0YW1wO1xufVxuXG4vLyBQdWJsaWMgYXBwZWFyYW5jZSBzZXR0aW5ncyBpbnRlcmZhY2VcbmV4cG9ydCBpbnRlcmZhY2UgUHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jIHtcbiAgaWQ6IHN0cmluZztcbiAgbG9nb3M6IHtcbiAgICBsaWdodDogc3RyaW5nO1xuICAgIGRhcms6IHN0cmluZztcbiAgfTtcbiAgc3BvbnNvcnM6IEFycmF5PHtcbiAgICBpZDogc3RyaW5nO1xuICAgIG5hbWU6IHN0cmluZztcbiAgICBsb2dvOiBzdHJpbmc7XG4gICAgdGllcjogJ3RpdGxlJyB8ICdnb2xkJyB8ICdzaWx2ZXInIHwgJ2Jyb256ZSc7XG4gIH0+O1xuICBzb2NpYWxMaW5rczoge1xuICAgIHlvdXR1YmU6IHN0cmluZztcbiAgICBmYWNlYm9vazogc3RyaW5nO1xuICAgIGluc3RhZ3JhbTogc3RyaW5nO1xuICAgIHdlYnNpdGU6IHN0cmluZztcbiAgfTtcbiAgZm9vdGVyVGV4dDogc3RyaW5nO1xuICBzdHJlYW1EZXNjcmlwdGlvbjogc3RyaW5nO1xuICBzdHJlYW1Vcmw6IHN0cmluZztcbiAgdXBkYXRlZEF0OiBUaW1lc3RhbXA7XG59XG5cbi8vIENvbXBldGl0b3IgU2VydmljZVxuZXhwb3J0IGNsYXNzIENvbXBldGl0b3JTZXJ2aWNlIHtcbiAgc3RhdGljIGFzeW5jIHNhdmVDb21wZXRpdG9yKGNvbXBldGl0b3I6IE9taXQ8Q29tcGV0aXRvckRvYywgJ2NyZWF0ZWRBdCcgfCAndXBkYXRlZEF0Jz4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9jUmVmID0gZG9jKGRiLCBDT0xMRUNUSU9OUy5DT01QRVRJVE9SUywgY29tcGV0aXRvci5pZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmNvbXBldGl0b3IsXG4gICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKClcbiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBjb21wZXRpdG9yOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRBbGxDb21wZXRpdG9ycygpOiBQcm9taXNlPENvbXBldGl0b3JEb2NbXT4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBxdWVyeVNuYXBzaG90ID0gYXdhaXQgZ2V0RG9jcyhjb2xsZWN0aW9uKGRiLCBDT0xMRUNUSU9OUy5DT01QRVRJVE9SUykpO1xuICAgICAgcmV0dXJuIHF1ZXJ5U25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICAgIGlkOiBkb2MuaWQsXG4gICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgIH0pKSBhcyBDb21wZXRpdG9yRG9jW107XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGdldHRpbmcgY29tcGV0aXRvcnM6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBzdWJzY3JpYmVUb0NvbXBldGl0b3JzKGNhbGxiYWNrOiAoY29tcGV0aXRvcnM6IENvbXBldGl0b3JEb2NbXSkgPT4gdm9pZCkge1xuICAgIHJldHVybiBvblNuYXBzaG90KFxuICAgICAgY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTlMuQ09NUEVUSVRPUlMpLFxuICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgIGNvbnN0IGNvbXBldGl0b3JzID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pKSBhcyBDb21wZXRpdG9yRG9jW107XG4gICAgICAgIGNhbGxiYWNrKGNvbXBldGl0b3JzKTtcbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGVuaW5nIHRvIGNvbXBldGl0b3JzOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG5cbiAgc3RhdGljIGFzeW5jIGRlbGV0ZUNvbXBldGl0b3IoaWQ6IHN0cmluZykge1xuICAgIHRyeSB7XG4gICAgICBhd2FpdCBkZWxldGVEb2MoZG9jKGRiLCBDT0xMRUNUSU9OUy5DT01QRVRJVE9SUywgaWQpKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZGVsZXRpbmcgY29tcGV0aXRvcjonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgICB9XG4gIH1cbn1cblxuLy8gSG91cmx5IEVudHJ5IFNlcnZpY2VcbmV4cG9ydCBjbGFzcyBIb3VybHlFbnRyeVNlcnZpY2Uge1xuICBzdGF0aWMgYXN5bmMgc2F2ZUhvdXJseUVudHJ5KGVudHJ5OiBPbWl0PEhvdXJseUVudHJ5RG9jLCAndGltZXN0YW1wJz4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9jSWQgPSBgJHtlbnRyeS5zZWN0b3J9LSR7ZW50cnkuaG91cn0tJHtlbnRyeS5jb21wZXRpdG9ySWR9YDtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgQ09MTEVDVElPTlMuSE9VUkxZX0VOVFJJRVMsIGRvY0lkKTtcbiAgICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgICAgLi4uZW50cnksXG4gICAgICAgIGlkOiBkb2NJZCxcbiAgICAgICAgdGltZXN0YW1wOiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGhvdXJseSBlbnRyeTonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3Vic2NyaWJlVG9Ib3VybHlFbnRyaWVzKGNhbGxiYWNrOiAoZW50cmllczogSG91cmx5RW50cnlEb2NbXSkgPT4gdm9pZCkge1xuICAgIHJldHVybiBvblNuYXBzaG90KFxuICAgICAgY29sbGVjdGlvbihkYiwgQ09MTEVDVElPTlMuSE9VUkxZX0VOVFJJRVMpLFxuICAgICAgKHNuYXBzaG90KSA9PiB7XG4gICAgICAgIGNvbnN0IGVudHJpZXMgPSBzbmFwc2hvdC5kb2NzLm1hcChkb2MgPT4gKHtcbiAgICAgICAgICBpZDogZG9jLmlkLFxuICAgICAgICAgIC4uLmRvYy5kYXRhKClcbiAgICAgICAgfSkpIGFzIEhvdXJseUVudHJ5RG9jW107XG4gICAgICAgIGNhbGxiYWNrKGVudHJpZXMpO1xuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0ZW5pbmcgdG8gaG91cmx5IGVudHJpZXM6JywgZXJyb3IpO1xuICAgICAgfVxuICAgICk7XG4gIH1cbn1cblxuLy8gQmlnIENhdGNoIFNlcnZpY2VcbmV4cG9ydCBjbGFzcyBCaWdDYXRjaFNlcnZpY2Uge1xuICBzdGF0aWMgYXN5bmMgc2F2ZUJpZ0NhdGNoKGVudHJ5OiBPbWl0PEJpZ0NhdGNoRG9jLCAndGltZXN0YW1wJz4pIHtcbiAgICB0cnkge1xuICAgICAgY29uc3QgZG9jSWQgPSBgJHtlbnRyeS5zZWN0b3J9LSR7ZW50cnkuY29tcGV0aXRvcklkfWA7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLkJJR19DQVRDSEVTLCBkb2NJZCk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLmVudHJ5LFxuICAgICAgICBpZDogZG9jSWQsXG4gICAgICAgIHRpbWVzdGFtcDogc2VydmVyVGltZXN0YW1wKClcbiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBiaWcgY2F0Y2g6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIHN1YnNjcmliZVRvQmlnQ2F0Y2hlcyhjYWxsYmFjazogKGVudHJpZXM6IEJpZ0NhdGNoRG9jW10pID0+IHZvaWQpIHtcbiAgICByZXR1cm4gb25TbmFwc2hvdChcbiAgICAgIGNvbGxlY3Rpb24oZGIsIENPTExFQ1RJT05TLkJJR19DQVRDSEVTKSxcbiAgICAgIChzbmFwc2hvdCkgPT4ge1xuICAgICAgICBjb25zdCBlbnRyaWVzID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICAgICAgaWQ6IGRvYy5pZCxcbiAgICAgICAgICAuLi5kb2MuZGF0YSgpXG4gICAgICAgIH0pKSBhcyBCaWdDYXRjaERvY1tdO1xuICAgICAgICBjYWxsYmFjayhlbnRyaWVzKTtcbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGVuaW5nIHRvIGJpZyBjYXRjaGVzOicsIGVycm9yKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG59XG5cbi8vIEp1ZGdlIFNlcnZpY2VcbmV4cG9ydCBjbGFzcyBKdWRnZVNlcnZpY2Uge1xuICBzdGF0aWMgYXN5bmMgc2F2ZUp1ZGdlKGp1ZGdlOiBPbWl0PEp1ZGdlRG9jLCAnY3JlYXRlZEF0JyB8ICd1cGRhdGVkQXQnPikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLkpVREdFUywganVkZ2UudWlkKTtcbiAgICAgIGF3YWl0IHNldERvYyhkb2NSZWYsIHtcbiAgICAgICAgLi4uanVkZ2UsXG4gICAgICAgIGNyZWF0ZWRBdDogc2VydmVyVGltZXN0YW1wKCksXG4gICAgICAgIHVwZGF0ZWRBdDogc2VydmVyVGltZXN0YW1wKClcbiAgICAgIH0sIHsgbWVyZ2U6IHRydWUgfSk7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiB0cnVlIH07XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIHNhdmluZyBqdWRnZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4geyBzdWNjZXNzOiBmYWxzZSwgZXJyb3IgfTtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgYXN5bmMgZ2V0SnVkZ2VCeVVpZCh1aWQ6IHN0cmluZyk6IFByb21pc2U8SnVkZ2VEb2MgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgQ09MTEVDVElPTlMuSlVER0VTLCB1aWQpO1xuICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpO1xuICAgICAgXG4gICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgICByZXR1cm4geyB1aWQ6IGRvY1NuYXAuaWQsIC4uLmRvY1NuYXAuZGF0YSgpIH0gYXMgSnVkZ2VEb2M7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBqdWRnZTonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3Vic2NyaWJlVG9KdWRnZXMoY2FsbGJhY2s6IChqdWRnZXM6IEp1ZGdlRG9jW10pID0+IHZvaWQpIHtcbiAgICByZXR1cm4gb25TbmFwc2hvdChcbiAgICAgIGNvbGxlY3Rpb24oZGIsIENPTExFQ1RJT05TLkpVREdFUyksXG4gICAgICAoc25hcHNob3QpID0+IHtcbiAgICAgICAgY29uc3QganVkZ2VzID0gc25hcHNob3QuZG9jcy5tYXAoZG9jID0+ICh7XG4gICAgICAgICAgdWlkOiBkb2MuaWQsXG4gICAgICAgICAgLi4uZG9jLmRhdGEoKVxuICAgICAgICB9KSkgYXMgSnVkZ2VEb2NbXTtcbiAgICAgICAgY2FsbGJhY2soanVkZ2VzKTtcbiAgICAgIH0sXG4gICAgICAoZXJyb3IpID0+IHtcbiAgICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgbGlzdGVuaW5nIHRvIGp1ZGdlczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBDb21wZXRpdGlvbiBTZXR0aW5ncyBTZXJ2aWNlXG5leHBvcnQgY2xhc3MgQ29tcGV0aXRpb25TZXR0aW5nc1NlcnZpY2Uge1xuICBzdGF0aWMgYXN5bmMgc2F2ZVNldHRpbmdzKHNldHRpbmdzOiBPbWl0PENvbXBldGl0aW9uU2V0dGluZ3NEb2MsICd1cGRhdGVkQXQnPikge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLkNPTVBFVElUSU9OX1NFVFRJTkdTLCAnbWFpbicpO1xuICAgICAgYXdhaXQgc2V0RG9jKGRvY1JlZiwge1xuICAgICAgICAuLi5zZXR0aW5ncyxcbiAgICAgICAgdXBkYXRlZEF0OiBzZXJ2ZXJUaW1lc3RhbXAoKVxuICAgICAgfSwgeyBtZXJnZTogdHJ1ZSB9KTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IHRydWUgfTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3Igc2F2aW5nIGNvbXBldGl0aW9uIHNldHRpbmdzOicsIGVycm9yKTtcbiAgICAgIHJldHVybiB7IHN1Y2Nlc3M6IGZhbHNlLCBlcnJvciB9O1xuICAgIH1cbiAgfVxuXG4gIHN0YXRpYyBhc3luYyBnZXRTZXR0aW5ncygpOiBQcm9taXNlPENvbXBldGl0aW9uU2V0dGluZ3NEb2MgfCBudWxsPiB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgQ09MTEVDVElPTlMuQ09NUEVUSVRJT05fU0VUVElOR1MsICdtYWluJyk7XG4gICAgICBjb25zdCBkb2NTbmFwID0gYXdhaXQgZ2V0RG9jKGRvY1JlZik7XG4gICAgICBcbiAgICAgIGlmIChkb2NTbmFwLmV4aXN0cygpKSB7XG4gICAgICAgIHJldHVybiB7IGlkOiBkb2NTbmFwLmlkLCAuLi5kb2NTbmFwLmRhdGEoKSB9IGFzIENvbXBldGl0aW9uU2V0dGluZ3NEb2M7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBjb21wZXRpdGlvbiBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3Vic2NyaWJlVG9TZXR0aW5ncyhjYWxsYmFjazogKHNldHRpbmdzOiBDb21wZXRpdGlvblNldHRpbmdzRG9jIHwgbnVsbCkgPT4gdm9pZCkge1xuICAgIHJldHVybiBvblNuYXBzaG90KFxuICAgICAgZG9jKGRiLCBDT0xMRUNUSU9OUy5DT01QRVRJVElPTl9TRVRUSU5HUywgJ21haW4nKSxcbiAgICAgIChkb2MpID0+IHtcbiAgICAgICAgaWYgKGRvYy5leGlzdHMoKSkge1xuICAgICAgICAgIGNhbGxiYWNrKHsgaWQ6IGRvYy5pZCwgLi4uZG9jLmRhdGEoKSB9IGFzIENvbXBldGl0aW9uU2V0dGluZ3NEb2MpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGNhbGxiYWNrKG51bGwpO1xuICAgICAgICB9XG4gICAgICB9LFxuICAgICAgKGVycm9yKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoJ0Vycm9yIGxpc3RlbmluZyB0byBjb21wZXRpdGlvbiBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICB9XG4gICAgKTtcbiAgfVxufVxuXG4vLyBQdWJsaWMgQXBwZWFyYW5jZSBTZXR0aW5ncyBTZXJ2aWNlXG5leHBvcnQgY2xhc3MgUHVibGljQXBwZWFyYW5jZVNlcnZpY2Uge1xuICBzdGF0aWMgYXN5bmMgc2F2ZVNldHRpbmdzKHNldHRpbmdzOiBPbWl0PFB1YmxpY0FwcGVhcmFuY2VTZXR0aW5nc0RvYywgJ3VwZGF0ZWRBdCc+KSB7XG4gICAgdHJ5IHtcbiAgICAgIGNvbnN0IGRvY1JlZiA9IGRvYyhkYiwgQ09MTEVDVElPTlMuUFVCTElDX0FQUEVBUkFOQ0VfU0VUVElOR1MsICdtYWluJyk7XG4gICAgICBhd2FpdCBzZXREb2MoZG9jUmVmLCB7XG4gICAgICAgIC4uLnNldHRpbmdzLFxuICAgICAgICB1cGRhdGVkQXQ6IHNlcnZlclRpbWVzdGFtcCgpXG4gICAgICB9LCB7IG1lcmdlOiB0cnVlIH0pO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogdHJ1ZSB9O1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBzYXZpbmcgcHVibGljIGFwcGVhcmFuY2Ugc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgcmV0dXJuIHsgc3VjY2VzczogZmFsc2UsIGVycm9yIH07XG4gICAgfVxuICB9XG5cbiAgc3RhdGljIGFzeW5jIGdldFNldHRpbmdzKCk6IFByb21pc2U8UHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jIHwgbnVsbD4ge1xuICAgIHRyeSB7XG4gICAgICBjb25zdCBkb2NSZWYgPSBkb2MoZGIsIENPTExFQ1RJT05TLlBVQkxJQ19BUFBFQVJBTkNFX1NFVFRJTkdTLCAnbWFpbicpO1xuICAgICAgY29uc3QgZG9jU25hcCA9IGF3YWl0IGdldERvYyhkb2NSZWYpO1xuICAgICAgXG4gICAgICBpZiAoZG9jU25hcC5leGlzdHMoKSkge1xuICAgICAgICByZXR1cm4geyBpZDogZG9jU25hcC5pZCwgLi4uZG9jU25hcC5kYXRhKCkgfSBhcyBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2M7XG4gICAgICB9XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2V0dGluZyBwdWJsaWMgYXBwZWFyYW5jZSBzZXR0aW5nczonLCBlcnJvcik7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH1cblxuICBzdGF0aWMgc3Vic2NyaWJlVG9TZXR0aW5ncyhjYWxsYmFjazogKHNldHRpbmdzOiBQdWJsaWNBcHBlYXJhbmNlU2V0dGluZ3NEb2MgfCBudWxsKSA9PiB2b2lkKSB7XG4gICAgcmV0dXJuIG9uU25hcHNob3QoXG4gICAgICBkb2MoZGIsIENPTExFQ1RJT05TLlBVQkxJQ19BUFBFQVJBTkNFX1NFVFRJTkdTLCAnbWFpbicpLFxuICAgICAgKGRvYykgPT4ge1xuICAgICAgICBpZiAoZG9jLmV4aXN0cygpKSB7XG4gICAgICAgICAgY2FsbGJhY2soeyBpZDogZG9jLmlkLCAuLi5kb2MuZGF0YSgpIH0gYXMgUHVibGljQXBwZWFyYW5jZVNldHRpbmdzRG9jKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgICAgfVxuICAgICAgfSxcbiAgICAgIChlcnJvcikgPT4ge1xuICAgICAgICBjb25zb2xlLmVycm9yKCdFcnJvciBsaXN0ZW5pbmcgdG8gcHVibGljIGFwcGVhcmFuY2Ugc2V0dGluZ3M6JywgZXJyb3IpO1xuICAgICAgICAvLyBQcm92aWRlIGZhbGxiYWNrIG51bGwgZGF0YSBvbiBwZXJtaXNzaW9uIGVycm9yc1xuICAgICAgICBjYWxsYmFjayhudWxsKTtcbiAgICAgIH1cbiAgICApO1xuICB9XG59Il0sIm5hbWVzIjpbImNvbGxlY3Rpb24iLCJkb2MiLCJzZXREb2MiLCJnZXREb2MiLCJnZXREb2NzIiwiZGVsZXRlRG9jIiwib25TbmFwc2hvdCIsInNlcnZlclRpbWVzdGFtcCIsImRiIiwiQ09MTEVDVElPTlMiLCJDT01QRVRJVE9SUyIsIkhPVVJMWV9FTlRSSUVTIiwiQklHX0NBVENIRVMiLCJKVURHRVMiLCJDT01QRVRJVElPTl9TRVRUSU5HUyIsIlBVQkxJQ19BUFBFQVJBTkNFX1NFVFRJTkdTIiwiQ29tcGV0aXRvclNlcnZpY2UiLCJzYXZlQ29tcGV0aXRvciIsImNvbXBldGl0b3IiLCJkb2NSZWYiLCJpZCIsImNyZWF0ZWRBdCIsInVwZGF0ZWRBdCIsIm1lcmdlIiwic3VjY2VzcyIsImVycm9yIiwiY29uc29sZSIsImdldEFsbENvbXBldGl0b3JzIiwicXVlcnlTbmFwc2hvdCIsImRvY3MiLCJtYXAiLCJkYXRhIiwic3Vic2NyaWJlVG9Db21wZXRpdG9ycyIsImNhbGxiYWNrIiwic25hcHNob3QiLCJjb21wZXRpdG9ycyIsImRlbGV0ZUNvbXBldGl0b3IiLCJIb3VybHlFbnRyeVNlcnZpY2UiLCJzYXZlSG91cmx5RW50cnkiLCJlbnRyeSIsImRvY0lkIiwic2VjdG9yIiwiaG91ciIsImNvbXBldGl0b3JJZCIsInRpbWVzdGFtcCIsInN1YnNjcmliZVRvSG91cmx5RW50cmllcyIsImVudHJpZXMiLCJCaWdDYXRjaFNlcnZpY2UiLCJzYXZlQmlnQ2F0Y2giLCJzdWJzY3JpYmVUb0JpZ0NhdGNoZXMiLCJKdWRnZVNlcnZpY2UiLCJzYXZlSnVkZ2UiLCJqdWRnZSIsInVpZCIsImdldEp1ZGdlQnlVaWQiLCJkb2NTbmFwIiwiZXhpc3RzIiwic3Vic2NyaWJlVG9KdWRnZXMiLCJqdWRnZXMiLCJDb21wZXRpdGlvblNldHRpbmdzU2VydmljZSIsInNhdmVTZXR0aW5ncyIsInNldHRpbmdzIiwiZ2V0U2V0dGluZ3MiLCJzdWJzY3JpYmVUb1NldHRpbmdzIiwiUHVibGljQXBwZWFyYW5jZVNlcnZpY2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/firestore-services.ts\n"));

/***/ })

});